<<<<<<< HEAD
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivina la Canción</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        
        :root {
            --primary-color: #7b00ff;
            --secondary-color: #00eaff;
            --background-start: #1a0033;
            --background-end: #000000;
            --card-background: rgba(255, 255, 255, 0.08);
            --text-color: #e0e0e0;
            --light-text-color: #ffffff;
            --correct-color: #00cc00;
            --incorrect-color: #e6006e;
            --warning-color: #e6e600;
            --shadow-base: 0 0 8px rgba(0, 255, 255, 0.25);
            --button-shadow-neon: 0 0 8px var(--secondary-color), 0 0 12px var(--secondary-color);
            --border-radius: 15px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: radial-gradient(circle at center, var(--background-start) 0%, var(--background-end) 100%);
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
        }

        .screen {
            display: none;
            width: 100%;
            max-width: 420px;
            background: var(--card-background);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-base);
            text-align: center;
            animation: fadeIn .7s ease-in-out;
            border: 1px solid var(--secondary-color);
            backdrop-filter: blur(3px);
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1, h2, h3 {
            margin-bottom: 20px;
            font-family: 'Luckiest Guy', cursive;
            text-shadow: 0 0 3px rgba(123, 0, 255, 0.7), 0 0 6px rgba(123, 0, 255, 0.5);
        }

        .logo {
            max-width: 220px;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.4));
        }

        h1 {
            font-size: 3rem;
            background: -webkit-linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text; /* ¡Añade esta línea! */
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            text-shadow: 0 0 6px rgba(123, 0, 255, 0.8), 0 0 10px rgba(0, 234, 255, 0.6);
        }

        .btn, .category-btn, .player-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: none;
            border-radius: 10px;
            background-image: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: var(--light-text-color);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform .2s, box-shadow .2s, background-image .3s;
            text-align: center;
            text-decoration: none;
            text-shadow: 0 0 4px rgba(255, 255, 255, 0.6);
            box-shadow: var(--button-shadow-neon);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn:hover, .category-btn:hover, .player-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 10px var(--primary-color), 0 0 18px var(--secondary-color);
            background-image: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
        }

        .btn.secondary {
            background-image: linear-gradient(45deg, #6c757d, #343a40);
            box-shadow: 0 0 8px rgba(108, 117, 125, 0.5);
        }
        .btn.secondary:hover {
            background-image: linear-gradient(45deg, #343a40, #6c757d);
            box-shadow: 0 0 12px rgba(108, 117, 125, 0.7);
        }

        .btn.tertiary {
            background-image: linear-gradient(45deg, var(--warning-color), #ff007b);
            box-shadow: 0 0 8px rgba(255, 193, 7, 0.5);
        }
        .btn.tertiary:hover {
            background-image: linear-gradient(45deg, #ff007b, var(--warning-color));
            box-shadow: 0 0 12px rgba(255, 193, 7, 0.7);
        }

        /* Ajustes para el recuadro del encabezado del juego */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 20px; /* Aumentado el padding para más espacio */
            min-height: 80px; /* Nueva altura mínima para el recuadro */
            background: rgba(0, 0, 0, 0.25);
            border-radius: 10px;
            border: 1px solid var(--secondary-color);
        }

        .game-header div {
            flex: 1;
            /* Se podría añadir flex-basis aquí si queremos que los divs internos tengan un tamaño base diferente */
        }

        .game-info {
            text-align: left;
        }

        .game-score {
            text-align: right;
            display: flex; /* Usar flexbox para alinear contador y puntos */
            flex-direction: column; /* Apilar verticalmente */
            align-items: flex-end; /* Alinear a la derecha */
            justify-content: center; /* Centrar verticalmente */
            gap: 5px; /* Espacio entre los elementos */
        }

        #question-counter {
            font-weight: 700;
            color: var(--warning-color);
            text-shadow: 0 0 2px rgba(230, 230, 0, 0.8);
            font-size: 1.1rem; /* Ligeramente más grande para que se vea mejor */
        }

        #points-display { /* Aseguramos que este elemento se vea bien con el nuevo espacio */
            font-size: 1.1rem; /* Ligeramente más grande */
            font-weight: 700;
            color: var(--light-text-color);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
        }

        #player-turn {
            font-size: 1.6rem; /* Un poco más grande para destacar */
            font-weight: 700;
            color: var(--secondary-color);
            text-shadow: 0 0 4px rgba(0, 234, 255, 0.8);
            margin-bottom: 10px;
        }

        .attempts-counter {
            font-weight: 700;
            padding: 5px 10px;
            border-radius: 5px;
            color: var(--light-text-color);
            transition: background-color .3s, box-shadow .3s;
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.3);
            font-size: 1rem; /* Asegurar que el tamaño sea legible */
        }

        #attempts-counter[style*="var(--correct-color)"] {
            box-shadow: 0 0 8px var(--correct-color);
        }
        #attempts-counter[style*="var(--warning-color)"] {
            box-shadow: 0 0 8px var(--warning-color);
        }
        #attempts-counter[style*="var(--incorrect-color)"] {
            box-shadow: 0 0 8px var(--incorrect-color);
        }

        #play-song-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            padding-left: 0px;
            box-shadow: 0 0 10px var(--secondary-color);
            border: 1px solid var(--secondary-color);
        }
        #play-song-btn:hover {
            box-shadow: 0 0 15px var(--secondary-color), 0 0 20px var(--secondary-color);
        }

        #answer-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .answer-btn {
            background-image: none;
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-color);
            text-align: center;
            padding: 12px;
            height: 90px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 0;
            font-size: .95rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.15);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
        }

        .answer-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 8px var(--secondary-color);
        }

        .answer-btn.correct {
            background-color: var(--correct-color);
            color: #fff;
            box-shadow: 0 0 8px var(--correct-color), 0 0 15px var(--correct-color);
            text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
        }

        .answer-btn.incorrect {
            background-color: var(--incorrect-color);
            color: #fff;
            box-shadow: 0 0 8px var(--incorrect-color), 0 0 15px var(--incorrect-color);
            text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
        }

        .answer-btn.disabled {
            pointer-events: none;
            opacity: .6;
        }

        .answer-btn strong {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 2px;
            font-family: 'Luckiest Guy', cursive;
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
        }

        .player-selection-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .player-btn {
            margin-bottom: 0;
            padding: 20px 15px;
        }

        #final-scores h3 {
            margin-top: 25px;
            color: var(--secondary-color);
            text-shadow: 0 0 4px rgba(0, 234, 255, 0.7);
        }

        #final-scores p {
            font-size: 1.2rem;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.25);
            margin-bottom: 10px;
            border: 1px solid var(--primary-color);
            text-shadow: 0 0 1px rgba(0, 0, 0, 0.3);
        }

        #final-scores p strong {
            color: var(--warning-color);
            text-shadow: 0 0 4px rgba(230, 230, 0, 0.8);

        }

        .text-input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--secondary-color);
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light-text-color);
            font-size: 1rem;
            box-shadow: inset 0 0 5px rgba(0, 255, 255, 0.1);
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .text-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .text-input:focus {
            border-color: var(--primary-color);
            box-shadow: inset 0 0 5px rgba(123, 0, 255, 0.4), 0 0 8px rgba(0, 234, 255, 0.4);
        }

        .small-text {
            font-size: 0.9rem;
            margin-top: -5px;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .small-text a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s;
        }

        .small-text a:hover {
            color: var(--primary-color);
        }

        .warning-text {
            color: var(--warning-color);
            font-weight: 700;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid var(--warning-color);
            border-radius: 8px;
            background-color: rgba(230, 230, 0, 0.1);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
        }

        #winner-display {
            font-family: 'Luckiest Guy', cursive;
            font-size: 2.5rem;
            color: var(--secondary-color);
            text-shadow: 0 0 8px var(--secondary-color), 0 0 15px var(--secondary-color);
            margin-bottom: 25px;
            animation: neonGlow 1.5s ease-in-out infinite alternate;
            padding: 10px 0;
            border-bottom: 2px solid var(--secondary-color);
            border-top: 2px solid var(--secondary-color);
        }

        @keyframes neonGlow {
            from { text-shadow: 0 0 5px var(--secondary-color), 0 0 10px var(--secondary-color), 0 0 20px var(--secondary-color); }
            to { text-shadow: 0 0 8px var(--primary-color), 0 0 15px var(--primary-color), 0 0 30px var(--secondary-color); }
        }
        /* ... Tus estilos existentes ... */

/* Estilos para la tarjeta de cada canción en el listado */
.song-item-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px; /* Espacio entre el texto y el botón */
    min-height: 70px;
    background: rgba(255, 255, 255, 0.08); /* Reutiliza --card-background o define uno nuevo */
    padding: 10px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-base); /* Sombra base para todas las cards */
    text-align: left;
    margin-bottom: 10px;
    border: 1px solid rgba(255, 255, 255, 0.15); /* Borde suave */
    backdrop-filter: blur(2px); /* Un blur ligero también para estas cards */
}

.song-item-card strong {
    font-family: 'Luckiest Guy', cursive;
    font-size: 1.1rem;
    color: var(--light-text-color); /* Para que el nombre del artista/título principal resalte */
    text-shadow: 0 0 2px rgba(0,0,0,0.5);
}

.song-item-card span {
    color: var(--text-color); /* Color para el resto del texto de la canción */
}

/* Estilos para el nuevo botón único de escuchar */
.btn.small-listen-btn {
    display: flex; /* Para centrar el icono */
    align-items: center;
    justify-content: center;
    width: 45px; /* Un poco más grande para el icono */
    height: 45px;
    padding: 0;
    margin: 0;
    font-size: 1.5rem; /* Tamaño del icono */
    border-radius: 50%; /* Botón redondo */
    text-shadow: none;
    box-shadow: 0 0 8px rgba(0,0,0,0.4); /* Sombra de neón suave */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Borde sutil */
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    color: white; /* Color del icono */
}

.btn.small-listen-btn:hover {
    transform: scale(1.1); /* Ligeramente más grande al pasar el ratón */
    box-shadow: 0 0 12px rgba(0,0,0,0.6); /* Sombra más pronunciada */
}

/* Estilos para el índice alfabético (enlaces A, B, C...) */
.alpha-index {
    text-align: center;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.2);
    padding: 10px;
    border-radius: var(--border-radius);
    border: 1px solid var(--secondary-color);
}

.alpha-index a {
    display: inline-block;
    min-width: 30px; /* Ancho mínimo para cada letra */
    height: 30px;
    line-height: 30px; /* Centrar texto verticalmente */
    text-align: center;
    text-transform: uppercase;
    text-decoration: none;
    font-weight: bold;
    color: var(--secondary-color);
    background-color: transparent; /* Inicialmente transparente */
    border: 1px solid var(--secondary-color);
    border-radius: 5px;
    transition: all 0.2s ease;
}

.alpha-index a:hover {
    background-color: var(--secondary-color);
    color: var(--background-start);
    transform: translateY(-2px);
    box-shadow: 0 0 8px var(--secondary-color);
}

/* ... (Tus estilos existentes) ... */

/* Estilos para el contenedor scrollable del listado de canciones */
#songs-list-scroll-content {
    max-height: 45vh; /* Ajusta la altura máxima a un porcentaje de la altura de la ventana */
    overflow-y: auto; /* Permite el scroll vertical si el contenido desborda */
    padding-right: 10px; /* Añade un poco de padding para que la barra de scroll no se pegue al contenido */
    margin-bottom: 20px; /* Espacio antes de los botones de navegación */
    border: 1px solid var(--card-background); /* Borde sutil para la zona de scroll */
    border-radius: var(--border-radius);
    background: rgba(0, 0, 0, 0.1); /* Fondo ligero para la zona scrollable */
}

/* ... (Tus estilos existentes antes de la sección de listado de canciones) ... */

/* Estilos para la tarjeta de cada canción en el listado */
.song-item-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px; /* Espacio entre el texto y el botón */
    min-height: 70px;
    background: rgba(255, 255, 255, 0.08); /* Reutiliza --card-background o define uno nuevo */
    padding: 10px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-base); /* Sombra base para todas las cards */
    text-align: left;
    margin-bottom: 10px;
    border: 1px solid rgba(255, 255, 255, 0.15); /* Borde suave */
    backdrop-filter: blur(2px); /* Un blur ligero también para estas cards */
}

.song-item-card strong {
    font-family: 'Luckiest Guy', cursive;
    font-size: 1.1rem;
    color: var(--light-text-color); /* Para que el nombre del artista/título principal resalte */
    text-shadow: 0 0 2px rgba(0,0,0,0.5);
}

.song-item-card span {
    color: var(--text-color); /* Color para el resto del texto de la canción */
}

/* Estilos para el nuevo botón único de escuchar */
.btn.small-listen-btn {
    display: flex; /* Para centrar el icono */
    align-items: center;
    justify-content: center;
    width: 45px; /* Un poco más grande para el icono */
    height: 45px;
    padding: 0;
    margin: 0;
    font-size: 1.5rem; /* Tamaño del icono */
    border-radius: 50%; /* Botón redondo */
    text-shadow: none;
    box-shadow: 0 0 8px rgba(0,0,0,0.4); /* Sombra de neón suave */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Borde sutil */
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    color: white; /* Color del icono */
}

.btn.small-listen-btn:hover {
    transform: scale(1.1); /* Ligeramente más grande al pasar el ratón */
    box-shadow: 0 0 12px rgba(0,0,0,0.6); /* Sombra más pronunciada */
}

/* Estilos para el índice alfabético (enlaces A, B, C...) */
.alpha-index {
    text-align: center;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.2);
    padding: 10px;
    border-radius: var(--border-radius);
    border: 1px solid var(--secondary-color);
}

.alpha-index a {
    display: inline-block;
    min-width: 30px; /* Ancho mínimo para cada letra */
    height: 30px;
    line-height: 30px; /* Centrar texto verticalmente */
    text-align: center;
    text-transform: uppercase;
    text-decoration: none;
    font-weight: bold;
    color: var(--secondary-color);
    background-color: transparent; /* Inicialmente transparente */
    border: 1px solid var(--secondary-color);
    border-radius: 5px;
    transition: all 0.2s ease;
}

.alpha-index a:hover {
    background-color: var(--secondary-color);
    color: var(--background-start);
    transform: translateY(-2px);
    box-shadow: 0 0 8px var(--secondary-color);
}

/* ESTILOS CLAVE PARA EL SCROLL */
/* ... (Tus estilos existentes antes de esta sección) ... */

/* ESTILOS CLAVE PARA EL SCROLL (para #songs-list-scroll-content) */
#songs-list-scroll-content {
    max-height: 50vh; /* Ajusta la altura máxima a un porcentaje de la altura de la ventana del navegador */
    overflow-y: auto; /* Permite el scroll vertical si el contenido desborda */
    padding-right: 10px; /* Añade un poco de padding para que la barra de scroll no se pegue al contenido */
    margin-bottom: 20px; /* Espacio antes de los botones de navegación */
    border: 1px solid var(--card-background); /* Borde sutil para la zona de scroll */
    border-radius: var(--border-radius);
    background: rgba(0, 0, 0, 0.1); /* Fondo ligero para la zona scrollable */
    /* Asegúrate de que este contenedor ocupe un porcentaje del alto para que max-height funcione */
    height: auto; 
    flex-grow: 1; /* Permite que crezca para ocupar espacio disponible si está en un flex container */
    /* Estas propiedades 'display' y 'flex-direction' son si songs-list-scroll-content es padre de alpha-index y song-item-card */
    display: flex; 
    flex-direction: column; 
}

/* Opcional: Estilo para la barra de desplazamiento (solo webkit browsers como Chrome/Safari) */
#songs-list-scroll-content::-webkit-scrollbar {
    width: 8px;
}

#songs-list-scroll-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

#songs-list-scroll-content::-webkit-scrollbar-thumb {
    background-color: var(--secondary-color);
    border-radius: 10px;
    border: 2px solid rgba(0, 0, 0, 0.1);
}

/* Estilos para el contenedor interno de canciones, si necesitas padding extra o diseño */
#songs-list-container {
    padding: 10px 0; /* Padding interno para que el contenido no se pegue a los bordes del scrollable */
}

    </style>
</head>
<body>
    <div id="home-screen" class="screen active">
        <img src="img/adivina.png" alt="Logotipo de Adivina la Canción" class="logo">
        <button class="btn" onclick="showScreen('login-screen')">Jugar</button>
    </div>
    <div id="login-screen" class="screen">
    <h2>Iniciar Sesión</h2>
    <input type="email" id="login-email" class="text-input" placeholder="Correo electrónico">
    <input type="password" id="login-password" class="text-input" placeholder="Contraseña">
    <button class="btn" onclick="loginUser()">Entrar</button>
    <p class="small-text">¿No tienes cuenta? <a href="#" onclick="showScreen('register-screen')">Regístrate aquí</a></p>
</div>

<div id="register-screen" class="screen">
    <h2>Registro</h2>
    <input type="email" id="register-email" class="text-input" placeholder="Correo electrónico">
    <input type="password" id="register-password" class="text-input" placeholder="Contraseña">
    <button class="btn" onclick="registerUser()">Registrar</button>
    <p class="small-text">¿Ya tienes cuenta? <a href="#" onclick="showScreen('login-screen')">Inicia sesión</a></p>
</div>

<div id="set-player-name-screen" class="screen">
    <div id="game-info" style="margin-bottom: 15px;">
        </div>
    <h2>Nombre de Jugador</h2>
    <input type="text" id="player-name-input" class="text-input" placeholder="Introduce tu nombre de jugador">
    <button class="btn" onclick="setPlayerName()">Continuar</button>
</div>
    <div id="category-screen" class="screen">
        <h2>Elige una Categoría</h2>
        <div id="category-buttons"></div>
        <button class="btn tertiary" onclick="showStatisticsScreen()">Estadísticas</button>
        <button class="btn tertiary" onclick="showSongsListCategorySelection()">Canciones</button>
        <button class="btn tertiary" onclick="exitGame()">Salir del Juego</button>
    </div>

    <div id="statistics-screen" class="screen">
        <h2>Mis Estadísticas</h2>
        <div id="user-total-scores" style="margin-bottom: 20px;">
            <h3>Puntos Acumulados por Categoría</h3>
            <div id="category-scores-list">
                <p>Cargando estadísticas...</p>
            </div>
        </div>

        <div id="duel-history">
            <h3>Historial de Duelos (2 Jugadores)</h3>
            <div id="duel-list">
                <p>Cargando historial...</p>
            </div>
        </div>

        <button class="btn secondary" onclick="showScreen('category-screen')">Volver al Menú</button>
    </div>

    <div id="songs-list-category-screen" class="screen">
        <h2>Listado de Canciones por Categoría</h2>
        <div id="songs-list-category-buttons"></div>
        <button class="btn secondary" onclick="showScreen('category-screen')">Volver al Menú</button>
    </div>

    <div id="songs-list-display-screen" class="screen">
        <h2 id="songs-list-category-title"></h2>
        
        <div id="songs-list-scroll-content">
            <div id="songs-list-container">
                <p>Cargando canciones...</p>
            </div>
        </div>
        <button class="btn secondary" onclick="showSongsListCategorySelection()" style="margin-top: 20px;">Volver a Categorías de Canciones</button>
        <button class="btn secondary" onclick="showScreen('category-screen')">Volver al Menú Principal</button>
    </div>

    <div id="player-selection-screen" class="screen">
        <h2>Introduce el número de jugadores</h2>
        <div class="player-selection-grid">
            <button class="player-btn" onclick="selectPlayers(1)">1 Jugador</button>
            <button class="player-btn" onclick="selectPlayers(2)">2 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(3)">3 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(4)">4 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(5)">5 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(6)">6 Jugadores</button>
        </div>
        <button class="btn secondary" onclick="confirmReturnToMenu()" style="margin-top: 20px;">Menú Principal</button>
    </div>
    <div id="player-names-input-screen" class="screen">
        <h2>Nombres de los Jugadores</h2>
        <p class="small-text">El primer jugador es tu usuario logueado: <strong id="logged-in-player-name"></strong></p>
        <div id="other-player-names-inputs"></div>
        <button class="btn" onclick="startGame()">Comenzar Partida</button>
        <button class="btn secondary" onclick="showScreen('player-selection-screen')">Volver a selección de jugadores</button>
    </div>

    <div id="player-transition-screen" class="screen">
        <h2>Turno Terminado</h2>
        <p id="current-player-score-summary" style="font-size: 1.3rem; margin-bottom: 20px; color: var(--warning-color);"></p>
        <h3 id="next-player-prompt" style="color: var(--secondary-color); margin-bottom: 30px;"></h3>
        <button class="btn" onclick="continueToNextPlayerTurn()">Comenzar</button>
    </div>

    <div id="game-screen" class="screen">
        <div id="game-info" style="margin-bottom: 15px;">
            <strong>Turno de:</strong> <span id="player-name-display"></span>
        </div>

        <div class="game-header">
            <div class="game-info">
                <div id="category-display"></div>
                <div id="question-counter"></div>
            </div>
            <div class="game-score">
                <span id="attempts-counter" class="attempts-counter"></span>
                <div id="points-display"></div>
            </div>
        </div>
        <h3 id="player-turn"></h3>
        <button id="play-song-btn" class="btn">▶</button>
        <div id="answer-buttons"></div>
        <button class="btn secondary" onclick="confirmReturnToMenu()" style="margin-top: 20px;">Menú Principal</button>
    </div>
    <div id="end-game-screen" class="screen">
        <h2>Partida Terminada</h2>
        <div id="winner-display"></div>
        <div id="final-scores"></div>
        <button class="btn" id="play-again-btn">Volver a Jugar</button>
        <button class="btn secondary" onclick="showScreen('category-screen')">Menú Principal</button>
        <button class="btn tertiary" onclick="showScreen('home-screen')">Salir</button>
    </div>

    <audio id="audio-player"></audio>
    <audio id="sfx-acierto" src="audio/sfx/acierto.mp3"></audio>
    <audio id="sfx-error" src="audio/sfx/error.mp3"></audio>

    <script>

    //=====================================================================
    // CONFIGURACIÓN DE CANCIONES
    //=====================================================================
    const configuracionCanciones = {
  espanol: [
    { file: 'alejandro-sanz - y-si-fuera-ella.mp3', display: 'Alejandro Sanz - Y Si Fuera Ella', listenUrl: 'https://open.spotify.com/search/Alejandro%20Sanz%20Y%20Si%20Fuera%20Ella', platform: 'spotify' },
    { file: 'alex-ubago - sin-miedo-a-nada.mp3', display: 'Alex Ubago - Sin Miedo A Nada', listenUrl: 'https://open.spotify.com/search/Alex%20Ubago%20Sin%20Miedo%20A%20Nada', platform: 'spotify' },
    { file: 'alvaro-soler - sofia.mp3', display: 'Alvaro Soler - Sofia', listenUrl: 'https://open.spotify.com/search/Alvaro%20Soler%20Sofia', platform: 'spotify' },
    { file: 'amaral - moriria-por-vos.mp3', display: 'Amaral - Moriria Por Vos', listenUrl: 'https://open.spotify.com/search/Amaral%20Moriria%20Por%20Vos', platform: 'spotify' },
    { file: 'amaral - sin-ti-no-soy-nada.mp3', display: 'Amaral - Sin Ti No Soy Nada', listenUrl: 'https://open.spotify.com/search/Amaral%20Sin%20Ti%20No%20Soy%20Nada', platform: 'spotify' },
    { file: 'amistades-peligrosas - me-quedare-solo.mp3', display: 'Amistades Peligrosas - Me Quedare Solo', listenUrl: 'https://open.spotify.com/search/Amistades%20Peligrosas%20Me%20Quedare%20Solo', platform: 'spotify' },
    { file: 'ana-mena - usica-ligera.mp3', display: 'Ana Mena - Usica Ligera', listenUrl: 'https://open.spotify.com/search/Ana%20Mena%20Usica%20Ligera', platform: 'spotify' },
    { file: 'andy-y-lucas - tanto-la-queria.mp3', display: 'Andy Y Lucas - Tanto La Queria', listenUrl: 'https://open.spotify.com/search/Andy%20Y%20Lucas%20Tanto%20La%20Queria', platform: 'spotify' },
    { file: 'antonio-orozco - estoy-hecho-de-pedacitos-de-ti.mp3', display: 'Antonio Orozco - Estoy Hecho De Pedacitos De Ti', listenUrl: 'https://open.spotify.com/search/Antonio%20Orozco%20Estoy%20Hecho%20De%20Pedacitos%20De%20Ti', platform: 'spotify' },
    { file: 'baute-y-marta-sanchez - colgando-en-tus-manos.mp3', display: 'Baute Y Marta Sanchez - Colgando En Tus Manos', listenUrl: 'https://open.spotify.com/search/Baute%20Y%20Marta%20Sanchez%20Colgando%20En%20Tus%20Manos', platform: 'spotify' },
    { file: 'bebe - malo.mp3', display: 'Bebe - Malo', listenUrl: 'https://open.spotify.com/search/Bebe%20Malo', platform: 'spotify' },
    { file: 'bizarrap-ft-quevedo - bzrp-session-vol.-52.mp3', display: 'Bizarrap Ft Quevedo - Bzrp Session Vol. 52', listenUrl: 'https://open.spotify.com/search/Bizarrap%20Ft%20Quevedo%20Bzrp%20Session%20Vol%2052', platform: 'spotify' },
    { file: 'bizarrap-y-shakira - bzrp-music-sessions-53.mp3', display: 'Bizarrap Y Shakira - Bzrp Music Sessions 53', listenUrl: 'https://open.spotify.com/search/Bizarrap%20Y%20Shakira%20Bzrp%20Music%20Sessions%2053', platform: 'spotify' },
    { file: 'buika - no-habr-nadie-en-el-mundo.mp3', display: 'Buika - No Habr Nadie En El Mundo', listenUrl: 'https://open.spotify.com/search/Buika%20No%20Habra%20Nadie%20En%20El%20Mundo', platform: 'spotify' },
    { file: 'cabaret-pop - juegos-de-amor.mp3', display: 'Cabaret Pop - Juegos De Amor', listenUrl: 'https://open.spotify.com/search/Cabaret%20Pop%20Juegos%20De%20Amor', platform: 'spotify' },
    { file: 'camilo-sesto - algo-de-mi.mp3', display: 'Camilo Sesto - Algo De Mi', listenUrl: 'https://open.spotify.com/search/Camilo%20Sesto%20Algo%20De%20Mi', platform: 'spotify' },
    { file: 'celia-cruz - la-vida-es-un-carnaval.mp3', display: 'Celia Cruz - La Vida Es Un Carnaval', listenUrl: 'https://open.spotify.com/search/Celia%20Cruz%20La%20Vida%20Es%20Un%20Carnaval', platform: 'spotify' },
    { file: 'celtas-cortos - 20-de-abril.mp3', display: 'Celtas Cortos - 20 De Abril', listenUrl: 'https://open.spotify.com/search/Celtas%20Cortos%2020%20De%20Abril', platform: 'spotify' },
    { file: 'chayanne - torero.mp3', display: 'Chayanne - Torero', listenUrl: 'https://open.spotify.com/search/Chayanne%20Torero', platform: 'spotify' },
    { file: 'chimo-bayo - asi-me-gusta-a-mi.mp3', display: 'Chimo Bayo - Asi Me Gusta A Mi', listenUrl: 'https://open.spotify.com/search/Chimo%20Bayo%20Asi%20Me%20Gusta%20A%20Mi', platform: 'spotify' },
    { file: 'complices-es-por-ti.mp3', display: 'Complices Es Por Ti', listenUrl: 'https://open.spotify.com/search/Complices%20Es%20Por%20Ti', platform: 'spotify' },
    { file: 'coti - nada-fue-un-error.mp3', display: 'Coti - Nada Fue Un Error', listenUrl: 'https://open.spotify.com/search/Coti%20Nada%20Fue%20Un%20Error', platform: 'spotify' },
    { file: 'david-bisbal - digale.mp3', display: 'David Bisbal - Digale', listenUrl: 'https://open.spotify.com/search/David%20Bisbal%20Digale', platform: 'spotify' },
    { file: 'david-bisbal - me-enamore-de-ti.mp3', display: 'David Bisbal - Me Enamore De Ti', listenUrl: 'https://open.spotify.com/search/David%20Bisbal%20Me%20Enamore%20De%20Ti', platform: 'spotify' },
    { file: 'david-de-maria-precisamente-ahora.mp3', display: 'David De Maria Precisamente Ahora', listenUrl: 'https://open.spotify.com/search/David%20De%20Maria%20Precisamente%20Ahora', platform: 'spotify' },
    { file: 'diana-navarro - sola.mp3', display: 'Diana Navarro - Sola', listenUrl: 'https://open.spotify.com/search/Diana%20Navarro%20Sola', platform: 'spotify' },
    { file: 'dinamita-pa-los-pollos - pandilleros.mp3', display: 'Dinamita Pa Los Pollos - Pandilleros ', listenUrl: 'https://open.spotify.com/search/Dinamita%20Pa%20Los%20Pollos%20Pandilleros', platform: 'spotify' },
    { file: 'duncan-dhu - en-algun-lugar.mp3', display: 'Duncan Dhu - En Algun Lugar', listenUrl: 'https://open.spotify.com/search/Duncan%20Dhu%20En%20Algun%20Lugar', platform: 'spotify' },
    { file: 'efecto-pasillo - pan-y-manquilla.mp3', display: 'Efecto Pasillo - Pan Y Manquilla', listenUrl: 'https://open.spotify.com/search/Efecto%20Pasillo%20Pan%20Y%20Manquilla', platform: 'spotify' },
    { file: 'el-canto-del-loco - la-madre-de-jose.mp3', display: 'El Canto Del Loco - La Madre De Jose', listenUrl: 'https://open.spotify.com/search/El%20Canto%20Del%20Loco%20La%20Madre%20De%20Jose', platform: 'spotify' },
    { file: 'el-chaval-de-la-peca - a-ba-ni-bi.mp3', display: 'El Chaval De La Peca - A Ba Ni Bi', listenUrl: 'https://open.spotify.com/search/El%20Chaval%20De%20La%20Peca%20A%20Ba%20Ni%20Bi', platform: 'spotify' },
    { file: 'el-ultimo-de-la-fila - como-un-burro-amarrado-a-la-puerta-del-baile.mp3', display: 'El Ultimo De La Fila - Como Un Burro Amarrado A La Puerta Del Baile', listenUrl: 'https://open.spotify.com/search/El%20Ultimo%20De%20La%20Fila%20Como%20Un%20Burro%20Amarrado%20A%20La%20Puerta%20Del%20Baile', platform: 'spotify' },
    { file: 'ella-baila-sola - cuando-los-sapos-bailen-flamenco.mp3', display: 'Ella Baila Sola - Cuando Los Sapos Bailen Flamenco', listenUrl: 'https://open.spotify.com/search/Ella%20Baila%20Sola%20Cuando%20Los%20Sapos%20Bailen%20Flamenco', platform: 'spotify' },
    { file: 'estopa - me-quedare.mp3', display: 'Estopa - Me Quedare', listenUrl: 'https://open.spotify.com/search/Estopa%20Me%20Quedare', platform: 'spotify' },
    { file: 'estopa-y-el-bicho-demonios.mp3', display: 'Estopa y El Bicho Demonios', listenUrl: 'https://open.spotify.com/search/Estopa%20y%20El%20Bicho%20Demonios', platform: 'spotify' },
    { file: 'extremoduro - so-payaso.mp3', display: 'Extremoduro - So Payaso', listenUrl: 'https://open.spotify.com/search/Extremoduro%20So%20Payaso', platform: 'spotify' },
    { file: 'fito-y-fitipaldis - por-la-boca-vive-el-pez.mp3', display: 'Fito Y Fitipaldis - Por La Boca Vive El Pez', listenUrl: 'https://open.spotify.com/search/Fito%20Y%20Fitipaldis%20Por%20La%20Boca%20Vive%20El%20Pez', platform: 'spotify' },
    { file: 'gabinete-caligari - -al-calor-de-un-amor-en-un-bar-.mp3', display: 'Gabinete Caligari -  Al Calor De Un Amor En Un Bar ', listenUrl: 'https://open.spotify.com/search/Gabinete%20Caligari%20Al%20Calor%20De%20Un%20Amor%20En%20Un%20Bar', platform: 'spotify' },
    { file: 'gloria-estefan - mi-tierra.mp3', display: 'Gloria Estefan - Mi Tierra', listenUrl: 'https://open.spotify.com/search/Gloria%20Estefan%20Mi%20Tierra', platform: 'spotify' },
    { file: 'gloria-trevi - todos-me-miran-.mp3', display: 'Gloria Trevi - Todos Me Miran ', listenUrl: 'https://open.spotify.com/search/Gloria%20Trevi%20Todos%20Me%20Miran', platform: 'spotify' },
    { file: 'heroes-del-silencio - heroe-de-leyenda.mp3', display: 'Heroes Del Silencio - Heroe De Leyenda', listenUrl: 'https://open.spotify.com/search/Heroes%20Del%20Silencio%20Heroe%20De%20Leyenda', platform: 'spotify' },
    { file: 'janette - por-que-te-vas.mp3', display: 'Janette - Por Que Te Vas', listenUrl: 'https://open.spotify.com/search/Janette%20Por%20Que%20Te%20Vas', platform: 'spotify' },
    { file: 'jarabe-de-palo - el-lado-oscuro.mp3', display: 'Jarabe De Palo - El Lado Oscuro', listenUrl: 'https://open.spotify.com/search/Jarabe%20De%20Palo%20El%20Lado%20Oscuro', platform: 'spotify' },
    { file: 'jarabe-de-palo - la-flaca.mp3', display: 'Jarabe De Palo - La Flaca', listenUrl: 'https://open.spotify.com/search/Jarabe%20De%20Palo%20La%20Flaca', platform: 'spotify' },
    { file: 'joan-sebastian-ft.-lucero - golondrinas-viajeras.mp3', display: 'Joan Sebastian Ft. Lucero - Golondrinas Viajeras', listenUrl: 'https://open.spotify.com/search/Joan%20Sebastian%20Ft%20Lucero%20Golondrinas%20Viajeras', platform: 'spotify' },
    { file: 'juan-luis-guerra - ojala-que-llueva-cafe.mp3', display: 'Juan Luis Guerra - Ojala Que Llueva Cafe', listenUrl: 'https://open.spotify.com/search/Juan%20Luis%20Guerra%20Ojala%20Que%20Llueva%20Cafe', platform: 'spotify' },
    { file: 'juanes - la-camisa-negra.mp3', display: 'Juanes - La Camisa Negra', listenUrl: 'https://open.spotify.com/search/Juanes%20La%20Camisa%20Negra', platform: 'spotify' },
    { file: 'julieta-venegas - limon-y-sal.mp3', display: 'Julieta Venegas - Limon Y Sal', listenUrl: 'https://open.spotify.com/search/Julieta%20Venegas%20Limon%20Y%20Sal', platform: 'spotify' },
    { file: 'julieta-venegas - me-voy.mp3', display: 'Julieta Venegas - Me Voy', listenUrl: 'https://open.spotify.com/search/Julieta%20Venegas%20Me%20Voy', platform: 'spotify' },
    { file: 'karol-g - si-antes-te-hubiera-conocido.mp3', display: 'Karol G - Si Antes Te Hubiera Conocido', listenUrl: 'https://open.spotify.com/search/Karol%20G%20Si%20Antes%20Te%20Hubiera%20Conocido', platform: 'spotify' },
    { file: 'kiko-y-shara - puede-ser.mp3', display: 'Kiko Y Shara - Puede Ser', listenUrl: 'https://open.spotify.com/search/Kiko%20Y%20Shara%20Puede%20Ser', platform: 'spotify' },
    { file: 'la-guardia - mil-calles-llevan-hacia-ti.mp3', display: 'La Guardia - Mil Calles Llevan Hacia Ti', listenUrl: 'https://open.spotify.com/search/La%20Guardia%20Mil%20Calles%20Llevan%20Hacia%20Ti', platform: 'spotify' },
    { file: 'la-oreja-de-van-gogh - rosas.mp3', display: 'La Oreja De Van Gogh - Rosas', listenUrl: 'https://open.spotify.com/search/La%20Oreja%20De%20Van%20Gogh%20Rosas', platform: 'spotify' },
    { file: 'la-union - lobo-hombre-en-paris.mp3', display: 'La Union - Lobo Hombre En Paris', listenUrl: 'https://open.spotify.com/search/La%20Union%20Lobo%20Hombre%20En%20Paris', platform: 'spotify' },
    { file: 'las-grecas - te-estoy-amando-locamente.mp3', display: 'Las Grecas - Te Estoy Amando Locamente', listenUrl: 'https://open.spotify.com/search/Las%20Grecas%20Te%20Estoy%20Amando%20Locamente', platform: 'spotify' },
    { file: 'laura-pausini - la-soledad.mp3', display: 'Laura Pausini - La Soledad', listenUrl: 'https://open.spotify.com/search/Laura%20Pausini%20La%20Soledad', platform: 'spotify' },
    { file: 'locomia - locomia.mp3', display: 'Locomia - Locomia', listenUrl: 'https://open.spotify.com/search/Locomia%20Locomia', platform: 'spotify' },
    { file: 'loquillo - cadillac-solitario.mp3', display: 'Loquillo - Cadillac Solitario', listenUrl: 'https://open.spotify.com/search/Loquillo%20Cadillac%20Solitario', platform: 'spotify' },
    { file: 'los-chichos - la-historia-de-juan-castillo.mp3', display: 'Los Chichos - La Historia De Juan Castillo', listenUrl: 'https://open.spotify.com/search/Los%20Chichos%20La%20Historia%20De%20Juan%20Castillo', platform: 'spotify' },
    { file: 'los-secretos - pero-a-tu-lado.mp3', display: 'Los Secretos - Pero A Tu Lado', listenUrl: 'https://open.spotify.com/search/Los%20Secretos%20Pero%20A%20Tu%20Lado', platform: 'spotify' },
    { file: 'los-toreros-muertos - mi-aguita-amarilla.mp3', display: 'Los Toreros Muertos - Mi Aguita Amarilla', listenUrl: 'https://open.spotify.com/search/Los%20Toreros%20Muertos%20Mi%20Aguita%20Amarilla', platform: 'spotify' },
    { file: 'luis-fonsi - despacito.mp3', display: 'Luis Fonsi - Despacito', listenUrl: 'https://open.spotify.com/search/Luis%20Fonsi%20Despacito', platform: 'spotify' },
    { file: 'luz-casal - te-deje-marchar.mp3', display: 'Luz Casal - Te Deje Marchar', listenUrl: 'https://open.spotify.com/search/Luz%20Casal%20Te%20Deje%20Marchar', platform: 'spotify' },
    { file: 'm-clan - carolina.mp3', display: 'M Clan - Carolina', listenUrl: 'https://open.spotify.com/search/M%20Clan%20Carolina', platform: 'spotify' },
    { file: 'macaco - moving.mp3', display: 'Macaco - Moving', listenUrl: 'https://open.spotify.com/search/Macaco%20Moving', platform: 'spotify' },
    { file: 'magneto - vuela,-vuela.mp3', display: 'Magneto - Vuela, Vuela', listenUrl: 'https://open.spotify.com/search/Magneto%20Vuela%20Vuela', platform: 'spotify' },
    { file: 'mana - el-muelle-de-san-blas.mp3', display: 'Mana - El Muelle De San Blas', listenUrl: 'https://open.spotify.com/search/Mana%20El%20Muelle%20De%20San%20Blas', platform: 'spotify' },
    { file: 'manolo-escobar - que-viva-espana.mp3', display: 'Manolo Escobar - Que Viva Espana', listenUrl: 'https://open.spotify.com/search/Manolo%20Escobar%20Que%20Viva%20Espana', platform: 'spotify' },
    { file: 'manolo-garcia - pajaros-de-barro.mp3', display: 'Manolo Garcia - Pajaros De Barro', listenUrl: 'https://open.spotify.com/search/Manolo%20Garcia%20Pajaros%20De%20Barro', platform: 'spotify' },
    { file: 'manuel-carrasco - que-bonito-es-querer.mp3', display: 'Manuel Carrasco - Que Bonito Es Querer', listenUrl: 'https://open.spotify.com/search/Manuel%20Carrasco%20Que%20Bonito%20Es%20Querer', platform: 'spotify' },
    { file: 'marc-anthony - valio-la-pena.mp3', display: 'Marc Anthony - Valio La Pena', listenUrl: 'https://open.spotify.com/search/Marc%20Anthony%20Valio%20La%20Pena', platform: 'spotify' },
    { file: 'marc-anthony - vivir-mi-vida.mp3', display: 'Marc Anthony - Vivir Mi Vida', listenUrl: 'https://open.spotify.com/search/Marc%20Anthony%20Vivir%20Mi%20Vida', platform: 'spotify' },
    { file: 'mecano - me-cuesta-tanto-olvidarte.mp3', display: 'Mecano - Me Cuesta Tanto Olvidarte', listenUrl: 'https://open.spotify.com/search/Mecano%20Me%20Cuesta%20Tanto%20Olvidarte', platform: 'spotify' },
    { file: 'miguel-rios - santa-lucia.mp3', display: 'Miguel Rios - Santa Lucia', listenUrl: 'https://open.spotify.com/search/Miguel%20Rios%20Santa%20Lucia', platform: 'spotify' },
    { file: 'molotov - gimme-tha-power.mp3', display: 'Molotov - Gimme Tha Power', listenUrl: 'https://open.spotify.com/search/Molotov%20Gimme%20Tha%20Power', platform: 'spotify' },
    { file: 'monica-naranjo - europa.mp3', display: 'Monica Naranjo - Europa', listenUrl: 'https://open.spotify.com/search/Monica%20Naranjo%20Europa', platform: 'spotify' },
    { file: 'monica-naranjo - sobrevivire.mp3', display: 'Monica Naranjo - Sobrevivire', listenUrl: 'https://open.spotify.com/search/Monica%20Naranjo%20Sobrevivire', platform: 'spotify' },
    { file: 'morat - como-te-atreves.mp3', display: 'Morat - Como Te Atreves', listenUrl: 'https://open.spotify.com/search/Morat%20Como%20Te%20Atreves', platform: 'spotify' },
    { file: 'nacho-cano-y-mercedes-ferrer - vivimos-siempre-juntos.mp3', display: 'Nacho Cano Y Mercedes Ferrer - Vivimos Siempre Juntos', listenUrl: 'https://open.spotify.com/search/Nacho%20Cano%20Y%20Mercedes%20Ferrer%20Vivimos%20Siempre%20Juntos', platform: 'spotify' },
    { file: 'navajita-platea - frio-sin-ti.mp3', display: 'Navajita Platea - Frio Sin Ti', listenUrl: 'https://open.spotify.com/search/Navajita%20Platea%20Frio%20Sin%20Ti', platform: 'spotify' },
    { file: 'navajita-platea - noches-de-bohemia.mp3', display: 'Navajita Platea - Noches De Bohemia', listenUrl: 'https://open.spotify.com/search/Navajita%20Platea%20Noches%20De%20Bohemia', platform: 'spotify' },
    { file: 'nena-daconte - tenia-tanto-que-darte.mp3', display: 'Nena Daconte - Tenia Tanto Que Darte', listenUrl: 'https://open.spotify.com/search/Nena%20Daconte%20Tenia%20Tanto%20Que%20Darte', platform: 'spotify' },
    { file: 'no-me-pises-que-llevo-chanclas - bolillon.mp3', display: 'No Me Pises Que Llevo Chanclas - Bolillon', listenUrl: 'https://open.spotify.com/search/No%20Me%20Pises%20Que%20Llevo%20Chanclas%20Bolillon', platform: 'spotify' },
    { file: 'obk - historias-de-amor.mp3', display: 'Obk - Historias De Amor', listenUrl: 'https://open.spotify.com/search/Obk%20Historias%20De%20Amor', platform: 'spotify' },
    { file: 'pablo-alboran - solamente-tu.mp3', display: 'Pablo Alboran - Solamente Tu', listenUrl: 'https://open.spotify.com/search/Pablo%20Alboran%20Solamente%20Tu', platform: 'spotify' },
    { file: 'pablo-lopez - tu-enemigo.mp3', display: 'Pablo Lopez - Tu Enemigo', listenUrl: 'https://open.spotify.com/search/Pablo%20Lopez%20Tu%20Enemigo', platform: 'spotify' },
    { file: 'radio-futura - escuela-de-calor.mp3', display: 'Radio Futura - Escuela De Calor', listenUrl: 'https://open.spotify.com/search/Radio%20Futura%20Escuela%20De%20Calor', platform: 'spotify' },
    { file: 'raphael - mi-gran-noche.mp3', display: 'Raphael - Mi Gran Noche', listenUrl: 'https://open.spotify.com/search/Raphael%20Mi%20Gran%20Noche', platform: 'spotify' },
    { file: 'revolver - el-roce-de-tu-piel-(en-directo-).mp3', display: 'Revolver - El Roce De Tu Piel (En Directo )', listenUrl: 'https://open.spotify.com/search/Revolver%20El%20Roce%20De%20Tu%20Piel%20En%20Directo', platform: 'spotify' },
    { file: 'revolver - el-roce-de-tu-piel.mp3', display: 'Revolver - El Roce De Tu Piel', listenUrl: 'https://open.spotify.com/search/Revolver%20El%20Roce%20De%20Tu%20Piel', platform: 'spotify' },
    { file: 'revólver - el-roce-de-tu-piel.mp3', display: 'Revólver - El Roce De Tu Piel', listenUrl: 'https://open.spotify.com/search/Revolver%20El%20Roce%20De%20Tu%20Piel', platform: 'spotify' },
    { file: 'ricky-martin - maria-.mp3', display: 'Ricky Martin - Maria ', listenUrl: 'https://open.spotify.com/search/Ricky%20Martin%20Maria', platform: 'spotify' },
    { file: 'rocio-durcal - la-gata-bajo-la-lluvia-.mp3', display: 'Rocio Durcal - La Gata Bajo La Lluvia ', listenUrl: 'https://open.spotify.com/search/Rocio%20Durcal%20La%20Gata%20Bajo%20La%20Lluvia', platform: 'spotify' },
    { file: 'rocio-jurado - muera-el-amor.mp3', display: 'Rocio Jurado - Muera El Amor', listenUrl: 'https://open.spotify.com/search/Rocio%20Jurado%20Muera%20El%20Amor', platform: 'spotify' },
    { file: 'rosalia - despecha.mp3', display: 'Rosalia - Despecha', listenUrl: 'https://open.spotify.com/search/Rosalia%20Despecha', platform: 'spotify' },
    { file: 'rosana - si-tu-no-estas.mp3', display: 'Rosana - Si Tu No Estas', listenUrl: 'https://open.spotify.com/search/Rosana%20Si%20Tu%20No%20Estas', platform: 'spotify' },
    { file: 'rozalen - la-puerta-violeta.mp3', display: 'Rozalen - La Puerta Violeta', listenUrl: 'https://open.spotify.com/search/Rozalen%20La%20Puerta%20Violeta', platform: 'spotify' },
    { file: 'sabina - 19-dias-y-500-noches.mp3', display: 'Sabina 19 Dias y 500 Noches', listenUrl: 'https://open.spotify.com/search/Sabina%2019%20Dias%20y%20500%20Noches', platform: 'spotify' },
    { file: 'seguridad-social - chiquilla.mp3', display: 'Seguridad Social - Chiquilla', listenUrl: 'https://open.spotify.com/search/Seguridad%20Social%20Chiquilla', platform: 'spotify' },
    { file: 'shakira - ciega,-sordomuda.mp3', display: 'Shakira - Ciega, Sordomuda', listenUrl: 'https://open.spotify.com/search/Shakira%20Ciega%20Sordomuda', platform: 'spotify' },
    { file: 'tam-tam-go! - espaldas-mojadas.mp3', display: 'Tam Tam Go! - Espaldas Mojadas', listenUrl: 'https://open.spotify.com/search/Tam%20Tam%20Go%20Espaldas%20Mojadas', platform: 'spotify' },
    { file: 'thalia - arrasando.mp3', display: 'Thalia - Arrasando', listenUrl: 'https://open.spotify.com/search/Thalia%20Arrasando', platform: 'spotify' },
    { file: 'tino-casal - eloise.mp3', display: 'Tino Casal - Eloise', listenUrl: 'https://open.spotify.com/search/Tino%20Casal%20Eloise', platform: 'spotify' },
    { file: 'triana - una-noche-de-amor-desesperada.mp3', display: 'Triana - Una Noche De Amor Desesperada', listenUrl: 'https://open.spotify.com/search/Triana%20Una%20Noche%20De%20Amor%20Desesperada', platform: 'spotify' },
    { file: 'vicco - nochentera.mp3', display: 'Vicco - Nochentera', listenUrl: 'https://open.spotify.com/search/Vicco%20Nochentera', platform: 'spotify' },
    { file: 'zzoilo-y-aitana - mon-amour.mp3', display: 'Zzoilo Y Aitana - Mon Amour', listenUrl: 'https://open.spotify.com/search/Zzoilo%20Y%20Aitana%20Mon%20Amour', platform: 'spotify' },
  ],
  ingles: [
    { file: 'queen - bohemian-rhapsody.mp3', display: 'Queen - Bohemian Rhapsody', listenUrl: 'https://open.spotify.com/search/Queen%20Bohemian%20Rhapsody', platform: 'spotify' },
    { file: 'nirvana - smells-like-teen-spirit.mp3', display: 'Nirvana - Smells Like Teen Spirit', listenUrl: 'https://open.spotify.com/search/Nirvana%20Smells%20Like%20Teen%20Spirit', platform: 'spotify' },
    { file: 'michael-jackson - billie-jean.mp3', display: 'Michael Jackson - Billie Jean', listenUrl: 'https://open.spotify.com/search/Michael%20Jackson%20Billie%20Jean', platform: 'spotify' },
    { file: 'the-beatles - hey-jude.mp3', display: 'The Beatles - Hey Jude', listenUrl: 'https://open.spotify.com/search/The%20Beatles%20Hey%20Jude', platform: 'spotify' },
    { file: 'eagles - hotel-california.mp3', display: 'Eagles - Hotel California', listenUrl: 'https://open.spotify.com/search/Eagles%20Hotel%20California', platform: 'spotify' },
    { file: 'adele - rolling-in-the-deep.mp3', display: 'Adele - Rolling in the Deep', listenUrl: 'https://open.spotify.com/search/Adele%20Rolling%20in%20the%20Deep', platform: 'spotify' },
    { file: 'coldplay - viva-la-vida.mp3', display: 'Coldplay - Viva La Vida', listenUrl: 'https://open.spotify.com/search/Coldplay%20Viva%20La%20Vida', platform: 'spotify' },
    { file: 'ed-sheeran - shape-of-you.mp3', display: 'Ed Sheeran - Shape of You', listenUrl: 'https://open.spotify.com/search/Ed%20Sheeran%20Shape%20of%20You', platform: 'spotify' },
    { file: 'dua-lipa - don-t-start-now.mp3', display: 'Dua Lipa - Don\'t Start Now', listenUrl: 'https://open.spotify.com/search/Dua%20Lipa%20Don%27t%20Start%20Now', platform: 'spotify' },
    { file: 'the-weeknd - blinding-lights.mp3', display: 'The Weeknd - Blinding Lights', listenUrl: 'https://open.spotify.com/search/The%20Weeknd%20Blinding%20Lights', platform: 'spotify' },
    { file: 'billie-eilish - bad-guy.mp3', display: 'Billie Eilish - Bad Guy', listenUrl: 'https://open.spotify.com/search/Billie%20Eilish%20Bad%20Guy', platform: 'spotify' },
    { file: 'imagine-dragons - radioactive.mp3', display: 'Imagine Dragons - Radioactive', listenUrl: 'https://open.spotify.com/search/Imagine%20Dragons%20Radioactive', platform: 'spotify' },
    { file: 'bruno-mars - uptown-funk.mp3', display: 'Bruno Mars - Uptown Funk', listenUrl: 'https://open.spotify.com/search/Bruno%20Mars%20Uptown%20Funk', platform: 'spotify' },
    { file: 'maroon-5 - sugar.mp3', display: 'Maroon 5 - Sugar', listenUrl: 'https://open.spotify.com/search/Maroon%205%20Sugar', platform: 'spotify' },
    { file: 'rihanna - umbrella.mp3', display: 'Rihanna - Umbrella', listenUrl: 'https://open.spotify.com/search/Rihanna%20Umbrella', platform: 'spotify' },
    { file: 'beyonce - single-ladies.mp3', display: 'Beyoncé - Single Ladies', listenUrl: 'https://open.spotify.com/search/Beyonce%20Single%20Ladies', platform: 'spotify' },
    { file: 'kanye-west - stronger.mp3', display: 'Kanye West - Stronger', listenUrl: 'https://open.spotify.com/search/Kanye%20West%20Stronger', platform: 'spotify' },
    { file: 'taylor-swift - shake-it-off.mp3', display: 'Taylor Swift - Shake It Off', listenUrl: 'https://open.spotify.com/search/Taylor%20Swift%20Shake%20It%20Off', platform: 'spotify' },
    { file: 'justin-bieber - sorry.mp3', display: 'Justin Bieber - Sorry', listenUrl: 'https://open.spotify.com/search/Justin%20Bieber%20Sorry', platform: 'spotify' },
    { file: 'ariana-grande - thank-u-next.mp3', display: 'Ariana Grande - Thank U, Next', listenUrl: 'https://open.spotify.com/search/Ariana%20Grande%20Thank%20U%20Next', platform: 'spotify' }
  ],
  peliculas: [
    { file: '007-james-bond - 1962.mp3', display: '007 James Bond - 1962', listenUrl: 'https://www.youtube.com/results?search_query=007+James+Bond+1962', platform: 'youtube' },
    { file: '1492-la-conquista-del-paraiso - 1992.mp3', display: '1492 La Conquista del Paraíso - 1992', listenUrl: 'https://www.youtube.com/results?search_query=1492+La+Conquista+del+Paraiso+1992', platform: 'youtube' },
    { file: '2001-una-odisea-del-espacio - 1968.mp3', display: '2001 Una Odisea del Espacio - 1968', listenUrl: 'https://www.youtube.com/results?search_query=2001+Una+Odisea+del+Espacio+1968', platform: 'youtube' },
    { file: '50-primeras-citas - 2004.mp3', display: '50 Primeras Citas - 2004', listenUrl: 'https://www.youtube.com/results?search_query=50+Primeras+Citas+2004', platform: 'youtube' },
    { file: 'amelie - 2001.mp3', display: 'Amelie - 2001', listenUrl: 'https://www.youtube.com/results?search_query=Amelie+2001', platform: 'youtube' },
    { file: 'atrapame-si-puedes - 2002.mp3', display: 'Atrápame Si Puedes - 2002', listenUrl: 'https://www.youtube.com/results?search_query=Atrapame+Si+Puedes+2002', platform: 'youtube' },
    { file: 'avatar - 2009.mp3', display: 'Avatar - 2009', listenUrl: 'https://www.youtube.com/results?search_query=Avatar+2009', platform: 'youtube' },
    { file: 'blade-runner - 1982.mp3', display: 'Blade Runner - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Blade+Runner+1982', platform: 'youtube' },
    { file: 'braveheart - 1995.mp3', display: 'Braveheart - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Braveheart+1995', platform: 'youtube' },
    { file: 'cabaret - 1972.mp3', display: 'Cabaret - 1972', listenUrl: 'https://www.youtube.com/results?search_query=Cabaret+1972', platform: 'youtube' },
    { file: 'cantando-bajo-la-lluvia - 1952.mp3', display: 'Cantando Bajo la Lluvia - 1952', listenUrl: 'https://www.youtube.com/results?search_query=Cantando+Bajo+la+Lluvia+1952', platform: 'youtube' },
    { file: 'carros-de-fuego - 1981.mp3', display: 'Carros de Fuego - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Carros+de+Fuego+1981', platform: 'youtube' },
    { file: 'casablanca - 1942.mp3', display: 'Casablanca - 1942', listenUrl: 'https://www.youtube.com/results?search_query=Casablanca+1942', platform: 'youtube' },
    { file: 'cazafantasmas - 1984.mp3', display: 'Cazafantasmas - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Cazafantasmas+1984', platform: 'youtube' },
    { file: 'conan-el-barbaro - 1982.mp3', display: 'Conan el Bárbaro - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Conan+el+Barbaro+1982', platform: 'youtube' },
    { file: 'dirty-dancing - 1987.mp3', display: 'Dirty Dancing - 1987', listenUrl: 'https://www.youtube.com/results?search_query=Dirty+Dancing+1987', platform: 'youtube' },
    { file: 'el-bueno-el-feo-y-el-malo - 1966.mp3', display: 'El Bueno, el Feo y el Malo - 1966', listenUrl: 'https://www.youtube.com/results?search_query=El+Bueno+el+Feo+y+el+Malo+1966', platform: 'youtube' },
    { file: 'el-graduado - 1967.mp3', display: 'El Graduado - 1967', listenUrl: 'https://www.youtube.com/results?search_query=El+Graduado+1967', platform: 'youtube' },
    { file: 'el-guardaespaldas - 1992.mp3', display: 'El Guardaespaldas - 1992', listenUrl: 'https://www.youtube.com/results?search_query=El+Guardaespaldas+1992', platform: 'youtube' },
    { file: 'el-mago-de-oz - 1939.mp3', display: 'El Mago de Oz - 1939', listenUrl: 'https://www.youtube.com/results?search_query=El+Mago+de+Oz+1939', platform: 'youtube' },
    { file: 'el-padrino - 1972.mp3', display: 'El Padrino - 1972', listenUrl: 'https://www.youtube.com/results?search_query=El+Padrino+1972', platform: 'youtube' },
    { file: 'el-puente-sobre-el-rio-kwai - 1957.mp3', display: 'El Puente Sobre el Río Kwai - 1957', listenUrl: 'https://www.youtube.com/results?search_query=El+Puente+Sobre+el+Rio+Kwai+1957', platform: 'youtube' },
    { file: 'el-senor-de-los-anillos - 2001.mp3', display: 'El Señor de los Anillos - 2001', listenUrl: 'https://www.youtube.com/results?search_query=El+Senor+de+los+Anillos+2001', platform: 'youtube' },
    { file: 'flashdance - 1983.mp3', display: 'Flashdance - 1983', listenUrl: 'https://www.youtube.com/results?search_query=Flashdance+1983', platform: 'youtube' },
    { file: 'footloose - 1984.mp3', display: 'Footloose - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Footloose+1984', platform: 'youtube' },
    { file: 'forrest-gump - 1994.mp3', display: 'Forrest Gump - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Forrest+Gump+1994', platform: 'youtube' },
    { file: 'ghost - 1990.mp3', display: 'Ghost - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Ghost+1990', platform: 'youtube' },
    { file: 'gilda - 1946.mp3', display: 'Gilda - 1946', listenUrl: 'https://www.youtube.com/results?search_query=Gilda+1946', platform: 'youtube' },
    { file: 'gladiator - 2000.mp3', display: 'Gladiator - 2000', listenUrl: 'https://www.youtube.com/results?search_query=Gladiator+2000', platform: 'youtube' },
    { file: 'grease - 1978.mp3', display: 'Grease - 1978', listenUrl: 'https://www.youtube.com/results?search_query=Grease+1978', platform: 'youtube' },
    { file: 'harry-potter - 2001.mp3', display: 'Harry Potter - 2001', listenUrl: 'https://www.youtube.com/results?search_query=Harry+Potter+2001', platform: 'youtube' },
    { file: 'hasta-que-llego-su-hora - 1968.mp3', display: 'Hasta que Llegó su Hora - 1968', listenUrl: 'https://www.youtube.com/results?search_query=Hasta+que+Llego+su+Hora+1968', platform: 'youtube' },
    { file: 'indiana-jones - 1981.mp3', display: 'Indiana Jones - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Indiana+Jones+1981', platform: 'youtube' },
    { file: 'interstellar - 2014.mp3', display: 'Interstellar - 2014', listenUrl: 'https://www.youtube.com/results?search_query=Interstellar+2014', platform: 'youtube' },
    { file: 'james-bond - 1964.mp3', display: 'James Bond - 1964', listenUrl: 'https://www.youtube.com/results?search_query=James+Bond+1964', platform: 'youtube' },
    { file: 'joker - 2019.mp3', display: 'Joker - 2019', listenUrl: 'https://www.youtube.com/results?search_query=Joker+2019', platform: 'youtube' },
    { file: 'kill-bill - 2003.mp3', display: 'Kill Bill - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Kill+Bill+2003', platform: 'youtube' },
    { file: 'kill-bill-2 - 2004.mp3', display: 'Kill Bill 2 - 2004', listenUrl: 'https://www.youtube.com/results?search_query=Kill+Bill+2+2004', platform: 'youtube' },
    { file: 'la-bella-y-la-bestia - 2017.mp3', display: 'La Bella y la Bestia - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Bella+y+la+Bestia+2017', platform: 'youtube' },
    { file: 'la-familia-addams - 1991.mp3', display: 'La Familia Addams - 1991', listenUrl: 'https://www.youtube.com/results?search_query=La+Familia+Addams+1991', platform: 'youtube' },
    { file: 'la-historia-interminable - 1984.mp3', display: 'La Historia Interminable - 1984', listenUrl: 'https://www.youtube.com/results?search_query=La+Historia+Interminable+1984', platform: 'youtube' },
    { file: 'la-lista-de-schindler - 1993.mp3', display: 'La Lista de Schindler - 1993', listenUrl: 'https://www.youtube.com/results?search_query=La+Lista+de+Schindler+1993', platform: 'youtube' },
    { file: 'la-mision - 1986.mp3', display: 'La Misión - 1986', listenUrl: 'https://www.youtube.com/results?search_query=La+Mision+1986', platform: 'youtube' },
    { file: 'la-muerte-tenia-un-precio - 1965.mp3', display: 'La Muerte Tenia un Precio - 1965', listenUrl: 'https://www.youtube.com/results?search_query=La+Muerte+Tenia+un+Precio+1965', platform: 'youtube' },
    { file: 'la-mascara-del-zorro - 1998.mp3', display: 'La Máscara del Zorro - 1998', listenUrl: 'https://www.youtube.com/results?search_query=La+Mascara+del+Zorro+1998', platform: 'youtube' },
    { file: 'la-vida-de-brian - 1979.mp3', display: 'La Vida de Brian - 1979', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+de+Brian+1979', platform: 'youtube' },
    { file: 'la-vida-de-pi - 2012.mp3', display: 'La Vida de Pi - 2012', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+de+Pi+2012', platform: 'youtube' },
    { file: 'la-vida-en-rosa - 2007.mp3', display: 'La Vida en Rosa - 2007', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+en+Rosa+2007', platform: 'youtube' },
    { file: 'la-vida-es-bella - 1997.mp3', display: 'La Vida es Bella - 1997', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+es+Bella+1997', platform: 'youtube' },
    { file: 'leon - 1994.mp3', display: 'León - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Leon+1994', platform: 'youtube' },
    { file: 'mary-poppins - 1964.mp3', display: 'Mary Poppins - 1964', listenUrl: 'https://www.youtube.com/results?search_query=Mary+Poppins+1964', platform: 'youtube' },
    { file: 'memorias-de-africa - 1985.mp3', display: 'Memorias de África - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Memorias+de+Africa+1985', platform: 'youtube' },
    { file: 'mision-imposible - 1996.mp3', display: 'Mision Imposible - 1996', listenUrl: 'https://www.youtube.com/results?search_query=Mision+Imposible+1996', platform: 'youtube' },
    { file: 'philadelphia - 1993.mp3', display: 'Philadelphia - 1993', listenUrl: 'https://www.youtube.com/results?search_query=Philadelphia+1993', platform: 'youtube' },
    { file: 'piratas-del-caribe - 2003.mp3', display: 'Piratas del Caribe - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Piratas+del+Caribe+2003', platform: 'youtube' },
    { file: 'pretty-woman - 1990.mp3', display: 'Pretty Woman - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Pretty+Woman+1990', platform: 'youtube' },
    { file: 'pulp-fiction - 1994.mp3', display: 'Pulp Fiction - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Pulp+Fiction+1994', platform: 'youtube' },
    { file: 'regreso-al-futuro - 1985.mp3', display: 'Regreso al Futuro - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Regreso+al+Futuro+1985', platform: 'youtube' },
    { file: 'regreso-al-futuro-inicio - 1985.mp3', display: 'Regreso al Futuro (Inicio) - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Regreso+al+Futuro+Inicio+1985', platform: 'youtube' },
    { file: 'rocky - 1976.mp3', display: 'Rocky - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Rocky+1976', platform: 'youtube' },
    { file: 'rocky-iii - 1982.mp3', display: 'Rocky III - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Rocky+III+1982', platform: 'youtube' },
    { file: 'saga-crepusculo-amanecer-parte-1 - 2011.mp3', display: 'Saga Crepúsculo Amanecer Parte 1 - 2011', listenUrl: 'https://www.youtube.com/results?search_query=Saga+Crepusculo+Amanecer+Parte+1+2011', platform: 'youtube' },
    { file: 'solo-en-casa - 1990.mp3', display: 'Solo en Casa - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Solo+en+Casa+1990', platform: 'youtube' },
    { file: 'sombrero-de-copa - 1935.mp3', display: 'Sombrero de Copa - 1935', listenUrl: 'https://www.youtube.com/results?search_query=Sombrero+de+Copa+1935', platform: 'youtube' },
    { file: 'sonrisas-y-lagrimas - 1965.mp3', display: 'Sonrisas y Lágrimas - 1965', listenUrl: 'https://www.youtube.com/results?search_query=Sonrisas+y+Lagrimas+1965', platform: 'youtube' },
    { file: 'star-wars - 1977.mp3', display: 'Star Wars - 1977', listenUrl: 'https://www.youtube.com/results?search_query=Star+Wars+1977', platform: 'youtube' },
    { file: 'star-wars-imperial-march - 1977.mp3', display: 'Star Wars (Imperial March) - 1977', listenUrl: 'https://www.youtube.com/results?search_query=Star+Wars+Imperial+March+1977', platform: 'youtube' },
    { file: 'superman - 1978.mp3', display: 'Superman - 1978', listenUrl: 'https://www.youtube.com/results?search_query=Superman+1978', platform: 'youtube' },
    { file: 'tal-como-eramos - 1973.mp3', display: 'Tal Como Éramos - 1973', listenUrl: 'https://www.youtube.com/results?search_query=Tal+Como+Eramos+1973', platform: 'youtube' },
    { file: 'tiburon - 1975.mp3', display: 'Tiburón - 1975', listenUrl: 'https://www.youtube.com/results?search_query=Tiburon+1975', platform: 'youtube' },
    { file: 'titanic - 1997.mp3', display: 'Titanic - 1997', listenUrl: 'https://www.youtube.com/results?search_query=Titanic+1997', platform: 'youtube' },
    { file: 'un-dia-en-nueva-york - 1949.mp3', display: 'Un Día en Nueva York - 1949', listenUrl: 'https://www.youtube.com/results?search_query=Un+Dia+en+Nueva+York+1949', platform: 'youtube' },
    { file: 'west-side-story - 1965.mp3', display: 'West Side Story - 1965', listenUrl: 'https://www.youtube.com/results?search_query=West+Side+Story+1965', platform: 'youtube' },
    { file: 'willow - 1988.mp3', display: 'Willow - 1988', listenUrl: 'https://www.youtube.com/results?search_query=Willow+1988', platform: 'youtube' }
  ],
  //=====================================================================
// CONFIGURACIÓN DE CANCIONES (Fragmento ACTUALIZADO para la categoría 'series')
// REEMPLAZA SOLO la sección 'series' dentro de tu objeto 'configuracionCanciones'.
//=====================================================================
series: [
  { file: 'alf - 1986.mp3', display: 'ALF - 1986', listenUrl: 'https://www.youtube.com/results?search_query=ALF+1986+sintonia', platform: 'youtube' },
  { file: 'alice-in-borderland - 2020.mp3', display: 'Alice in Borderland - 2020', listenUrl: 'https://www.youtube.com/results?search_query=Alice+in+Borderland+2020+sintonia', platform: 'youtube' },
  { file: 'ally-mcbeal - 1997.mp3', display: 'Ally McBeal - 1997', listenUrl: 'https://www.youtube.com/results?search_query=Ally+McBeal+1997+sintonia', platform: 'youtube' },
  { file: 'al-salir-de-clase - 1997.mp3', display: 'Al Salir de Clase - 1997', listenUrl: 'https://www.youtube.com/results?search_query=Al+Salir+de+Clase+1997+sintonia', platform: 'youtube' },
  { file: 'aquellos-maravillosos-años - 1988.mp3', display: 'Aquellos Maravillosos Años - 1988', listenUrl: 'https://www.youtube.com/results?search_query=Aquellos+Maravillosos+Años+1988+sintonia', platform: 'youtube' },
  { file: 'aqui-no-hay-quien-viva - 2003.mp3', display: 'Aquí No Hay Quien Viva - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Aqui+No+Hay+Quien+Viva+2003+sintonia', platform: 'youtube' },
  { file: 'arrow - 2012.mp3', display: 'Arrow - 2012', listenUrl: 'https://www.youtube.com/results?search_query=Arrow+2012+sintonia', platform: 'youtube' },
  { file: 'aida - 2005.mp3', display: 'Aída - 2005', listenUrl: 'https://www.youtube.com/results?search_query=Aída+2005+sintonia', platform: 'youtube' },
  { file: 'beverly-hills-90210 - 1990.mp3', display: 'Beverly Hills, 90210 - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Beverly+Hills+90210+1990+sintonia', platform: 'youtube' },
  { file: 'bonanza - 1956.mp3', display: 'Bonanza - 1956', listenUrl: 'https://www.youtube.com/results?search_query=Bonanza+1956+sintonia', platform: 'youtube' },
  { file: 'breaking-bad - 2008.mp3', display: 'Breaking Bad - 2008', listenUrl: 'https://www.youtube.com/results?search_query=Breaking+Bad+2008+sintonia', platform: 'youtube' },
  { file: 'camera-cafe - 2005.mp3', display: 'Camera Café - 2005', listenUrl: 'https://www.youtube.com/results?search_query=Camera+Cafe+2005+sintonia', platform: 'youtube' },
  { file: 'cheers - 1982.mp3', display: 'Cheers - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Cheers+1982+sintonia', platform: 'youtube' },
  { file: 'colombo - 1968.mp3', display: 'Colombo - 1968', listenUrl: 'https://www.youtube.com/results?search_query=Colombo+1968+sintonia', platform: 'youtube' },
  { file: 'corrupcion-en-miami - 1984.mp3', display: 'Corrupción en Miami - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Corrupción+en+Miami+1984+sintonia', platform: 'youtube' },
  { file: 'cosas-de-casa - 1985.mp3', display: 'Cosas de Casa - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Cosas+de+Casa+1985+sintonia', platform: 'youtube' },
  { file: 'csi-miami - 2002.mp3', display: 'CSI Miami - 2002', listenUrl: 'https://www.youtube.com/results?search_query=CSI+Miami+2002+sintonia', platform: 'youtube' },
  { file: 'curro-jimenez - 1976.mp3', display: 'Curro Jimenez - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Curro+Jimenez+1976+sintonia', platform: 'youtube' },
  { file: 'cuentame-como-paso - 2001.mp3', display: 'Cuéntame Cómo Pasó - 2001', listenUrl: 'https://www.youtube.com/results?search_query=Cuentame+Como+Paso+2001+sintonia', platform: 'youtube' },
  { file: 'dallas - 1978.mp3', display: 'Dallas - 1978', listenUrl: 'https://www.youtube.com/results?search_query=Dallas+1978+sintonia', platform: 'youtube' },
  { file: 'daredevil - 2015.mp3', display: 'Daredevil - 2015', listenUrl: 'https://www.youtube.com/results?search_query=Daredevil+2015+sintonia', platform: 'youtube' },
  { file: 'dinastia - 1981.mp3', display: 'Dinastía - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Dinastia+1981+sintonia', platform: 'youtube' },
  { file: 'el-barco - 2011.mp3', display: 'El Barco - 2011', listenUrl: 'https://www.youtube.com/results?search_query=El+Barco+2011+sintonia', platform: 'youtube' },
  { file: 'el-chavo-del-ocho - 1973.mp3', display: 'El Chavo del Ocho - 1973', listenUrl: 'https://www.youtube.com/results?search_query=El+Chavo+del+Ocho+1973+sintonia', platform: 'youtube' },
  { file: 'el-coche-fantastico - 1982.mp3', display: 'El Coche Fantástico - 1982', listenUrl: 'https://www.youtube.com/results?search_query=El+Coche+Fantastico+1982+sintonia', platform: 'youtube' },
  { file: 'el-equipo-a-intro - 1983.mp3', display: 'El Equipo A Intro - 1983', listenUrl: 'https://www.youtube.com/results?search_query=El+Equipo+A+Intro+1983+sintonia', platform: 'youtube' },
  { file: 'el-equipo-a - 1983.mp3', display: 'El Equipo A - 1983', listenUrl: 'https://www.youtube.com/results?search_query=El+Equipo+A+1983+sintonia', platform: 'youtube' },
  { file: 'el-gran-heroe-americano - 1981.mp3', display: 'El Gran Héroe Americano - 1981', listenUrl: 'https://www.youtube.com/results?search_query=El+Gran+Heroe+Americano+1981+sintonia', platform: 'youtube' },
  { file: 'el-juego-del-calamar - 2021.mp3', display: 'El Juego del Calamar - 2021', listenUrl: 'https://www.youtube.com/results?search_query=El+Juego+del+Calamar+2021+sintonia', platform: 'youtube' },
  { file: 'el-principe - 2016.mp3', display: 'El Príncipe - 2016', listenUrl: 'https://www.youtube.com/results?search_query=El+Principe+2016+sintonia', platform: 'youtube' },
  { file: 'el-santo - 1962.mp3', display: 'El Santo - 1962', listenUrl: 'https://www.youtube.com/results?search_query=El+Santo+1962+sintonia', platform: 'youtube' },
  { file: 'el-secreto-de-puente-viejo - 2011.mp3', display: 'El Secreto de Puente Viejo - 2011', listenUrl: 'https://www.youtube.com/results?search_query=El+Secreto+de+Puente+Viejo+2011+sintonia', platform: 'youtube' },
  { file: 'el-show-de-benny-hill - 1955.mp3', display: 'El Show de Benny Hill - 1955', listenUrl: 'https://www.youtube.com/results?search_query=El+Show+de+Benny+Hill+1955+sintonia', platform: 'youtube' },
  { file: 'expediente-x - 1993.mp3', display: 'Expediente X - 1993', listenUrl: 'https://www.youtube.com/results?search_query=Expediente+X+1993+sintonia', platform: 'youtube' },
  { file: 'falcon-crest - 1981.mp3', display: 'Falcon Crest - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Falcon+Crest+1981+sintonia', platform: 'youtube' },
  { file: 'fama - 1982.mp3', display: 'Fama - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Fama+1982+sintonia', platform: 'youtube' },
  { file: 'farmacia-de-guardia - 1991.mp3', display: 'Farmacia de Guardia - 1991', listenUrl: 'https://www.youtube.com/results?search_query=Farmacia+de+Guardia+1991+sintonia', platform: 'youtube' },
  { file: 'friends - 1994.mp3', display: 'Friends - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Friends+1994+sintonia', platform: 'youtube' },
  { file: 'from - 2022.mp3', display: 'From - 2022', listenUrl: 'https://www.youtube.com/results?search_query=From+2022+sintonia', platform: 'youtube' },
  { file: 'fisica-o-quimica - 2008.mp3', display: 'Física o Química - 2008', listenUrl: 'https://www.youtube.com/results?search_query=Física+o+Química+2008+sintonia', platform: 'youtube' },
  { file: 'hawaii-cinco-0 - 1968.mp3', display: 'Hawaii Cinco-0 - 1968', listenUrl: 'https://www.youtube.com/results?search_query=Hawaii+Cinco-0+1968+sintonia', platform: 'youtube' },
  { file: 'hechizada - 1964.mp3', display: 'Hechizada - 1964', listenUrl: 'https://www.youtube.com/results?search_query=Hechizada+1964+sintonia', platform: 'youtube' },
  { file: 'hospital-central - 2000.mp3', display: 'Hospital Central - 2000', listenUrl: 'https://www.youtube.com/results?search_query=Hospital+Central+2000+sintonia', platform: 'youtube' },
  { file: 'juego-de-tronos - 2011.mp3', display: 'Juego de Tronos - 2011', listenUrl: 'https://www.youtube.com/results?search_query=Juego+de+Tronos+2011+sintonia', platform: 'youtube' },
  { file: 'juzgado-de-guardia - 1984.mp3', display: 'Juzgado de Guardia - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Juzgado+de+Guardia+1984+sintonia', platform: 'youtube' },
  { file: 'jovenes-jinetes - 1989.mp3', display: 'Jóvenes Jinetes - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Jovenes+Jinetes+1989+sintonia', platform: 'youtube' },
  { file: 'kung-fu - 1972.mp3', display: 'Kung Fu - 1972', listenUrl: 'https://www.youtube.com/results?search_query=Kung+Fu+1972+sintonia', platform: 'youtube' },
  { file: 'la-casa-de-la-pradera - 1974.mp3', display: 'La Casa de la Pradera - 1974', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+la+Pradera+1974+sintonia', platform: 'youtube' },
  { file: 'la-casa-de-papel-(intro) - 2017.mp3', display: 'La Casa de Papel (Intro) - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+Papel+Intro+2017+sintonia', platform: 'youtube' },
  { file: 'la-casa-de-papel - 2017.mp3', display: 'La Casa de Papel - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+Papel+2017+sintonia', platform: 'youtube' },
  { file: 'la-casa-del-dragon - 2022.mp3', display: 'La Casa del Dragón - 2022', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+del+Dragón+2022+sintonia', platform: 'youtube' },
  { file: 'la-hora-de-bill-cosby - 1984.mp3', display: 'La Hora de Bill Cosby - 1984', listenUrl: 'https://www.youtube.com/results?search_query=La+Hora+de+Bill+Cosby+1984+sintonia', platform: 'youtube' },
  { file: 'la-que-se-avecina - 2007.mp3', display: 'La Que Se Avecina - 2007', listenUrl: 'https://www.youtube.com/results?search_query=La+Que+Se+Avecina+2007+sintonia', platform: 'youtube' },
  { file: 'la-reina-del-sur - 2011.mp3', display: 'La Reina del Sur - 2011', listenUrl: 'https://www.youtube.com/results?search_query=La+Reina+del+Sur+2011+sintonia', platform: 'youtube' },
  { file: 'la-tribu-de-los-brady - 1969.mp3', display: 'La Tribu de los Brady - 1969', listenUrl: 'https://www.youtube.com/results?search_query=La+Tribu+de+los+Brady+1969+sintonia', platform: 'youtube' },
  { file: 'las-chicas-de-oro - 1985.mp3', display: 'Las Chicas de Oro - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Las+Chicas+de+Oro+1985+sintonia', platform: 'youtube' },
  { file: 'los-colby - 1985.mp3', display: 'Los Colby - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Los+Colby+1985+sintonia', platform: 'youtube' },
  { file: 'los-hombres-de-harrelson - 1975.mp3', display: 'Los Hombres de Harrelson - 1975', listenUrl: 'https://www.youtube.com/results?search_query=Los+Hombres+de+Harrelson+1975+sintonia', platform: 'youtube' },
  { file: 'los-problemas-crecen - 1985.mp3', display: 'Los Problemas Crecen - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Los+Problemas+Crecen+1985+sintonia', platform: 'youtube' },
  { file: 'los-ricos-tambien-lloran - 1979.mp3', display: 'Los Ricos También Lloran - 1979', listenUrl: 'https://www.youtube.com/results?search_query=Los+Ricos+También+Lloran+1979+sintonia', platform: 'youtube' },
  { file: 'los-serrano - 2003.mp3', display: 'Los Serrano - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Los+Serrano+2003+sintonia', platform: 'youtube' },
  { file: 'los-simpson - 1989.mp3', display: 'Los Simpson - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Los+Simpson+1989+sintonia', platform: 'youtube' },
  { file: 'los-vigilantes-de-la-playa - 1989.mp3', display: 'Los Vigilantes de la Playa - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Los+Vigilantes+de+la+Playa+1989+sintonia', platform: 'youtube' },
  { file: 'los-angeles-de-charlie - 1976.mp3', display: 'Los Ángeles de Charlie - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Los+Angeles+de+Charlie+1976+sintonia', platform: 'youtube' },
  { file: 'luz-de-luna - 1985.mp3', display: 'Luz de Luna - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Luz+de+Luna+1985+sintonia', platform: 'youtube' },
  { file: 'macgyver - 1985.mp3', display: 'MacGyver - 1985', listenUrl: 'https://www.youtube.com/results?search_query=MacGyver+1985+sintonia', platform: 'youtube' },
  { file: 'magnum-p.i - 1980.mp3', display: 'Magnum, P.I - 1980', listenUrl: 'https://www.youtube.com/results?search_query=Magnum+P.I+1980+sintonia', platform: 'youtube' },
  { file: 'manos-a-la-obra - 1998.mp3', display: 'Manos a la Obra - 1998', listenUrl: 'https://www.youtube.com/results?search_query=Manos+a+la+Obra+1998+sintonia', platform: 'youtube' },
  { file: 'mash - 1972.mp3', display: 'MASH - 1972', listenUrl: 'https://www.youtube.com/results?search_query=MASH+1972+sintonia', platform: 'youtube' },
  { file: 'matrimonio-con-hijos - 1987.mp3', display: 'Matrimonio con Hijos - 1987', listenUrl: 'https://www.youtube.com/results?search_query=Matrimonio+con+Hijos+1987+sintonia', platform: 'youtube' },
  { file: 'melrose-place - 1992.mp3', display: 'Melrose Place - 1992', listenUrl: 'https://www.youtube.com/results?search_query=Melrose+Place+1992+sintonia', platform: 'youtube' },
  { file: 'mentes-criminales - 2005.mp3', display: 'Mentes Criminales - 2005', listenUrl: 'https://www.youtube.com/results?search_query=Mentes+Criminales+2005+sintonia', platform: 'youtube' },
  { file: 'miercoles - 2022.mp3', display: 'Miércoles - 2022', listenUrl: 'https://www.youtube.com/results?search_query=Miércoles+2022+sintonia', platform: 'youtube' },
  { file: 'medico-de-familia - 1995.mp3', display: 'Médico de Familia - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Médico+de+Familia+1995+sintonia', platform: 'youtube' },
  { file: 'money-heist - 2017.mp3', display: 'La Casa de Papel - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+Papel+2017+sintonia', platform: 'youtube' }, // Redundante, ajustar si se quiere una única entrada para esta serie
  { file: 'the-office - 2005.mp3', display: 'The Office - 2005', listenUrl: 'https://www.youtube.com/results?search_query=The+Office+2005+sintonia', platform: 'youtube' },
  { file: 'orzowei - 1977.mp3', display: 'Orzowei - 1977', listenUrl: 'https://www.youtube.com/results?search_query=Orzowei+1977+sintonia', platform: 'youtube' },
  { file: 'padres-forzosos - 1987.mp3', display: 'Padres Forzosos - 1987', listenUrl: 'https://www.youtube.com/results?search_query=Padres+Forzosos+1987+sintonia', platform: 'youtube' },
  { file: 'pasapalabra-series - 2000.mp3', display: 'Pasapalabra - 2000', listenUrl: 'https://www.youtube.com/results?search_query=Pasapalabra+2000+sintonia', platform: 'youtube' }, // Posiblemente duplicado con TV, si es solo la sintonía
  { file: 'pesadillas - 1995.mp3', display: 'Pesadillas - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Pesadillas+1995+sintonia', platform: 'youtube' },
  { file: 'primos-lejanos - 1986.mp3', display: 'Primos Lejanos - 1986', listenUrl: 'https://www.youtube.com/results?search_query=Primos+Lejanos+1986+sintonia', platform: 'youtube' },
  { file: 'remington-steele - 1982.mp3', display: 'Remington Steele - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Remington+Steele+1982+sintonia', platform: 'youtube' },
  { file: 'renegado - 1992.mp3', display: 'Renegado - 1992', listenUrl: 'https://www.youtube.com/results?search_query=Renegado+1992+sintonia', platform: 'youtube' },
  { file: 'salvados-por-la-campana - 1989.mp3', display: 'Salvados por la Campana - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Salvados+por+la+Campana+1989+sintonia', platform: 'youtube' },
  { file: 'sandokan - 1976.mp3', display: 'Sandokan - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Sandokan+1976+sintonia', platform: 'youtube' },
  { file: 'santa-barbara - 1984.mp3', display: 'Santa Bárbara - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Santa+Bárbara+1984+sintonia', platform: 'youtube' },
  { file: 'se-ha-escrito-un-crimen - 1984.mp3', display: 'Se Ha Escrito un Crimen - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Se+Ha+Escrito+un+Crimen+1984+sintonia', platform: 'youtube' },
  { file: 'siete-vidas - 1996.mp3', display: 'Siete Vidas - 1996', listenUrl: 'https://www.youtube.com/results?search_query=Siete+Vidas+1996+sintonia', platform: 'youtube' },
  { file: 'silo - 2023.mp3', display: 'Silo - 2023', listenUrl: 'https://www.youtube.com/results?search_query=Silo+2023+sintonia', platform: 'youtube' },
  { file: 'sin-tetas-no-hay-paraiso - 2006.mp3', display: 'Sin Tetas No Hay Paraíso - 2006', listenUrl: 'https://www.youtube.com/results?search_query=Sin+Tetas+No+Hay+Paraíso+2006+sintonia', platform: 'youtube' },
  { file: 'starsky-y-hutch - 1975.mp3', display: 'Starsky y Hutch - 1975', listenUrl: 'https://www.youtube.com/results?search_query=Starsky+y+Hutch+1975+sintonia', platform: 'youtube' },
  { file: 'stranger-things - 2016.mp3', display: 'Stranger Things - 2016', listenUrl: 'https://www.youtube.com/results?search_query=Stranger+Things+2016+sintonia', platform: 'youtube' },
  { file: 'super-agente-86 - 1965.mp3', display: 'Super Agente 86 - 1965', listenUrl: 'https://www.youtube.com/results?search_query=Super+Agente+86+1965+sintonia', platform: 'youtube' },
  { file: 'the-big-bang-theory - 2007.mp3', display: 'The Big Bang Theory - 2007', listenUrl: 'https://www.youtube.com/results?search_query=The+Big+Bang+Theory+2007+sintonia', platform: 'youtube' },
  { file: 'tierra-de-lobos - 2010.mp3', display: 'Tierra de Lobos - 2010', listenUrl: 'https://www.youtube.com/results?search_query=Tierra+de+Lobos+2010+sintonia', platform: 'youtube' },
  { file: 'twin-peaks - 1990.mp3', display: 'Twin Peaks - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Twin+Peaks+1990+sintonia', platform: 'youtube' },
  { file: 'the-walking-dead - 2010.mp3', display: 'The Walking Dead - 2010', listenUrl: 'https://www.youtube.com/results?search_query=The+Walking+Dead+2010+sintonia', platform: 'youtube' },
  { file: 'un-medico-precoz - 1989.mp3', display: 'Un Médico Precoz - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Un+Médico+Precoz+1989+sintonia', platform: 'youtube' },
  { file: 'un-paso-adelante - 2002.mp3', display: 'Un Paso Adelante - 2002', listenUrl: 'https://www.youtube.com/results?search_query=Un+Paso+Adelante+2002+sintonia', platform: 'youtube' },
  { file: 'v - 1984.mp3', display: 'V - 1984', listenUrl: 'https://www.youtube.com/results?search_query=V+1984+sintonia', platform: 'youtube' },
  { file: 'vacaciones-en-el-mar - 1976.mp3', display: 'Vacaciones en el Mar - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Vacaciones+en+el+Mar+1976+sintonia', platform: 'youtube' },
  { file: 'verano-azul - 1981.mp3', display: 'Verano Azul - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Verano+Azul+1981+sintonia', platform: 'youtube' },
  { file: 'webster - 1983.mp3', display: 'Webster - 1983', listenUrl: 'https://www.youtube.com/results?search_query=Webster+1983+sintonia', platform: 'youtube' },
  { file: 'xena-la-princesa-guerrera - 1995.mp3', display: 'Xena, la Princesa Guerrera - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Xena+la+Princesa+Guerrera+1995+sintonia', platform: 'youtube' },
  { file: 'elite - 2018.mp3', display: 'Élite - 2018', listenUrl: 'https://www.youtube.com/results?search_query=Elite+2018+sintonia', platform: 'youtube' }
],
  tv: [
    { file: 'un-dos-tres-sintonia.mp3', display: 'Un, dos, tres... responda otra vez - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Un+Dos+Tres+Sintonia', platform: 'youtube' },
    { file: 'grand-prix-sintonia.mp3', display: 'Grand Prix del Verano - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Grand+Prix+Sintonia', platform: 'youtube' },
    { file: 'que-apostamos-sintonia.mp3', display: 'Qué apostamos - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Que+Apostamos+Sintonia', platform: 'youtube' },
    { file: 'la-bola-de-cristal-bruja-averia.mp3', display: 'La Bola de Cristal - La Bruja Avería', listenUrl: 'https://www.youtube.com/results?search_query=La+Bola+de+Cristal+La+Bruja+Averia', platform: 'youtube' },
    { file: 'el-hormiguero-sintonia.mp3', display: 'El Hormiguero - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=El+Hormiguero+Sintonia', platform: 'youtube' },
    { file: 'saber-y-ganar-sintonia.mp3', display: 'Saber y Ganar - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Saber+y+Ganar+Sintonia', platform: 'youtube' },
    { file: 'pasapalabra-sintonia.mp3', display: 'Pasapalabra - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Pasapalabra+Sintonia', platform: 'youtube' },
    { file: 'cuentame-como-paso-sintonia.mp3', display: 'Cuéntame Cómo Pasó - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Cuentame+Como+Paso+Sintonia', platform: 'youtube' },
    { file: 'farmacia-de-guardia-sintonia.mp3', display: 'Farmacia de Guardia - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Farmacia+de+Guardia+Sintonia', platform: 'youtube' },
    { file: 'verano-azul-sintonia.mp3', display: 'Verano Azul - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Verano+Azul+Sintonia', platform: 'youtube' }
  ],
  infantiles: [
    { file: 'dragones-y-mazmorras-sintonia.mp3', display: 'Dragones y Mazmorras - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Dragones+y+Mazmorras+Sintonia', platform: 'youtube' },
    { file: 'david-el-gnomo-sintonia.mp3', display: 'David el Gnomo - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=David+el+Gnomo+Sintonia', platform: 'youtube' },
    { file: 'd-artacan-sintonia.mp3', display: 'D\'Artacán y los Tres Mosqueperros - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=D%27Artacan+y+los+Tres+Mosqueperros+Sintonia', platform: 'youtube' },
    { file: 'willy-fog-sintonia.mp3', display: 'La Vuelta al Mundo de Willy Fog - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=La+Vuelta+al+Mundo+de+Willy+Fog+Sintonia', platform: 'youtube' },
    { file: 'barrio-sesamo-sintonia.mp3', display: 'Barrio Sésamo - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Barrio+Sesamo+Sintonia', platform: 'youtube' },
    { file: 'heidi-sintonia.mp3', display: 'Heidi - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Heidi+Sintonia', platform: 'youtube' },
    { file: 'marco-sintonia.mp3', display: 'Marco - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Marco+Sintonia', platform: 'youtube' },
    { file: 'mazinger-z-sintonia.mp3', display: 'Mazinger Z - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Mazinger+Z+Sintonia', platform: 'youtube' },
    { file: 'pokemon-sintonia.mp3', display: 'Pokémon - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Pokemon+Sintonia', platform: 'youtube' },
    { file: 'digimon-sintonia.mp3', display: 'Digimon - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Digimon+Sintonia', platform: 'youtube' }
  ],
  anuncios: [
    { file: 'cola-cao-negrito.mp3', display: 'Cola Cao - Yo soy aquel negrito', listenUrl: 'https://www.youtube.com/results?search_query=Cola+Cao+Yo+soy+aquel+negrito', platform: 'youtube' },
    { file: 'pipas-g-jingle.mp3', display: 'Pipas G - Jingle', listenUrl: 'https://www.youtube.com/results?search_query=Pipas+G+Jingle', platform: 'youtube' },
    { file: 'choco-krispies-desayuno.mp3', display: 'Choco Krispies - El desayuno de los campeones', listenUrl: 'https://www.youtube.com/results?search_query=Choco+Krispies+El+desayuno+de+los+campeones', platform: 'youtube' },
    { file: 'fanta-jingle-90s.mp3', display: 'Fanta - Jingle 90s', listenUrl: 'https://www.youtube.com/results?search_query=Fanta+Jingle+90s', platform: 'youtube' },
    { file: 'la-casera-el-verano-mas-refrescante.mp3', display: 'La Casera - El verano más refrescante', listenUrl: 'https://www.youtube.com/results?search_query=La+Casera+El+verano+mas+refrescante', platform: 'youtube' },
    { file: 'donuts-tengo-los-agujeros.mp3', display: 'Donuts - Tengo los agujeros', listenUrl: 'https://www.youtube.com/results?search_query=Donuts+Tengo+los+agujeros', platform: 'youtube' },
    { file: 'mimosin-suavidad-mimosin.mp3', display: 'Mimosín - Suavidad Mimosín', listenUrl: 'https://www.youtube.com/results?search_query=Mimosin+Suavidad+Mimosin', platform: 'youtube' },
    { file: 'bocatta-que-te-voy-a-dar.mp3', display: 'Bocatta - ¿Qué te voy a dar?', listenUrl: 'https://www.youtube.com/results?search_query=Bocatta+Que+te+voy+a+dar', platform: 'youtube' },
    { file: 'campofrio-la-familia.mp3', display: 'Campofrío - La Familia', listenUrl: 'https://www.youtube.com/results?search_query=Campofrio+La+Familia', platform: 'youtube' },
    { file: 'navidad-el-almendro.mp3', display: 'Navidad - Vuelve a Casa por Navidad (El Almendro)', listenUrl: 'https://www.youtube.com/results?search_query=Navidad+Vuelve+a+Casa+por+Navidad+El+Almendro', platform: 'youtube' }
  ]
};
    //=====================================================================
    // FIN DE LA SECCIÓN DE CONFIGURACIÓN
    //=====================================================================

    const categoryNames = { espanol: "Canciones en Español", ingles: "Canciones en Inglés", peliculas: "BSO de Películas", series: "BSO de Series", tv: "Programas de TV", infantiles: "Series Infantiles", anuncios: "Anuncios"};
    let gameState = {};
    let audioPlaybackTimeout;
    const screens = document.querySelectorAll('.screen');
    const audioPlayer = document.getElementById('audio-player');
    const sfxAcierto = document.getElementById('sfx-acierto');
    const sfxError = document.getElementById('sfx-error');

    

    // Estado global para el usuario logueado
    let currentUser = null; // Almacenará { email: '', playerName: '' }
    // Objetos para almacenar las puntuaciones acumuladas y el historial de partidas en memoria
    // Su estructura será: { 'email@dominio.com': { 'espanol': 150, 'peliculas': 200, ... } }
    let userAccumulatedScores = {};
    let gameHistory = []; // Almacena resultados de partidas multijugador

    // Función para mostrar pantallas
    function showScreen(screenId) {
        screens.forEach(screen => screen.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
        // Ocultar inputs de nombres de jugador al volver a la selección de jugadores
        if (screenId === 'player-selection-screen') {
            document.getElementById('other-player-names-inputs').innerHTML = ''; // Limpiar inputs
            document.getElementById('logged-in-player-name').textContent = ''; // Limpiar nombre del jugador logueado
        }
    }

    // =====================================================================
    // FUNCIONES DE AUTENTICACIÓN (Registro y Login)
    // =====================================================================

    // Función para validar formato de email
    function isValidEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }

    // Función de registro de usuario
    function registerUser() {
        const emailInput = document.getElementById('register-email');
        const passwordInput = document.getElementById('register-password');
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        if (!email || !password) {
            alert('Por favor, introduce un email y una contraseña.');
            return;
        }
        if (!isValidEmail(email)) {
            alert('Por favor, introduce un email válido.');
            return;
        }

        // Recuperar usuarios existentes de localStorage
        const users = JSON.parse(localStorage.getItem('users')) || {};

        if (users[email]) {
            alert('Este email ya está registrado. Por favor, inicia sesión o usa otro email.');
            return;
        }

        // Guardar nuevo usuario (contraseña en texto plano por ahora, no es seguro para producción)
        users[email] = { password: password, playerName: null }; // playerName es null al principio
        localStorage.setItem('users', JSON.stringify(users));

        alert('¡Registro exitoso! Ya puedes iniciar sesión.');
        emailInput.value = '';
        passwordInput.value = '';
        showScreen('login-screen');
    }

    // Función de login de usuario (MODIFICADA para cargar historial y puntuaciones acumuladas)
    function loginUser() {
        const emailInput = document.getElementById('login-email');
        const passwordInput = document.getElementById('login-password');
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        if (!email || !password) {
            alert('Por favor, introduce tu email y contraseña.');
            return;
        }

        const users = JSON.parse(localStorage.getItem('users')) || {};
        const user = users[email];

        if (!user || user.password !== password) {
            alert('Email o contraseña incorrectos.');
            return;
        }

        // Login exitoso
        currentUser = { email: email, playerName: user.playerName };
        localStorage.setItem('loggedInUserEmail', email); 

        // Cargar las puntuaciones acumuladas y el historial de partidas del usuario logueado
        loadUserScores(currentUser.email); 
        loadGameHistory(); // NUEVA LLAMADA: Cargar el historial de partidas al loguear

        alert(`¡Bienvenido, ${user.playerName || email}!`); 
        emailInput.value = '';
        passwordInput.value = '';

        if (currentUser.playerName) {
            showScreen('category-screen');
        } else {
            showScreen('set-player-name-screen');
        }
    }

    // Función para cerrar sesión
    function logout() {
        currentUser = null;
        localStorage.removeItem('loggedInUserEmail');
        alert('Sesión cerrada correctamente.');
        showScreen('home-screen'); // Vuelve a la pantalla de inicio
    }

    // Función para establecer el nombre de jugador
    function setPlayerName() {
        const playerNameInput = document.getElementById('player-name-input');
        const newPlayerName = playerNameInput.value.trim();

        if (!newPlayerName) {
            alert('Por favor, introduce un nombre de jugador.');
            return;
        }

        if (currentUser) {
            const users = JSON.parse(localStorage.getItem('users')) || {};
            users[currentUser.email].playerName = newPlayerName;
            localStorage.setItem('users', JSON.stringify(users));

            currentUser.playerName = newPlayerName; // Actualiza el objeto currentUser en memoria
            alert(`Tu nombre de jugador "${newPlayerName}" ha sido establecido.`);
            playerNameInput.value = ''; // Limpiar el input
            showScreen('category-screen'); // Ir a la selección de categoría
        } else {
            alert('No hay un usuario logueado. Por favor, inicia sesión primero.');
            showScreen('login-screen');
        }
    }


    // =====================================================================
    // FUNCIONES PARA GESTIÓN DE PUNTUACIONES ACUMULADAS Y HISTORIAL
    // =====================================================================

    function loadUserScores(userEmail) {
        const storedScores = JSON.parse(localStorage.getItem('userScores')) || {};
        userAccumulatedScores = storedScores;

        // Inicializar el usuario si no tiene puntuaciones previas
        if (!userAccumulatedScores[userEmail]) {
            userAccumulatedScores[userEmail] = {};
        }
        console.log(`Puntuaciones de ${userEmail} cargadas:`, userAccumulatedScores[userEmail]);
    }

    function saveUserScores(userEmail, category, score) {
        if (!userEmail || !category || typeof score !== 'number') {
            console.error("Error: Datos incompletos para guardar puntuación acumulada.");
            return;
        }

        // Asegurarse de que el usuario existe en el objeto de puntuaciones acumuladas
        if (!userAccumulatedScores[userEmail]) {
            userAccumulatedScores[userEmail] = {};
        }

        // Sumar los puntos obtenidos en la partida a la categoría correspondiente
        userAccumulatedScores[userEmail][category] = (userAccumulatedScores[userEmail][category] || 0) + score;

        // Guardar el objeto actualizado en localStorage
        localStorage.setItem('userScores', JSON.stringify(userAccumulatedScores));
        console.log(`Puntuación de ${userEmail} actualizada para ${category}: ${userAccumulatedScores[userEmail][category]}`);
    }

    function loadGameHistory() {
        const storedHistory = JSON.parse(localStorage.getItem('gameHistory')) || [];
        gameHistory = storedHistory;
        console.log("Historial de partidas cargado:", gameHistory);
    }

    function saveGameResult(players, winnerName, category) {
        // Obtenemos la fecha actual en formato DD/MM/AAAA
        const today = new Date();
        const day = String(today.getDate()).padStart(2, '0');
        const month = String(today.getMonth() + 1).padStart(2, '0'); // Meses son 0-11
        const year = today.getFullYear();
        const formattedDate = `${day}/${month}/${year}`;

        const gameResult = {
            date: formattedDate,
            players: players.map(p => p.name), // Guardar solo los nombres de los jugadores
            winner: winnerName,
            category: category
        };
        gameHistory.push(gameResult);
        localStorage.setItem('gameHistory', JSON.stringify(gameHistory));
        console.log("Resultado de partida guardado:", gameResult);
    }

    // Función para calcular victorias entre dos jugadores específicos (para la futura pantalla de stats)
    function calculateDuelWins(player1Name, player2Name) {
        let wins1 = 0;
        let wins2 = 0;
        
        // Convertir a minúsculas para una comparación insensible a mayúsculas/minúsculas
        const p1 = player1Name.toLowerCase();
        const p2 = player2Name.toLowerCase();

        gameHistory.forEach(game => {
            // Asegurarse de que el juego sea un "duelo" y que los jugadores coincidan
            if (game.players.length === 2) {
                const gamePlayersLower = game.players.map(name => name.toLowerCase()).sort(); // Ordenar para comparar independientemente del orden
                const sortedDuelPlayers = [p1, p2].sort();

                if (gamePlayersLower[0] === sortedDuelPlayers[0] && gamePlayersLower[1] === sortedDuelPlayers[1]) {
                    // Es un duelo entre estos dos jugadores
                    if (game.winner && game.winner.toLowerCase() === p1) {
                        wins1++;
                    } else if (game.winner && game.winner.toLowerCase() === p2) {
                        wins2++;
                    }
                }
            }
        });
        return { [player1Name]: wins1, [player2Name]: wins2 };
    }

    // =====================================================================
    // FUNCIONES DEL JUEGO (MODIFICADAS: loginUser, endGame, inicialización)
    // =====================================================================

    function parseDisplay(displayText) {
        const parts = displayText.split(' - ');
        if (parts.length < 2) {
            return { artist: displayText, title: '' };
        }
        return { artist: parts[0].trim(), title: parts.slice(1).join(' - ').trim() };
    }

    function generateCategoryButtons() {
        const container = document.getElementById('category-buttons');
        container.innerHTML = '';
        for (const categoryId in categoryNames) {
            if (configuracionCanciones[categoryId] && configuracionCanciones[categoryId].length >= 4) {
                const button = document.createElement('button');
                button.className = 'category-btn';
                button.innerText = categoryNames[categoryId];
                button.onclick = () => selectCategory(categoryId);
                container.appendChild(button);
            }
        }
    }

    function selectCategory(category) {
        if (!currentUser || !currentUser.playerName) {
            alert('Debes iniciar sesión y establecer tu nombre de jugador para continuar.');
            showScreen('login-screen');
            return;
        }
        gameState.category = category;
        showScreen('player-selection-screen');
    }
    
    // Función para seleccionar el número de jugadores y generar inputs de nombres
    function selectPlayers(numPlayers) {
        if (!currentUser || !currentUser.playerName) {
            alert('Debes iniciar sesión y establecer tu nombre de jugador para continuar.');
            showScreen('login-screen');
            return;
        }

        gameState.playerCount = numPlayers;
        const otherPlayerNamesInputsDiv = document.getElementById('other-player-names-inputs');
        otherPlayerNamesInputsDiv.innerHTML = ''; // Limpiar inputs anteriores
        
        // Mostrar el nombre del usuario logueado como el primer jugador
        document.getElementById('logged-in-player-name').textContent = currentUser.playerName;

        // Generar inputs para los jugadores adicionales (si hay)
        for (let i = 1; i < numPlayers; i++) {
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'text-input';
            input.placeholder = `Nombre del Jugador ${i + 1}`;
            input.id = `player-${i + 1}-name-input`;
            otherPlayerNamesInputsDiv.appendChild(input);
        }

        showScreen('player-names-input-screen'); // Mostrar la pantalla para introducir nombres
    }

    function startGame() {
        if (!currentUser || !currentUser.playerName) {
            alert('Error: No se ha encontrado el nombre del jugador principal. Por favor, inicia sesión de nuevo.');
            logout(); // Forzar cierre de sesión y redirigir
            return;
        }

        gameState.players = [];
        // Añadir el usuario logueado como el primer jugador
        gameState.players.push({ 
            id: 1, 
            name: currentUser.playerName, 
            score: 0, 
            questionsAnswered: 0, 
            questions: [] 
        });

        // Recopilar nombres de otros jugadores si existen
        for (let i = 1; i < gameState.playerCount; i++) {
            const input = document.getElementById(`player-${i + 1}-name-input`);
            const name = input.value.trim() || `Jugador ${i + 1}`;
            gameState.players.push({ 
                id: i + 1, 
                name: name, 
                score: 0, 
                questionsAnswered: 0, 
                questions: [] 
            });
        }

        gameState.totalQuestionsPerPlayer = 10; // Cada jugador responderá 10 preguntas
        // Comprobar si hay suficientes canciones para la categoría seleccionada y el número de jugadores
        const allSongsInCat = [...configuracionCanciones[gameState.category]];
        const requiredSongs = gameState.totalQuestionsPerPlayer * gameState.playerCount;

        if (allSongsInCat.length < requiredSongs) {
            console.warn(`Advertencia: No hay suficientes canciones en la categoría (${categoryNames[gameState.category]}) para ${gameState.playerCount} jugadores, cada uno con ${gameState.totalQuestionsPerPlayer} preguntas. Se necesitan ${requiredSongs} y solo hay ${allSongsInCat.length}. Ajustando el número de preguntas por jugador.`);
            gameState.totalQuestionsPerPlayer = Math.floor(allSongsInCat.length / gameState.playerCount);
            if (gameState.totalQuestionsPerPlayer < 1) { 
                 alert('No hay suficientes canciones para que cada jugador tenga al menos una pregunta. Elige otra categoría o menos jugadores.');
                 showScreen('category-screen');
                 return;
            }
        }
        
        let shuffledSongs = allSongsInCat.sort(() => 0.5 - Math.random());

        // Asignar 10 preguntas aleatorias a cada jugador desde el inicio de la partida
        for (let i = 0; i < gameState.playerCount; i++) {
            // Asegurarse de que haya suficientes canciones para cortar
            if (shuffledSongs.length >= gameState.totalQuestionsPerPlayer) {
                gameState.players[i].questions = shuffledSongs.splice(0, gameState.totalQuestionsPerPlayer);
            } else {
                // Si no hay suficientes, asignar las restantes y avisar
                gameState.players[i].questions = [...shuffledSongs];
                console.warn(`No se pudieron asignar ${gameState.totalQuestionsPerPlayer} preguntas al jugador ${gameState.players[i].name}. Solo se asignaron ${shuffledSongs.length} preguntas.`);
                shuffledSongs = []; // Vaciar el array para asegurar que no se reusen
                gameState.totalQuestionsPerPlayer = gameState.players[i].questions.length; // Ajustar para este jugador si es necesario
            }
        }
        
        gameState.currentPlayerIndex = 0; // Siempre empezar por el primer jugador
        setupQuestion();
        showScreen('game-screen');
    }

    function setupQuestion() {
        const currentPlayer = gameState.players[gameState.currentPlayerIndex];

        // Verificar si el jugador actual ha respondido todas sus preguntas
        if (currentPlayer.questionsAnswered >= gameState.totalQuestionsPerPlayer) {
            nextPlayerOrEndGame(); // Si ya terminó, pasar al siguiente jugador o finalizar
            return;
        }
        
        clearTimeout(audioPlaybackTimeout);
        audioPlayer.pause(); // Pausar cualquier audio en reproducción
        gameState.attempts = 3;
        gameState.hasPlayed = false;

        // Obtener la pregunta actual para este jugador
        const currentQuestion = currentPlayer.questions[currentPlayer.questionsAnswered];
        
        // Actualizar la interfaz del juego
        document.getElementById("player-name-display").textContent = currentPlayer.name;
        document.getElementById('category-display').innerText = categoryNames[gameState.category];
        document.getElementById('question-counter').innerText = `Pregunta ${currentPlayer.questionsAnswered + 1}/${gameState.totalQuestionsPerPlayer}`;
        document.getElementById('player-turn').innerText = `Turno de ${currentPlayer.name}`;
        document.getElementById('points-display').innerText = `Puntos: ${currentPlayer.score}`;

        updateAttemptsCounter();

        const answerButtonsContainer = document.getElementById('answer-buttons');
        answerButtonsContainer.innerHTML = ''; // Limpiar botones anteriores

        const allSongsInCat = [...configuracionCanciones[gameState.category]];
        let options = [currentQuestion];
        while (options.length < 4) {
            const randomSong = allSongsInCat[Math.floor(Math.random() * allSongsInCat.length)];
            // Asegurarse de que la opción aleatoria no sea la respuesta correcta y no esté ya en las opciones
            if (!options.some(opt => opt.file === randomSong.file) && randomSong.file !== currentQuestion.file) {
                options.push(randomSong);
            }
        }
        options.sort(() => 0.5 - Math.random());

        options.forEach(option => {
            const button = document.createElement('button');
            button.className = 'btn answer-btn';
            const parsedDisplay = parseDisplay(option.display);
            button.innerHTML = `<strong>${parsedDisplay.artist}</strong>${parsedDisplay.title}`;
            button.onclick = () => checkAnswer(option.file === currentQuestion.file, button);
            answerButtonsContainer.appendChild(button);
        });

        const playBtn = document.getElementById('play-song-btn');
        playBtn.onclick = playAudioSnippet;
        playBtn.disabled = false;
        playBtn.innerText = "▶";
    }

    function updateAttemptsCounter() {
        const counter = document.getElementById('attempts-counter');
        counter.innerText = `Intentos: ${gameState.attempts}`;
        if (gameState.attempts === 3) counter.style.backgroundColor = 'var(--correct-color)';
        else if (gameState.attempts === 2) counter.style.backgroundColor = 'var(--warning-color)';
        else counter.style.backgroundColor = 'var(--incorrect-color)';
    }

    function playAudioSnippet() {
        if (gameState.hasPlayed) return;
        gameState.hasPlayed = true;
        const durations = { 3: 4000, 2: 6000, 1: 10000 };
        const duration = durations[gameState.attempts];
        const currentPlayer = gameState.players[gameState.currentPlayerIndex];
        const currentQuestion = currentPlayer.questions[currentPlayer.questionsAnswered];

        audioPlayer.src = `audio/${gameState.category}/${currentQuestion.file}`;
        audioPlayer.currentTime = 0;
        audioPlayer.play();

        const playBtn = document.getElementById('play-song-btn');
        playBtn.innerText = "🎵";
        playBtn.disabled = true;

        audioPlaybackTimeout = setTimeout(() => {
            audioPlayer.pause();
            playBtn.innerText = "▶";
        }, duration);
    }

    function checkAnswer(isCorrect, button) {
        if (!gameState.hasPlayed) {
            alert("¡Primero tienes que pulsar el botón ▶ para escuchar la canción!");
            return;
        }
        clearTimeout(audioPlaybackTimeout);
        audioPlayer.pause();
        document.querySelectorAll('.answer-btn').forEach(btn => btn.classList.add('disabled'));

        if (isCorrect) {
            sfxAcierto.currentTime = 0;
            sfxAcierto.play();
            const points = { 3: 3, 2: 2, 1: 1 };
            gameState.players[gameState.currentPlayerIndex].score += points[gameState.attempts];
            button.classList.add('correct');
            // Incrementar las preguntas respondidas para el jugador actual
            gameState.players[gameState.currentPlayerIndex].questionsAnswered++;
            
            // Esperar antes de pasar al siguiente turno/jugador
            setTimeout(nextPlayerOrEndGame, 1500); // Llama directamente a la lógica de avance
        } else {
            sfxError.currentTime = 0;
            sfxError.play();
            button.classList.add('incorrect');
            gameState.attempts--;
            updateAttemptsCounter();
            if (gameState.attempts > 0) {
                setTimeout(() => {
                    document.querySelectorAll('.answer-btn').forEach(btn => {
                        btn.classList.remove('disabled', 'incorrect', 'correct'); 
                    });
                    gameState.hasPlayed = false;
                    const playBtn = document.getElementById('play-song-btn');
                    playBtn.disabled = false;
                    playBtn.innerText = "▶";
                }, 1500);
            } else {
                // Si no quedan intentos, el jugador actual no acertó esta pregunta, pasar al siguiente turno
                gameState.players[gameState.currentPlayerIndex].questionsAnswered++;
                setTimeout(nextPlayerOrEndGame, 1500); // Llama directamente a la lógica de avance
            }
        }
    }

    function nextPlayerOrEndGame() {
        const currentPlayer = gameState.players[gameState.currentPlayerIndex];

        // Caso de un solo jugador: siempre va directamente a la siguiente pregunta o finaliza
        if (gameState.players.length === 1) {
            if (currentPlayer.questionsAnswered >= gameState.totalQuestionsPerPlayer) {
                endGame(); // Si el único jugador ha terminado, finaliza el juego
            } else {
                setupQuestion(); // Si el único jugador tiene más preguntas, configura la siguiente para él
            }
            return; // Salir de la función después de manejar el caso de un solo jugador
        }

        // Lógica para MÚLTIPLES jugadores
        // Si el jugador actual ha respondido todas sus preguntas
        if (currentPlayer.questionsAnswered >= gameState.totalQuestionsPerPlayer) {
            gameState.currentPlayerIndex++; // Intentar pasar al siguiente jugador

            // Verificar si hay más jugadores después del actual
            if (gameState.currentPlayerIndex < gameState.players.length) {
                // Hay otro jugador: mostrar pantalla de transición
                const nextPlayer = gameState.players[gameState.currentPlayerIndex];
                document.getElementById('current-player-score-summary').textContent = 
                    `${currentPlayer.name} ha terminado su turno con ${currentPlayer.score} puntos.`;
                document.getElementById('next-player-prompt').textContent = 
                    `Siguiente jugador: ${nextPlayer.name}, ¿preparado para comenzar?`;
                showScreen('player-transition-screen');
            } else {
                // Todos los jugadores han terminado sus preguntas
                endGame();
            }
        } else {
            // El jugador actual aún tiene preguntas por responder
            setupQuestion();
        }
    }

    // Nueva función para continuar el turno del siguiente jugador
    function continueToNextPlayerTurn() {
        setupQuestion(); // Configurar el juego para el jugador que sigue
        showScreen('game-screen'); // Volver a la pantalla de juego
    }


    function endGame() {
        const finalScoresContainer = document.getElementById('final-scores');
        finalScoresContainer.innerHTML = '<h3>Puntuaciones Finales</h3>';
        
        const sortedPlayers = [...gameState.players].sort((a, b) => b.score - a.score);
        const winnerDisplay = document.getElementById('winner-display');

        if (gameState.players.length === 1) {
            // Caso de un solo jugador
            const player = gameState.players[0];
            winnerDisplay.textContent = `${player.name} has conseguido ${player.score} puntos.`;
            // Asegurarse de quitar los estilos de neón si vienen de una partida anterior
            winnerDisplay.style.animation = 'none'; 
            winnerDisplay.style.textShadow = 'none';
            winnerDisplay.style.color = 'var(--light-text-color)'; 
            winnerDisplay.style.border = 'none'; 
            winnerDisplay.style.fontSize = '1.8rem'; 

            // Guardar la puntuación acumulada para el usuario logueado (NUEVO)
            if (currentUser && currentUser.email) {
                saveUserScores(currentUser.email, gameState.category, player.score);
            }

        } else {
            // Caso de múltiples jugadores (lógica existente para ganador/empate)
            let winnerName = 'Empate'; // Valor por defecto si hay empate
            if (sortedPlayers.length > 0) {
                const topScore = sortedPlayers[0].score;
                const winners = sortedPlayers.filter(player => player.score === topScore);

                if (winners.length > 1) {
                    const winnerNames = winners.map(winner => winner.name).join(' y ');
                    winnerDisplay.textContent = `¡Hay un EMPATE! Los GANADORES son ${winnerNames} con ${topScore} puntos!`;
                    // winnerName ya es 'Empate'
                } else {
                    winnerDisplay.textContent = `¡El GANADOR es ${sortedPlayers[0].name} con ${sortedPlayers[0].score} puntos!`;
                    winnerName = sortedPlayers[0].name; // Obtener el nombre del ganador
                }
            } else {
                winnerDisplay.textContent = 'No hay ganador en esta partida.';
                winnerName = 'Nadie'; // Si no hay jugadores o puntuaciones, lo indicamos así
            }
            // Asegurarse de que los estilos de neón estén activos para multijugador
            winnerDisplay.style.animation = 'neonGlow 1.5s ease-in-out infinite alternate';
            winnerDisplay.style.textShadow = '0 0 8px var(--secondary-color), 0 0 15px var(--secondary-color)';
            winnerDisplay.style.color = 'var(--secondary-color)';
            winnerDisplay.style.borderBottom = '2px solid var(--secondary-color)';
            winnerDisplay.style.borderTop = '2px solid var(--secondary-color)';
            winnerDisplay.style.fontSize = '2.5rem';

            // Guardar la puntuación acumulada para el usuario logueado si participó (NUEVO)
            if (currentUser && currentUser.email) {
                const loggedInPlayer = gameState.players.find(p => p.email === currentUser.email); // Usar email para identificar al jugador logueado
                if (loggedInPlayer) {
                    saveUserScores(currentUser.email, gameState.category, loggedInPlayer.score);
                } else {
                    // Si el jugador logueado no está en gameState.players (ej. en partidas de invitados sin loguearse)
                    // No deberíamos llegar aquí si el flujo de login es correcto
                    console.warn("Usuario logueado no encontrado en la lista de jugadores de la partida.");
                }
            }
            
            // NUEVO: Guardar el resultado de la partida multijugador
            saveGameResult(gameState.players, winnerName, gameState.category);
        }

        // Mostrar todas las puntuaciones (siempre)
        sortedPlayers.forEach((player, index) => {
            const medal = (gameState.players.length > 1) ? ({ 0: '🥇', 1: '🥈', 2: '🥉' }[index] || '') : ''; 
            finalScoresContainer.innerHTML += `<p>${medal} ${player.name}: <strong>${player.score} puntos</strong></p>`; 
        });
        
        document.getElementById('play-again-btn').onclick = () => { 
            // Reiniciar el estado de los jugadores para una nueva partida
            gameState.players.forEach(player => {
                player.score = 0;
                player.questionsAnswered = 0;
                player.questions = []; // Importante para que startGame vuelva a asignar nuevas preguntas
            });
            showScreen('player-selection-screen'); 
        };
        showScreen('end-game-screen');
    }

    function exitGame() {
        const confirmed = confirm('¿Seguro que quieres salir del juego? Se cerrará la sesión actual.');
        if (confirmed) {
            logout();
        }
    }

    function confirmReturnToMenu() {
        const confirmed = confirm("¿Estás seguro de que quieres volver al menú principal? Perderás el progreso de esta partida.");
        if (confirmed) {
            showScreen('category-screen');
        }
    }

    // ... (Tus funciones loadUserScores, saveUserScores, loadGameHistory, saveGameResult, calculateDuelWins) ...

// =====================================================================
// FUNCIONES DE PANTALLA DE ESTADÍSTICAS
// =====================================================================

function showStatisticsScreen() {
    if (!currentUser || !currentUser.email) {
        alert("Debes iniciar sesión para ver tus estadísticas.");
        showScreen('login-screen');
        return;
    }

    showScreen('statistics-screen');
    renderUserTotalScores();
    renderDuelHistory();
}

// ... (Tus funciones de gestión de puntos y historial, y calculateDuelWins) ...

// =====================================================================
// FUNCIONES DE PANTALLA DE LISTADO DE CANCIONES (NUEVAS Y MODIFICADAS)
// =====================================================================

function showSongsListCategorySelection() {
    showScreen('songs-list-category-screen');
    const container = document.getElementById('songs-list-category-buttons');
    container.innerHTML = ''; // Limpiar botones anteriores

    for (const categoryId in categoryNames) {
        if (configuracionCanciones[categoryId] && configuracionCanciones[categoryId].length > 0) {
            const button = document.createElement('button');
            button.className = 'category-btn';
            button.innerText = categoryNames[categoryId];
            button.onclick = () => displaySongsForCategory(categoryId);
            container.appendChild(button);
        }
    }
}

function displaySongsForCategory(categoryId) {
    // CORRECCIÓN AQUÍ (MUY IMPORTANTE):
    const songs = configuracionCanciones[categoryId]; // Antes era configuracionCanciones.es[categoryId];

    const songsListContainer = document.getElementById('songs-list-container');
    const songsListCategoryTitle = document.getElementById('songs-list-category-title');

    songsListContainer.innerHTML = ''; // Limpiar lista anterior
    songsListCategoryTitle.textContent = `Canciones de ${categoryNames[categoryId]}`; // Título de la categoría

    if (!songs || songs.length === 0) {
        songsListContainer.innerHTML = '<p>No hay canciones en esta categoría.</p>';
        showScreen('songs-list-display-screen');
        return;
    }

    // Agrupar y ordenar canciones por letra inicial del artista/título
    const groupedSongs = {};
    const sortedSongs = [...songs].sort((a, b) => {
        const nameA = parseDisplay(a.display).artist || parseDisplay(a.display).title;
        const nameB = parseDisplay(b.display).artist || parseDisplay(b.display).title;
        return nameA.localeCompare(nameB);
    });

    sortedSongs.forEach(song => {
        const primaryName = (parseDisplay(song.display).artist || parseDisplay(song.display).title || 'Sin Nombre').trim();
        const firstChar = primaryName.charAt(0).toUpperCase();
        if (!groupedSongs[firstChar]) {
            groupedSongs[firstChar] = [];
        }
        groupedSongs[firstChar].push(song);
    });

    // Generar índice alfabético
    const alphaIndexDiv = document.createElement('div');
    alphaIndexDiv.className = 'alpha-index'; // Clase para CSS
    songsListContainer.appendChild(alphaIndexDiv);

    const sortedLetters = Object.keys(groupedSongs).sort();
    sortedLetters.forEach(letter => {
        const link = document.createElement('a');
        link.href = `#letter-${letter}`;
        link.textContent = letter;
        // Los estilos se aplicarán con CSS, no inline aquí
        alphaIndexDiv.appendChild(link);
    });

    // Mostrar canciones agrupadas por letra
    sortedLetters.forEach(letter => {
        const letterHeader = document.createElement('h3');
        letterHeader.id = `letter-${letter}`;
        letterHeader.textContent = letter;
        letterHeader.style.marginTop = '30px';
        letterHeader.style.marginBottom = '15px';
        letterHeader.style.color = 'var(--warning-color)';
        letterHeader.style.borderBottom = '1px solid var(--warning-color)';
        letterHeader.style.paddingBottom = '5px';
        letterHeader.style.textAlign = 'left';
        songsListContainer.appendChild(letterHeader);

        groupedSongs[letter].forEach(song => {
            const songDiv = document.createElement('div');
            songDiv.className = 'song-item-card'; 
            
            const textContent = document.createElement('span');
            textContent.style.flexGrow = '1';
            textContent.innerHTML = `<strong>${parseDisplay(song.display).artist}</strong>${parseDisplay(song.display).title ? `<br>${parseDisplay(song.display).title}` : ''}`;
            songDiv.appendChild(textContent);

            // Botón de "Oír" único
            // Solo muestra el botón si listenUrl existe y no es el placeholder de búsqueda
            if (song.listenUrl && song.listenUrl.length > 5 && !song.listenUrl.includes('URL_DE_BÚSQUEDA_PENDIENTE')) {
                const listenBtn = document.createElement('button');
                listenBtn.className = 'btn small-listen-btn';
                
                let icon = '▶'; // Icono por defecto (YouTube)
                let bgColor = '#FF0000'; // Rojo de YouTube
                let shadowColor = '#FF0000';

                if (song.platform === 'spotify') {
                    icon = '🎧'; // Icono de Spotify
                    bgColor = '#1DB954'; // Verde de Spotify
                    shadowColor = '#1DB954';
                }

                listenBtn.innerHTML = icon;
                listenBtn.onclick = () => window.open(song.listenUrl, '_blank');
                // Los estilos inline se mueven a CSS si es posible, pero para los colores dinámicos se pueden mantener aquí
                listenBtn.style.backgroundImage = `linear-gradient(45deg, ${bgColor}, ${shadowColor})`;
                listenBtn.style.boxShadow = `0 0 5px ${shadowColor}`;
                
                songDiv.appendChild(listenBtn);
            } else {
                 // Opcional: Mostrar un texto "Sin enlace" si no hay URL válida
                const noLinksText = document.createElement('span');
                noLinksText.style.fontSize = '0.8rem';
                noLinksText.style.color = 'var(--warning-color)';
                noLinksText.textContent = ' (Sin enlace)';
                textContent.appendChild(noLinksText);
            }

            songsListContainer.appendChild(songDiv);
        });
    });

    showScreen('songs-list-display-screen');
}

function renderUserTotalScores() {
    const categoryScoresList = document.getElementById('category-scores-list');
    categoryScoresList.innerHTML = ''; // Limpiar contenido anterior

    const userScores = userAccumulatedScores[currentUser.email];

    if (!userScores || Object.keys(userScores).length === 0) {
        categoryScoresList.innerHTML = '<p style="color: var(--text-color);">Aún no tienes puntos acumulados. ¡Juega para empezar a sumar!</p>';
        return;
    }

    // Convertir el objeto de puntuaciones a un array para ordenar
    const sortedCategories = Object.entries(userScores).sort(([, scoreA], [, scoreB]) => scoreB - scoreA);

    sortedCategories.forEach(([categoryId, score]) => {
        const categoryName = categoryNames[categoryId] || categoryId; // Obtener nombre legible
        const p = document.createElement('p');
        p.className = 'score-item'; // Puedes añadir CSS para esto después si quieres
        p.innerHTML = `${categoryName}: <strong>${score} puntos</strong>`;
        categoryScoresList.appendChild(p);
    });
}

function renderDuelHistory() {
    const duelList = document.getElementById('duel-list');
    duelList.innerHTML = ''; // Limpiar contenido anterior

    // Filtrar solo los duelos (partidas de 2 jugadores)
    const duels = gameHistory.filter(game => game.players.length === 2);

    if (duels.length === 0) {
        duelList.innerHTML = '<p style="color: var(--text-color);">Aún no tienes duelos registrados. ¡Desafía a un amigo!</p>';
        return;
    }

    // Agrupar duelos por pares de jugadores para calcular victorias entre ellos
    const duelPairs = {}; // Clave: "JugadorA_JugadorB" (ordenado alfabéticamente)
    duels.forEach(game => {
        // Normalizar nombres para la clave del par (insensible a mayúsculas y minúsculas)
        const playerNames = game.players.map(name => name.toLowerCase()).sort();
        const pairKey = playerNames.join('_');

        if (!duelPairs[pairKey]) {
            duelPairs[pairKey] = { players: game.players.sort(), games: [] }; // Guardar nombres originales pero ordenados para visualización
        }
        duelPairs[pairKey].games.push(game);
    });

    // Mostrar estadísticas para cada par de duelos
    for (const key in duelPairs) {
        const pair = duelPairs[key];
        const [p1Name, p2Name] = pair.players; // Nombres ordenados alfabéticamente
        const duelWins = calculateDuelWins(p1Name, p2Name); // Usa la función ya existente

        const duelSummaryDiv = document.createElement('div');
        duelSummaryDiv.className = 'duel-summary-card'; // Para CSS
        duelSummaryDiv.style.background = 'rgba(0, 0, 0, 0.2)';
        duelSummaryDiv.style.padding = '10px';
        duelSummaryDiv.style.borderRadius = '8px';
        duelSummaryDiv.style.marginBottom = '15px';
        duelSummaryDiv.style.border = '1px solid var(--primary-color)';
        
        duelSummaryDiv.innerHTML = `
            <p style="font-size: 1.1rem; font-weight: bold; color: var(--secondary-color); margin-bottom: 5px;">${p1Name} vs ${p2Name}</p>
            <p style="font-size: 0.95rem;">${p1Name}: <strong>${duelWins[p1Name]} victorias</strong> | ${p2Name}: <strong>${duelWins[p2Name]} victorias</strong></p>
            <details style="margin-top: 10px; text-align: left;">
                <summary style="font-size: 0.9rem; cursor: pointer; color: var(--warning-color);">Ver historial detallado</summary>
                <ul style="list-style-type: none; padding-left: 0;">
                </ul>
            </details>
        `;
        const detailsList = duelSummaryDiv.querySelector('ul');
        // Ordenar los juegos dentro del duelo por fecha (más reciente primero)
        pair.games.sort((a, b) => new Date(b.date.split('/').reverse().join('-')) - new Date(a.date.split('/').reverse().join('-')));

        pair.games.forEach(game => {
            const listItem = document.createElement('li');
            listItem.style.fontSize = '0.85rem';
            listItem.style.marginBottom = '3px';
            listItem.style.color = 'var(--text-color)';
            listItem.textContent = `Fecha: ${game.date}, Ganador: ${game.winner}, Categoría: ${categoryNames[game.category]}`;
            detailsList.appendChild(listItem);
        });

        duelList.appendChild(duelSummaryDiv);
    }
}
    

    // =====================================================================
    // INICIALIZACIÓN (Modificada para gestionar sesión)
    // =====================================================================

    window.onload = () => {
        generateCategoryButtons();
        // Intentar cargar la sesión del usuario
        const loggedInUserEmail = localStorage.getItem('loggedInUserEmail');
        if (loggedInUserEmail) {
            const users = JSON.parse(localStorage.getItem('users')) || {};
            const user = users[loggedInUserEmail];
            if (user) {
                currentUser = { email: loggedInUserEmail, playerName: user.playerName };
                if (currentUser.playerName) {
                    showScreen('category-screen'); // Si ya tiene nombre, va directo a categorías
                } else {
                    showScreen('set-player-name-screen'); // Si está logueado pero sin nombre, va a establecer nombre
                }
            }
             else {
                // Si el email guardado no corresponde a un usuario, limpiar sesión y mostrar login
                localStorage.removeItem('loggedInUserEmail');
                showScreen('login-screen');
            }
        } else {
            showScreen('home-screen'); // Si no hay sesión, ir a la pantalla de inicio (que redirigirá a login)
        }
    };
    </script>
</body>
</html>
=======
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivina la Canción</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        
        :root {
            --primary-color: #7b00ff;
            --secondary-color: #00eaff;
            --background-start: #1a0033;
            --background-end: #000000;
            --card-background: rgba(255, 255, 255, 0.08);
            --text-color: #e0e0e0;
            --light-text-color: #ffffff;
            --correct-color: #00cc00;
            --incorrect-color: #e6006e;
            --warning-color: #e6e600;
            --shadow-base: 0 0 8px rgba(0, 255, 255, 0.25);
            --button-shadow-neon: 0 0 8px var(--secondary-color), 0 0 12px var(--secondary-color);
            --border-radius: 15px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: radial-gradient(circle at center, var(--background-start) 0%, var(--background-end) 100%);
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
        }

        .screen {
            display: none;
            width: 100%;
            max-width: 420px;
            background: var(--card-background);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-base);
            text-align: center;
            animation: fadeIn .7s ease-in-out;
            border: 1px solid var(--secondary-color);
            backdrop-filter: blur(3px);
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1, h2, h3 {
            margin-bottom: 20px;
            font-family: 'Luckiest Guy', cursive;
            text-shadow: 0 0 3px rgba(123, 0, 255, 0.7), 0 0 6px rgba(123, 0, 255, 0.5);
        }

        .logo {
            max-width: 220px;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.4));
        }

        h1 {
            font-size: 3rem;
            background: -webkit-linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text; /* ¡Añade esta línea! */
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            text-shadow: 0 0 6px rgba(123, 0, 255, 0.8), 0 0 10px rgba(0, 234, 255, 0.6);
        }

        .btn, .category-btn, .player-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: none;
            border-radius: 10px;
            background-image: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: var(--light-text-color);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform .2s, box-shadow .2s, background-image .3s;
            text-align: center;
            text-decoration: none;
            text-shadow: 0 0 4px rgba(255, 255, 255, 0.6);
            box-shadow: var(--button-shadow-neon);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn:hover, .category-btn:hover, .player-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 10px var(--primary-color), 0 0 18px var(--secondary-color);
            background-image: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
        }

        .btn.secondary {
            background-image: linear-gradient(45deg, #6c757d, #343a40);
            box-shadow: 0 0 8px rgba(108, 117, 125, 0.5);
        }
        .btn.secondary:hover {
            background-image: linear-gradient(45deg, #343a40, #6c757d);
            box-shadow: 0 0 12px rgba(108, 117, 125, 0.7);
        }

        .btn.tertiary {
            background-image: linear-gradient(45deg, var(--warning-color), #ff007b);
            box-shadow: 0 0 8px rgba(255, 193, 7, 0.5);
        }
        .btn.tertiary:hover {
            background-image: linear-gradient(45deg, #ff007b, var(--warning-color));
            box-shadow: 0 0 12px rgba(255, 193, 7, 0.7);
        }

        /* Ajustes para el recuadro del encabezado del juego */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 20px; /* Aumentado el padding para más espacio */
            min-height: 80px; /* Nueva altura mínima para el recuadro */
            background: rgba(0, 0, 0, 0.25);
            border-radius: 10px;
            border: 1px solid var(--secondary-color);
        }

        .game-header div {
            flex: 1;
            /* Se podría añadir flex-basis aquí si queremos que los divs internos tengan un tamaño base diferente */
        }

        .game-info {
            text-align: left;
        }

        .game-score {
            text-align: right;
            display: flex; /* Usar flexbox para alinear contador y puntos */
            flex-direction: column; /* Apilar verticalmente */
            align-items: flex-end; /* Alinear a la derecha */
            justify-content: center; /* Centrar verticalmente */
            gap: 5px; /* Espacio entre los elementos */
        }

        #question-counter {
            font-weight: 700;
            color: var(--warning-color);
            text-shadow: 0 0 2px rgba(230, 230, 0, 0.8);
            font-size: 1.1rem; /* Ligeramente más grande para que se vea mejor */
        }

        #points-display { /* Aseguramos que este elemento se vea bien con el nuevo espacio */
            font-size: 1.1rem; /* Ligeramente más grande */
            font-weight: 700;
            color: var(--light-text-color);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
        }

        #player-turn {
            font-size: 1.6rem; /* Un poco más grande para destacar */
            font-weight: 700;
            color: var(--secondary-color);
            text-shadow: 0 0 4px rgba(0, 234, 255, 0.8);
            margin-bottom: 10px;
        }

        .attempts-counter {
            font-weight: 700;
            padding: 5px 10px;
            border-radius: 5px;
            color: var(--light-text-color);
            transition: background-color .3s, box-shadow .3s;
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.3);
            font-size: 1rem; /* Asegurar que el tamaño sea legible */
        }

        #attempts-counter[style*="var(--correct-color)"] {
            box-shadow: 0 0 8px var(--correct-color);
        }
        #attempts-counter[style*="var(--warning-color)"] {
            box-shadow: 0 0 8px var(--warning-color);
        }
        #attempts-counter[style*="var(--incorrect-color)"] {
            box-shadow: 0 0 8px var(--incorrect-color);
        }

        #play-song-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            padding-left: 0px;
            box-shadow: 0 0 10px var(--secondary-color);
            border: 1px solid var(--secondary-color);
        }
        #play-song-btn:hover {
            box-shadow: 0 0 15px var(--secondary-color), 0 0 20px var(--secondary-color);
        }

        #answer-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .answer-btn {
            background-image: none;
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-color);
            text-align: center;
            padding: 12px;
            height: 90px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 0;
            font-size: .95rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.15);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
        }

        .answer-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 8px var(--secondary-color);
        }

        .answer-btn.correct {
            background-color: var(--correct-color);
            color: #fff;
            box-shadow: 0 0 8px var(--correct-color), 0 0 15px var(--correct-color);
            text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
        }

        .answer-btn.incorrect {
            background-color: var(--incorrect-color);
            color: #fff;
            box-shadow: 0 0 8px var(--incorrect-color), 0 0 15px var(--incorrect-color);
            text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
        }

        .answer-btn.disabled {
            pointer-events: none;
            opacity: .6;
        }

        .answer-btn strong {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 2px;
            font-family: 'Luckiest Guy', cursive;
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.4);
        }

        .player-selection-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .player-btn {
            margin-bottom: 0;
            padding: 20px 15px;
        }

        #final-scores h3 {
            margin-top: 25px;
            color: var(--secondary-color);
            text-shadow: 0 0 4px rgba(0, 234, 255, 0.7);
        }

        #final-scores p {
            font-size: 1.2rem;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.25);
            margin-bottom: 10px;
            border: 1px solid var(--primary-color);
            text-shadow: 0 0 1px rgba(0, 0, 0, 0.3);
        }

        #final-scores p strong {
            color: var(--warning-color);
            text-shadow: 0 0 4px rgba(230, 230, 0, 0.8);

        }

        .text-input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--secondary-color);
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light-text-color);
            font-size: 1rem;
            box-shadow: inset 0 0 5px rgba(0, 255, 255, 0.1);
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .text-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .text-input:focus {
            border-color: var(--primary-color);
            box-shadow: inset 0 0 5px rgba(123, 0, 255, 0.4), 0 0 8px rgba(0, 234, 255, 0.4);
        }

        .small-text {
            font-size: 0.9rem;
            margin-top: -5px;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .small-text a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s;
        }

        .small-text a:hover {
            color: var(--primary-color);
        }

        .warning-text {
            color: var(--warning-color);
            font-weight: 700;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid var(--warning-color);
            border-radius: 8px;
            background-color: rgba(230, 230, 0, 0.1);
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
        }

        #winner-display {
            font-family: 'Luckiest Guy', cursive;
            font-size: 2.5rem;
            color: var(--secondary-color);
            text-shadow: 0 0 8px var(--secondary-color), 0 0 15px var(--secondary-color);
            margin-bottom: 25px;
            animation: neonGlow 1.5s ease-in-out infinite alternate;
            padding: 10px 0;
            border-bottom: 2px solid var(--secondary-color);
            border-top: 2px solid var(--secondary-color);
        }

        @keyframes neonGlow {
            from { text-shadow: 0 0 5px var(--secondary-color), 0 0 10px var(--secondary-color), 0 0 20px var(--secondary-color); }
            to { text-shadow: 0 0 8px var(--primary-color), 0 0 15px var(--primary-color), 0 0 30px var(--secondary-color); }
        }
        /* ... Tus estilos existentes ... */

/* Estilos para la tarjeta de cada canción en el listado */
.song-item-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px; /* Espacio entre el texto y el botón */
    min-height: 70px;
    background: rgba(255, 255, 255, 0.08); /* Reutiliza --card-background o define uno nuevo */
    padding: 10px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-base); /* Sombra base para todas las cards */
    text-align: left;
    margin-bottom: 10px;
    border: 1px solid rgba(255, 255, 255, 0.15); /* Borde suave */
    backdrop-filter: blur(2px); /* Un blur ligero también para estas cards */
}

.song-item-card strong {
    font-family: 'Luckiest Guy', cursive;
    font-size: 1.1rem;
    color: var(--light-text-color); /* Para que el nombre del artista/título principal resalte */
    text-shadow: 0 0 2px rgba(0,0,0,0.5);
}

.song-item-card span {
    color: var(--text-color); /* Color para el resto del texto de la canción */
}

/* Estilos para el nuevo botón único de escuchar */
.btn.small-listen-btn {
    display: flex; /* Para centrar el icono */
    align-items: center;
    justify-content: center;
    width: 45px; /* Un poco más grande para el icono */
    height: 45px;
    padding: 0;
    margin: 0;
    font-size: 1.5rem; /* Tamaño del icono */
    border-radius: 50%; /* Botón redondo */
    text-shadow: none;
    box-shadow: 0 0 8px rgba(0,0,0,0.4); /* Sombra de neón suave */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Borde sutil */
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    color: white; /* Color del icono */
}

.btn.small-listen-btn:hover {
    transform: scale(1.1); /* Ligeramente más grande al pasar el ratón */
    box-shadow: 0 0 12px rgba(0,0,0,0.6); /* Sombra más pronunciada */
}

/* Estilos para el índice alfabético (enlaces A, B, C...) */
.alpha-index {
    text-align: center;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.2);
    padding: 10px;
    border-radius: var(--border-radius);
    border: 1px solid var(--secondary-color);
}

.alpha-index a {
    display: inline-block;
    min-width: 30px; /* Ancho mínimo para cada letra */
    height: 30px;
    line-height: 30px; /* Centrar texto verticalmente */
    text-align: center;
    text-transform: uppercase;
    text-decoration: none;
    font-weight: bold;
    color: var(--secondary-color);
    background-color: transparent; /* Inicialmente transparente */
    border: 1px solid var(--secondary-color);
    border-radius: 5px;
    transition: all 0.2s ease;
}

.alpha-index a:hover {
    background-color: var(--secondary-color);
    color: var(--background-start);
    transform: translateY(-2px);
    box-shadow: 0 0 8px var(--secondary-color);
}

/* ... (Tus estilos existentes) ... */

/* Estilos para el contenedor scrollable del listado de canciones */
#songs-list-scroll-content {
    max-height: 45vh; /* Ajusta la altura máxima a un porcentaje de la altura de la ventana */
    overflow-y: auto; /* Permite el scroll vertical si el contenido desborda */
    padding-right: 10px; /* Añade un poco de padding para que la barra de scroll no se pegue al contenido */
    margin-bottom: 20px; /* Espacio antes de los botones de navegación */
    border: 1px solid var(--card-background); /* Borde sutil para la zona de scroll */
    border-radius: var(--border-radius);
    background: rgba(0, 0, 0, 0.1); /* Fondo ligero para la zona scrollable */
}

/* ... (Tus estilos existentes antes de la sección de listado de canciones) ... */

/* Estilos para la tarjeta de cada canción en el listado */
.song-item-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px; /* Espacio entre el texto y el botón */
    min-height: 70px;
    background: rgba(255, 255, 255, 0.08); /* Reutiliza --card-background o define uno nuevo */
    padding: 10px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-base); /* Sombra base para todas las cards */
    text-align: left;
    margin-bottom: 10px;
    border: 1px solid rgba(255, 255, 255, 0.15); /* Borde suave */
    backdrop-filter: blur(2px); /* Un blur ligero también para estas cards */
}

.song-item-card strong {
    font-family: 'Luckiest Guy', cursive;
    font-size: 1.1rem;
    color: var(--light-text-color); /* Para que el nombre del artista/título principal resalte */
    text-shadow: 0 0 2px rgba(0,0,0,0.5);
}

.song-item-card span {
    color: var(--text-color); /* Color para el resto del texto de la canción */
}

/* Estilos para el nuevo botón único de escuchar */
.btn.small-listen-btn {
    display: flex; /* Para centrar el icono */
    align-items: center;
    justify-content: center;
    width: 45px; /* Un poco más grande para el icono */
    height: 45px;
    padding: 0;
    margin: 0;
    font-size: 1.5rem; /* Tamaño del icono */
    border-radius: 50%; /* Botón redondo */
    text-shadow: none;
    box-shadow: 0 0 8px rgba(0,0,0,0.4); /* Sombra de neón suave */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Borde sutil */
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    color: white; /* Color del icono */
}

.btn.small-listen-btn:hover {
    transform: scale(1.1); /* Ligeramente más grande al pasar el ratón */
    box-shadow: 0 0 12px rgba(0,0,0,0.6); /* Sombra más pronunciada */
}

/* Estilos para el índice alfabético (enlaces A, B, C...) */
.alpha-index {
    text-align: center;
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.2);
    padding: 10px;
    border-radius: var(--border-radius);
    border: 1px solid var(--secondary-color);
}

.alpha-index a {
    display: inline-block;
    min-width: 30px; /* Ancho mínimo para cada letra */
    height: 30px;
    line-height: 30px; /* Centrar texto verticalmente */
    text-align: center;
    text-transform: uppercase;
    text-decoration: none;
    font-weight: bold;
    color: var(--secondary-color);
    background-color: transparent; /* Inicialmente transparente */
    border: 1px solid var(--secondary-color);
    border-radius: 5px;
    transition: all 0.2s ease;
}

.alpha-index a:hover {
    background-color: var(--secondary-color);
    color: var(--background-start);
    transform: translateY(-2px);
    box-shadow: 0 0 8px var(--secondary-color);
}

/* ESTILOS CLAVE PARA EL SCROLL */
/* ... (Tus estilos existentes antes de esta sección) ... */

/* ESTILOS CLAVE PARA EL SCROLL (para #songs-list-scroll-content) */
#songs-list-scroll-content {
    max-height: 50vh; /* Ajusta la altura máxima a un porcentaje de la altura de la ventana del navegador */
    overflow-y: auto; /* Permite el scroll vertical si el contenido desborda */
    padding-right: 10px; /* Añade un poco de padding para que la barra de scroll no se pegue al contenido */
    margin-bottom: 20px; /* Espacio antes de los botones de navegación */
    border: 1px solid var(--card-background); /* Borde sutil para la zona de scroll */
    border-radius: var(--border-radius);
    background: rgba(0, 0, 0, 0.1); /* Fondo ligero para la zona scrollable */
    /* Asegúrate de que este contenedor ocupe un porcentaje del alto para que max-height funcione */
    height: auto; 
    flex-grow: 1; /* Permite que crezca para ocupar espacio disponible si está en un flex container */
    /* Estas propiedades 'display' y 'flex-direction' son si songs-list-scroll-content es padre de alpha-index y song-item-card */
    display: flex; 
    flex-direction: column; 
}

/* Opcional: Estilo para la barra de desplazamiento (solo webkit browsers como Chrome/Safari) */
#songs-list-scroll-content::-webkit-scrollbar {
    width: 8px;
}

#songs-list-scroll-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

#songs-list-scroll-content::-webkit-scrollbar-thumb {
    background-color: var(--secondary-color);
    border-radius: 10px;
    border: 2px solid rgba(0, 0, 0, 0.1);
}

/* Estilos para el contenedor interno de canciones, si necesitas padding extra o diseño */
#songs-list-container {
    padding: 10px 0; /* Padding interno para que el contenido no se pegue a los bordes del scrollable */
}

    </style>
</head>
<body>
    <div id="home-screen" class="screen active">
        <img src="img/adivina.png" alt="Logotipo de Adivina la Canción" class="logo">
        <button class="btn" onclick="showScreen('login-screen')">Jugar</button>
    </div>
    <div id="login-screen" class="screen">
    <h2>Iniciar Sesión</h2>
    <input type="email" id="login-email" class="text-input" placeholder="Correo electrónico">
    <input type="password" id="login-password" class="text-input" placeholder="Contraseña">
    <button class="btn" onclick="loginUser()">Entrar</button>
    <p class="small-text">¿No tienes cuenta? <a href="#" onclick="showScreen('register-screen')">Regístrate aquí</a></p>
</div>

<div id="register-screen" class="screen">
    <h2>Registro</h2>
    <input type="email" id="register-email" class="text-input" placeholder="Correo electrónico">
    <input type="password" id="register-password" class="text-input" placeholder="Contraseña">
    <button class="btn" onclick="registerUser()">Registrar</button>
    <p class="small-text">¿Ya tienes cuenta? <a href="#" onclick="showScreen('login-screen')">Inicia sesión</a></p>
</div>

<div id="set-player-name-screen" class="screen">
    <div id="game-info" style="margin-bottom: 15px;">
        </div>
    <h2>Nombre de Jugador</h2>
    <input type="text" id="player-name-input" class="text-input" placeholder="Introduce tu nombre de jugador">
    <button class="btn" onclick="setPlayerName()">Continuar</button>
</div>
    <div id="category-screen" class="screen">
        <h2>Elige una Categoría</h2>
        <div id="category-buttons"></div>
        <button class="btn tertiary" onclick="showStatisticsScreen()">Estadísticas</button>
        <button class="btn tertiary" onclick="showSongsListCategorySelection()">Canciones</button>
        <button class="btn tertiary" onclick="exitGame()">Salir del Juego</button>
    </div>

    <div id="statistics-screen" class="screen">
        <h2>Mis Estadísticas</h2>
        <div id="user-total-scores" style="margin-bottom: 20px;">
            <h3>Puntos Acumulados por Categoría</h3>
            <div id="category-scores-list">
                <p>Cargando estadísticas...</p>
            </div>
        </div>

        <div id="duel-history">
            <h3>Historial de Duelos (2 Jugadores)</h3>
            <div id="duel-list">
                <p>Cargando historial...</p>
            </div>
        </div>

        <button class="btn secondary" onclick="showScreen('category-screen')">Volver al Menú</button>
    </div>

    <div id="songs-list-category-screen" class="screen">
        <h2>Listado de Canciones por Categoría</h2>
        <div id="songs-list-category-buttons"></div>
        <button class="btn secondary" onclick="showScreen('category-screen')">Volver al Menú</button>
    </div>

    <div id="songs-list-display-screen" class="screen">
        <h2 id="songs-list-category-title"></h2>
        
        <div id="songs-list-scroll-content">
            <div id="songs-list-container">
                <p>Cargando canciones...</p>
            </div>
        </div>
        <button class="btn secondary" onclick="showSongsListCategorySelection()" style="margin-top: 20px;">Volver a Categorías de Canciones</button>
        <button class="btn secondary" onclick="showScreen('category-screen')">Volver al Menú Principal</button>
    </div>

    <div id="player-selection-screen" class="screen">
        <h2>Introduce el número de jugadores</h2>
        <div class="player-selection-grid">
            <button class="player-btn" onclick="selectPlayers(1)">1 Jugador</button>
            <button class="player-btn" onclick="selectPlayers(2)">2 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(3)">3 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(4)">4 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(5)">5 Jugadores</button>
            <button class="player-btn" onclick="selectPlayers(6)">6 Jugadores</button>
        </div>
        <button class="btn secondary" onclick="confirmReturnToMenu()" style="margin-top: 20px;">Menú Principal</button>
    </div>
    <div id="player-names-input-screen" class="screen">
        <h2>Nombres de los Jugadores</h2>
        <p class="small-text">El primer jugador es tu usuario logueado: <strong id="logged-in-player-name"></strong></p>
        <div id="other-player-names-inputs"></div>
        <button class="btn" onclick="startGame()">Comenzar Partida</button>
        <button class="btn secondary" onclick="showScreen('player-selection-screen')">Volver a selección de jugadores</button>
    </div>

    <div id="player-transition-screen" class="screen">
        <h2>Turno Terminado</h2>
        <p id="current-player-score-summary" style="font-size: 1.3rem; margin-bottom: 20px; color: var(--warning-color);"></p>
        <h3 id="next-player-prompt" style="color: var(--secondary-color); margin-bottom: 30px;"></h3>
        <button class="btn" onclick="continueToNextPlayerTurn()">Comenzar</button>
    </div>

    <div id="game-screen" class="screen">
        <div id="game-info" style="margin-bottom: 15px;">
            <strong>Turno de:</strong> <span id="player-name-display"></span>
        </div>

        <div class="game-header">
            <div class="game-info">
                <div id="category-display"></div>
                <div id="question-counter"></div>
            </div>
            <div class="game-score">
                <span id="attempts-counter" class="attempts-counter"></span>
                <div id="points-display"></div>
            </div>
        </div>
        <h3 id="player-turn"></h3>
        <button id="play-song-btn" class="btn">▶</button>
        <div id="answer-buttons"></div>
        <button class="btn secondary" onclick="confirmReturnToMenu()" style="margin-top: 20px;">Menú Principal</button>
    </div>
    <div id="end-game-screen" class="screen">
        <h2>Partida Terminada</h2>
        <div id="winner-display"></div>
        <div id="final-scores"></div>
        <button class="btn" id="play-again-btn">Volver a Jugar</button>
        <button class="btn secondary" onclick="showScreen('category-screen')">Menú Principal</button>
        <button class="btn tertiary" onclick="showScreen('home-screen')">Salir</button>
    </div>

    <audio id="audio-player"></audio>
    <audio id="sfx-acierto" src="audio/sfx/acierto.mp3"></audio>
    <audio id="sfx-error" src="audio/sfx/error.mp3"></audio>

    <script>
    //=====================================================================
    // CONFIGURACIÓN DE CANCIONES
    //=====================================================================
    const configuracionCanciones = {
  espanol: [
    { file: 'alejandro-sanz - y-si-fuera-ella.mp3', display: 'Alejandro Sanz - Y Si Fuera Ella', listenUrl: 'https://open.spotify.com/search/Alejandro%20Sanz%20Y%20Si%20Fuera%20Ella', platform: 'spotify' },
    { file: 'alex-ubago - sin-miedo-a-nada.mp3', display: 'Alex Ubago - Sin Miedo A Nada', listenUrl: 'https://open.spotify.com/search/Alex%20Ubago%20Sin%20Miedo%20A%20Nada', platform: 'spotify' },
    { file: 'alvaro-soler - sofia.mp3', display: 'Alvaro Soler - Sofia', listenUrl: 'https://open.spotify.com/search/Alvaro%20Soler%20Sofia', platform: 'spotify' },
    { file: 'amaral - moriria-por-vos.mp3', display: 'Amaral - Moriria Por Vos', listenUrl: 'https://open.spotify.com/search/Amaral%20Moriria%20Por%20Vos', platform: 'spotify' },
    { file: 'amaral - sin-ti-no-soy-nada.mp3', display: 'Amaral - Sin Ti No Soy Nada', listenUrl: 'https://open.spotify.com/search/Amaral%20Sin%20Ti%20No%20Soy%20Nada', platform: 'spotify' },
    { file: 'amistades-peligrosas - me-quedare-solo.mp3', display: 'Amistades Peligrosas - Me Quedare Solo', listenUrl: 'https://open.spotify.com/search/Amistades%20Peligrosas%20Me%20Quedare%20Solo', platform: 'spotify' },
    { file: 'ana-mena - usica-ligera.mp3', display: 'Ana Mena - Usica Ligera', listenUrl: 'https://open.spotify.com/search/Ana%20Mena%20Usica%20Ligera', platform: 'spotify' },
    { file: 'andy-y-lucas - tanto-la-queria.mp3', display: 'Andy Y Lucas - Tanto La Queria', listenUrl: 'https://open.spotify.com/search/Andy%20Y%20Lucas%20Tanto%20La%20Queria', platform: 'spotify' },
    { file: 'antonio-orozco - estoy-hecho-de-pedacitos-de-ti.mp3', display: 'Antonio Orozco - Estoy Hecho De Pedacitos De Ti', listenUrl: 'https://open.spotify.com/search/Antonio%20Orozco%20Estoy%20Hecho%20De%20Pedacitos%20De%20Ti', platform: 'spotify' },
    { file: 'baute-y-marta-sanchez - colgando-en-tus-manos.mp3', display: 'Baute Y Marta Sanchez - Colgando En Tus Manos', listenUrl: 'https://open.spotify.com/search/Baute%20Y%20Marta%20Sanchez%20Colgando%20En%20Tus%20Manos', platform: 'spotify' },
    { file: 'bebe - malo.mp3', display: 'Bebe - Malo', listenUrl: 'https://open.spotify.com/search/Bebe%20Malo', platform: 'spotify' },
    { file: 'bizarrap-ft-quevedo - bzrp-session-vol.-52.mp3', display: 'Bizarrap Ft Quevedo - Bzrp Session Vol. 52', listenUrl: 'https://open.spotify.com/search/Bizarrap%20Ft%20Quevedo%20Bzrp%20Session%20Vol%2052', platform: 'spotify' },
    { file: 'bizarrap-y-shakira - bzrp-music-sessions-53.mp3', display: 'Bizarrap Y Shakira - Bzrp Music Sessions 53', listenUrl: 'https://open.spotify.com/search/Bizarrap%20Y%20Shakira%20Bzrp%20Music%20Sessions%2053', platform: 'spotify' },
    { file: 'buika - no-habr-nadie-en-el-mundo.mp3', display: 'Buika - No Habr Nadie En El Mundo', listenUrl: 'https://open.spotify.com/search/Buika%20No%20Habra%20Nadie%20En%20El%20Mundo', platform: 'spotify' },
    { file: 'cabaret-pop - juegos-de-amor.mp3', display: 'Cabaret Pop - Juegos De Amor', listenUrl: 'https://open.spotify.com/search/Cabaret%20Pop%20Juegos%20De%20Amor', platform: 'spotify' },
    { file: 'camilo-sesto - algo-de-mi.mp3', display: 'Camilo Sesto - Algo De Mi', listenUrl: 'https://open.spotify.com/search/Camilo%20Sesto%20Algo%20De%20Mi', platform: 'spotify' },
    { file: 'celia-cruz - la-vida-es-un-carnaval.mp3', display: 'Celia Cruz - La Vida Es Un Carnaval', listenUrl: 'https://open.spotify.com/search/Celia%20Cruz%20La%20Vida%20Es%20Un%20Carnaval', platform: 'spotify' },
    { file: 'celtas-cortos - 20-de-abril.mp3', display: 'Celtas Cortos - 20 De Abril', listenUrl: 'https://open.spotify.com/search/Celtas%20Cortos%2020%20De%20Abril', platform: 'spotify' },
    { file: 'chayanne - torero.mp3', display: 'Chayanne - Torero', listenUrl: 'https://open.spotify.com/search/Chayanne%20Torero', platform: 'spotify' },
    { file: 'chimo-bayo - asi-me-gusta-a-mi.mp3', display: 'Chimo Bayo - Asi Me Gusta A Mi', listenUrl: 'https://open.spotify.com/search/Chimo%20Bayo%20Asi%20Me%20Gusta%20A%20Mi', platform: 'spotify' },
    { file: 'complices-es-por-ti.mp3', display: 'Complices Es Por Ti', listenUrl: 'https://open.spotify.com/search/Complices%20Es%20Por%20Ti', platform: 'spotify' },
    { file: 'coti - nada-fue-un-error.mp3', display: 'Coti - Nada Fue Un Error', listenUrl: 'https://open.spotify.com/search/Coti%20Nada%20Fue%20Un%20Error', platform: 'spotify' },
    { file: 'david-bisbal - digale.mp3', display: 'David Bisbal - Digale', listenUrl: 'https://open.spotify.com/search/David%20Bisbal%20Digale', platform: 'spotify' },
    { file: 'david-bisbal - me-enamore-de-ti.mp3', display: 'David Bisbal - Me Enamore De Ti', listenUrl: 'https://open.spotify.com/search/David%20Bisbal%20Me%20Enamore%20De%20Ti', platform: 'spotify' },
    { file: 'david-de-maria-precisamente-ahora.mp3', display: 'David De Maria Precisamente Ahora', listenUrl: 'https://open.spotify.com/search/David%20De%20Maria%20Precisamente%20Ahora', platform: 'spotify' },
    { file: 'diana-navarro - sola.mp3', display: 'Diana Navarro - Sola', listenUrl: 'https://open.spotify.com/search/Diana%20Navarro%20Sola', platform: 'spotify' },
    { file: 'dinamita-pa-los-pollos - pandilleros.mp3', display: 'Dinamita Pa Los Pollos - Pandilleros ', listenUrl: 'https://open.spotify.com/search/Dinamita%20Pa%20Los%20Pollos%20Pandilleros', platform: 'spotify' },
    { file: 'duncan-dhu - en-algun-lugar.mp3', display: 'Duncan Dhu - En Algun Lugar', listenUrl: 'https://open.spotify.com/search/Duncan%20Dhu%20En%20Algun%20Lugar', platform: 'spotify' },
    { file: 'efecto-pasillo - pan-y-manquilla.mp3', display: 'Efecto Pasillo - Pan Y Manquilla', listenUrl: 'https://open.spotify.com/search/Efecto%20Pasillo%20Pan%20Y%20Manquilla', platform: 'spotify' },
    { file: 'el-canto-del-loco - la-madre-de-jose.mp3', display: 'El Canto Del Loco - La Madre De Jose', listenUrl: 'https://open.spotify.com/search/El%20Canto%20Del%20Loco%20La%20Madre%20De%20Jose', platform: 'spotify' },
    { file: 'el-chaval-de-la-peca - a-ba-ni-bi.mp3', display: 'El Chaval De La Peca - A Ba Ni Bi', listenUrl: 'https://open.spotify.com/search/El%20Chaval%20De%20La%20Peca%20A%20Ba%20Ni%20Bi', platform: 'spotify' },
    { file: 'el-ultimo-de-la-fila - como-un-burro-amarrado-a-la-puerta-del-baile.mp3', display: 'El Ultimo De La Fila - Como Un Burro Amarrado A La Puerta Del Baile', listenUrl: 'https://open.spotify.com/search/El%20Ultimo%20De%20La%20Fila%20Como%20Un%20Burro%20Amarrado%20A%20La%20Puerta%20Del%20Baile', platform: 'spotify' },
    { file: 'ella-baila-sola - cuando-los-sapos-bailen-flamenco.mp3', display: 'Ella Baila Sola - Cuando Los Sapos Bailen Flamenco', listenUrl: 'https://open.spotify.com/search/Ella%20Baila%20Sola%20Cuando%20Los%20Sapos%20Bailen%20Flamenco', platform: 'spotify' },
    { file: 'estopa - me-quedare.mp3', display: 'Estopa - Me Quedare', listenUrl: 'https://open.spotify.com/search/Estopa%20Me%20Quedare', platform: 'spotify' },
    { file: 'estopa-y-el-bicho-demonios.mp3', display: 'Estopa y El Bicho Demonios', listenUrl: 'https://open.spotify.com/search/Estopa%20y%20El%20Bicho%20Demonios', platform: 'spotify' },
    { file: 'extremoduro - so-payaso.mp3', display: 'Extremoduro - So Payaso', listenUrl: 'https://open.spotify.com/search/Extremoduro%20So%20Payaso', platform: 'spotify' },
    { file: 'fito-y-fitipaldis - por-la-boca-vive-el-pez.mp3', display: 'Fito Y Fitipaldis - Por La Boca Vive El Pez', listenUrl: 'https://open.spotify.com/search/Fito%20Y%20Fitipaldis%20Por%20La%20Boca%20Vive%20El%20Pez', platform: 'spotify' },
    { file: 'gabinete-caligari - -al-calor-de-un-amor-en-un-bar-.mp3', display: 'Gabinete Caligari -  Al Calor De Un Amor En Un Bar ', listenUrl: 'https://open.spotify.com/search/Gabinete%20Caligari%20Al%20Calor%20De%20Un%20Amor%20En%20Un%20Bar', platform: 'spotify' },
    { file: 'gloria-estefan - mi-tierra.mp3', display: 'Gloria Estefan - Mi Tierra', listenUrl: 'https://open.spotify.com/search/Gloria%20Estefan%20Mi%20Tierra', platform: 'spotify' },
    { file: 'gloria-trevi - todos-me-miran-.mp3', display: 'Gloria Trevi - Todos Me Miran ', listenUrl: 'https://open.spotify.com/search/Gloria%20Trevi%20Todos%20Me%20Miran', platform: 'spotify' },
    { file: 'heroes-del-silencio - heroe-de-leyenda.mp3', display: 'Heroes Del Silencio - Heroe De Leyenda', listenUrl: 'https://open.spotify.com/search/Heroes%20Del%20Silencio%20Heroe%20De%20Leyenda', platform: 'spotify' },
    { file: 'janette - por-que-te-vas.mp3', display: 'Janette - Por Que Te Vas', listenUrl: 'https://open.spotify.com/search/Janette%20Por%20Que%20Te%20Vas', platform: 'spotify' },
    { file: 'jarabe-de-palo - el-lado-oscuro.mp3', display: 'Jarabe De Palo - El Lado Oscuro', listenUrl: 'https://open.spotify.com/search/Jarabe%20De%20Palo%20El%20Lado%20Oscuro', platform: 'spotify' },
    { file: 'jarabe-de-palo - la-flaca.mp3', display: 'Jarabe De Palo - La Flaca', listenUrl: 'https://open.spotify.com/search/Jarabe%20De%20Palo%20La%20Flaca', platform: 'spotify' },
    { file: 'joan-sebastian-ft.-lucero - golondrinas-viajeras.mp3', display: 'Joan Sebastian Ft. Lucero - Golondrinas Viajeras', listenUrl: 'https://open.spotify.com/search/Joan%20Sebastian%20Ft%20Lucero%20Golondrinas%20Viajeras', platform: 'spotify' },
    { file: 'juan-luis-guerra - ojala-que-llueva-cafe.mp3', display: 'Juan Luis Guerra - Ojala Que Llueva Cafe', listenUrl: 'https://open.spotify.com/search/Juan%20Luis%20Guerra%20Ojala%20Que%20Llueva%20Cafe', platform: 'spotify' },
    { file: 'juanes - la-camisa-negra.mp3', display: 'Juanes - La Camisa Negra', listenUrl: 'https://open.spotify.com/search/Juanes%20La%20Camisa%20Negra', platform: 'spotify' },
    { file: 'julieta-venegas - limon-y-sal.mp3', display: 'Julieta Venegas - Limon Y Sal', listenUrl: 'https://open.spotify.com/search/Julieta%20Venegas%20Limon%20Y%20Sal', platform: 'spotify' },
    { file: 'julieta-venegas - me-voy.mp3', display: 'Julieta Venegas - Me Voy', listenUrl: 'https://open.spotify.com/search/Julieta%20Venegas%20Me%20Voy', platform: 'spotify' },
    { file: 'karol-g - si-antes-te-hubiera-conocido.mp3', display: 'Karol G - Si Antes Te Hubiera Conocido', listenUrl: 'https://open.spotify.com/search/Karol%20G%20Si%20Antes%20Te%20Hubiera%20Conocido', platform: 'spotify' },
    { file: 'kiko-y-shara - puede-ser.mp3', display: 'Kiko Y Shara - Puede Ser', listenUrl: 'https://open.spotify.com/search/Kiko%20Y%20Shara%20Puede%20Ser', platform: 'spotify' },
    { file: 'la-guardia - mil-calles-llevan-hacia-ti.mp3', display: 'La Guardia - Mil Calles Llevan Hacia Ti', listenUrl: 'https://open.spotify.com/search/La%20Guardia%20Mil%20Calles%20Llevan%20Hacia%20Ti', platform: 'spotify' },
    { file: 'la-oreja-de-van-gogh - rosas.mp3', display: 'La Oreja De Van Gogh - Rosas', listenUrl: 'https://open.spotify.com/search/La%20Oreja%20De%20Van%20Gogh%20Rosas', platform: 'spotify' },
    { file: 'la-union - lobo-hombre-en-paris.mp3', display: 'La Union - Lobo Hombre En Paris', listenUrl: 'https://open.spotify.com/search/La%20Union%20Lobo%20Hombre%20En%20Paris', platform: 'spotify' },
    { file: 'las-grecas - te-estoy-amando-locamente.mp3', display: 'Las Grecas - Te Estoy Amando Locamente', listenUrl: 'https://open.spotify.com/search/Las%20Grecas%20Te%20Estoy%20Amando%20Locamente', platform: 'spotify' },
    { file: 'laura-pausini - la-soledad.mp3', display: 'Laura Pausini - La Soledad', listenUrl: 'https://open.spotify.com/search/Laura%20Pausini%20La%20Soledad', platform: 'spotify' },
    { file: 'locomia - locomia.mp3', display: 'Locomia - Locomia', listenUrl: 'https://open.spotify.com/search/Locomia%20Locomia', platform: 'spotify' },
    { file: 'loquillo - cadillac-solitario.mp3', display: 'Loquillo - Cadillac Solitario', listenUrl: 'https://open.spotify.com/search/Loquillo%20Cadillac%20Solitario', platform: 'spotify' },
    { file: 'los-chichos - la-historia-de-juan-castillo.mp3', display: 'Los Chichos - La Historia De Juan Castillo', listenUrl: 'https://open.spotify.com/search/Los%20Chichos%20La%20Historia%20De%20Juan%20Castillo', platform: 'spotify' },
    { file: 'los-secretos - pero-a-tu-lado.mp3', display: 'Los Secretos - Pero A Tu Lado', listenUrl: 'https://open.spotify.com/search/Los%20Secretos%20Pero%20A%20Tu%20Lado', platform: 'spotify' },
    { file: 'los-toreros-muertos - mi-aguita-amarilla.mp3', display: 'Los Toreros Muertos - Mi Aguita Amarilla', listenUrl: 'https://open.spotify.com/search/Los%20Toreros%20Muertos%20Mi%20Aguita%20Amarilla', platform: 'spotify' },
    { file: 'luis-fonsi - despacito.mp3', display: 'Luis Fonsi - Despacito', listenUrl: 'https://open.spotify.com/search/Luis%20Fonsi%20Despacito', platform: 'spotify' },
    { file: 'luz-casal - te-deje-marchar.mp3', display: 'Luz Casal - Te Deje Marchar', listenUrl: 'https://open.spotify.com/search/Luz%20Casal%20Te%20Deje%20Marchar', platform: 'spotify' },
    { file: 'm-clan - carolina.mp3', display: 'M Clan - Carolina', listenUrl: 'https://open.spotify.com/search/M%20Clan%20Carolina', platform: 'spotify' },
    { file: 'macaco - moving.mp3', display: 'Macaco - Moving', listenUrl: 'https://open.spotify.com/search/Macaco%20Moving', platform: 'spotify' },
    { file: 'magneto - vuela,-vuela.mp3', display: 'Magneto - Vuela, Vuela', listenUrl: 'https://open.spotify.com/search/Magneto%20Vuela%20Vuela', platform: 'spotify' },
    { file: 'mana - el-muelle-de-san-blas.mp3', display: 'Mana - El Muelle De San Blas', listenUrl: 'https://open.spotify.com/search/Mana%20El%20Muelle%20De%20San%20Blas', platform: 'spotify' },
    { file: 'manolo-escobar - que-viva-espana.mp3', display: 'Manolo Escobar - Que Viva Espana', listenUrl: 'https://open.spotify.com/search/Manolo%20Escobar%20Que%20Viva%20Espana', platform: 'spotify' },
    { file: 'manolo-garcia - pajaros-de-barro.mp3', display: 'Manolo Garcia - Pajaros De Barro', listenUrl: 'https://open.spotify.com/search/Manolo%20Garcia%20Pajaros%20De%20Barro', platform: 'spotify' },
    { file: 'manuel-carrasco - que-bonito-es-querer.mp3', display: 'Manuel Carrasco - Que Bonito Es Querer', listenUrl: 'https://open.spotify.com/search/Manuel%20Carrasco%20Que%20Bonito%20Es%20Querer', platform: 'spotify' },
    { file: 'marc-anthony - valio-la-pena.mp3', display: 'Marc Anthony - Valio La Pena', listenUrl: 'https://open.spotify.com/search/Marc%20Anthony%20Valio%20La%20Pena', platform: 'spotify' },
    { file: 'marc-anthony - vivir-mi-vida.mp3', display: 'Marc Anthony - Vivir Mi Vida', listenUrl: 'https://open.spotify.com/search/Marc%20Anthony%20Vivir%20Mi%20Vida', platform: 'spotify' },
    { file: 'mecano - me-cuesta-tanto-olvidarte.mp3', display: 'Mecano - Me Cuesta Tanto Olvidarte', listenUrl: 'https://open.spotify.com/search/Mecano%20Me%20Cuesta%20Tanto%20Olvidarte', platform: 'spotify' },
    { file: 'miguel-rios - santa-lucia.mp3', display: 'Miguel Rios - Santa Lucia', listenUrl: 'https://open.spotify.com/search/Miguel%20Rios%20Santa%20Lucia', platform: 'spotify' },
    { file: 'molotov - gimme-tha-power.mp3', display: 'Molotov - Gimme Tha Power', listenUrl: 'https://open.spotify.com/search/Molotov%20Gimme%20Tha%20Power', platform: 'spotify' },
    { file: 'monica-naranjo - europa.mp3', display: 'Monica Naranjo - Europa', listenUrl: 'https://open.spotify.com/search/Monica%20Naranjo%20Europa', platform: 'spotify' },
    { file: 'monica-naranjo - sobrevivire.mp3', display: 'Monica Naranjo - Sobrevivire', listenUrl: 'https://open.spotify.com/search/Monica%20Naranjo%20Sobrevivire', platform: 'spotify' },
    { file: 'morat - como-te-atreves.mp3', display: 'Morat - Como Te Atreves', listenUrl: 'https://open.spotify.com/search/Morat%20Como%20Te%20Atreves', platform: 'spotify' },
    { file: 'nacho-cano-y-mercedes-ferrer - vivimos-siempre-juntos.mp3', display: 'Nacho Cano Y Mercedes Ferrer - Vivimos Siempre Juntos', listenUrl: 'https://open.spotify.com/search/Nacho%20Cano%20Y%20Mercedes%20Ferrer%20Vivimos%20Siempre%20Juntos', platform: 'spotify' },
    { file: 'navajita-platea - frio-sin-ti.mp3', display: 'Navajita Platea - Frio Sin Ti', listenUrl: 'https://open.spotify.com/search/Navajita%20Platea%20Frio%20Sin%20Ti', platform: 'spotify' },
    { file: 'navajita-platea - noches-de-bohemia.mp3', display: 'Navajita Platea - Noches De Bohemia', listenUrl: 'https://open.spotify.com/search/Navajita%20Platea%20Noches%20De%20Bohemia', platform: 'spotify' },
    { file: 'nena-daconte - tenia-tanto-que-darte.mp3', display: 'Nena Daconte - Tenia Tanto Que Darte', listenUrl: 'https://open.spotify.com/search/Nena%20Daconte%20Tenia%20Tanto%20Que%20Darte', platform: 'spotify' },
    { file: 'no-me-pises-que-llevo-chanclas - bolillon.mp3', display: 'No Me Pises Que Llevo Chanclas - Bolillon', listenUrl: 'https://open.spotify.com/search/No%20Me%20Pises%20Que%20Llevo%20Chanclas%20Bolillon', platform: 'spotify' },
    { file: 'obk - historias-de-amor.mp3', display: 'Obk - Historias De Amor', listenUrl: 'https://open.spotify.com/search/Obk%20Historias%20De%20Amor', platform: 'spotify' },
    { file: 'pablo-alboran - solamente-tu.mp3', display: 'Pablo Alboran - Solamente Tu', listenUrl: 'https://open.spotify.com/search/Pablo%20Alboran%20Solamente%20Tu', platform: 'spotify' },
    { file: 'pablo-lopez - tu-enemigo.mp3', display: 'Pablo Lopez - Tu Enemigo', listenUrl: 'https://open.spotify.com/search/Pablo%20Lopez%20Tu%20Enemigo', platform: 'spotify' },
    { file: 'radio-futura - escuela-de-calor.mp3', display: 'Radio Futura - Escuela De Calor', listenUrl: 'https://open.spotify.com/search/Radio%20Futura%20Escuela%20De%20Calor', platform: 'spotify' },
    { file: 'raphael - mi-gran-noche.mp3', display: 'Raphael - Mi Gran Noche', listenUrl: 'https://open.spotify.com/search/Raphael%20Mi%20Gran%20Noche', platform: 'spotify' },
    { file: 'revolver - el-roce-de-tu-piel-(en-directo-).mp3', display: 'Revolver - El Roce De Tu Piel (En Directo )', listenUrl: 'https://open.spotify.com/search/Revolver%20El%20Roce%20De%20Tu%20Piel%20En%20Directo', platform: 'spotify' },
    { file: 'revolver - el-roce-de-tu-piel.mp3', display: 'Revolver - El Roce De Tu Piel', listenUrl: 'https://open.spotify.com/search/Revolver%20El%20Roce%20De%20Tu%20Piel', platform: 'spotify' },
    { file: 'revólver - el-roce-de-tu-piel.mp3', display: 'Revólver - El Roce De Tu Piel', listenUrl: 'https://open.spotify.com/search/Revolver%20El%20Roce%20De%20Tu%20Piel', platform: 'spotify' },
    { file: 'ricky-martin - maria-.mp3', display: 'Ricky Martin - Maria ', listenUrl: 'https://open.spotify.com/search/Ricky%20Martin%20Maria', platform: 'spotify' },
    { file: 'rocio-durcal - la-gata-bajo-la-lluvia-.mp3', display: 'Rocio Durcal - La Gata Bajo La Lluvia ', listenUrl: 'https://open.spotify.com/search/Rocio%20Durcal%20La%20Gata%20Bajo%20La%20Lluvia', platform: 'spotify' },
    { file: 'rocio-jurado - muera-el-amor.mp3', display: 'Rocio Jurado - Muera El Amor', listenUrl: 'https://open.spotify.com/search/Rocio%20Jurado%20Muera%20El%20Amor', platform: 'spotify' },
    { file: 'rosalia - despecha.mp3', display: 'Rosalia - Despecha', listenUrl: 'https://open.spotify.com/search/Rosalia%20Despecha', platform: 'spotify' },
    { file: 'rosana - si-tu-no-estas.mp3', display: 'Rosana - Si Tu No Estas', listenUrl: 'https://open.spotify.com/search/Rosana%20Si%20Tu%20No%20Estas', platform: 'spotify' },
    { file: 'rozalen - la-puerta-violeta.mp3', display: 'Rozalen - La Puerta Violeta', listenUrl: 'https://open.spotify.com/search/Rozalen%20La%20Puerta%20Violeta', platform: 'spotify' },
    { file: 'sabina - 19-dias-y-500-noches.mp3', display: 'Sabina 19 Dias y 500 Noches', listenUrl: 'https://open.spotify.com/search/Sabina%2019%20Dias%20y%20500%20Noches', platform: 'spotify' },
    { file: 'seguridad-social - chiquilla.mp3', display: 'Seguridad Social - Chiquilla', listenUrl: 'https://open.spotify.com/search/Seguridad%20Social%20Chiquilla', platform: 'spotify' },
    { file: 'shakira - ciega,-sordomuda.mp3', display: 'Shakira - Ciega, Sordomuda', listenUrl: 'https://open.spotify.com/search/Shakira%20Ciega%20Sordomuda', platform: 'spotify' },
    { file: 'tam-tam-go! - espaldas-mojadas.mp3', display: 'Tam Tam Go! - Espaldas Mojadas', listenUrl: 'https://open.spotify.com/search/Tam%20Tam%20Go%20Espaldas%20Mojadas', platform: 'spotify' },
    { file: 'thalia - arrasando.mp3', display: 'Thalia - Arrasando', listenUrl: 'https://open.spotify.com/search/Thalia%20Arrasando', platform: 'spotify' },
    { file: 'tino-casal - eloise.mp3', display: 'Tino Casal - Eloise', listenUrl: 'https://open.spotify.com/search/Tino%20Casal%20Eloise', platform: 'spotify' },
    { file: 'triana - una-noche-de-amor-desesperada.mp3', display: 'Triana - Una Noche De Amor Desesperada', listenUrl: 'https://open.spotify.com/search/Triana%20Una%20Noche%20De%20Amor%20Desesperada', platform: 'spotify' },
    { file: 'vicco - nochentera.mp3', display: 'Vicco - Nochentera', listenUrl: 'https://open.spotify.com/search/Vicco%20Nochentera', platform: 'spotify' },
    { file: 'zzoilo-y-aitana - mon-amour.mp3', display: 'Zzoilo Y Aitana - Mon Amour', listenUrl: 'https://open.spotify.com/search/Zzoilo%20Y%20Aitana%20Mon%20Amour', platform: 'spotify' },
  ],
  ingles: [
    { file: 'queen - bohemian-rhapsody.mp3', display: 'Queen - Bohemian Rhapsody', listenUrl: 'https://open.spotify.com/search/Queen%20Bohemian%20Rhapsody', platform: 'spotify' },
    { file: 'nirvana - smells-like-teen-spirit.mp3', display: 'Nirvana - Smells Like Teen Spirit', listenUrl: 'https://open.spotify.com/search/Nirvana%20Smells%20Like%20Teen%20Spirit', platform: 'spotify' },
    { file: 'michael-jackson - billie-jean.mp3', display: 'Michael Jackson - Billie Jean', listenUrl: 'https://open.spotify.com/search/Michael%20Jackson%20Billie%20Jean', platform: 'spotify' },
    { file: 'the-beatles - hey-jude.mp3', display: 'The Beatles - Hey Jude', listenUrl: 'https://open.spotify.com/search/The%20Beatles%20Hey%20Jude', platform: 'spotify' },
    { file: 'eagles - hotel-california.mp3', display: 'Eagles - Hotel California', listenUrl: 'https://open.spotify.com/search/Eagles%20Hotel%20California', platform: 'spotify' },
    { file: 'adele - rolling-in-the-deep.mp3', display: 'Adele - Rolling in the Deep', listenUrl: 'https://open.spotify.com/search/Adele%20Rolling%20in%20the%20Deep', platform: 'spotify' },
    { file: 'coldplay - viva-la-vida.mp3', display: 'Coldplay - Viva La Vida', listenUrl: 'https://open.spotify.com/search/Coldplay%20Viva%20La%20Vida', platform: 'spotify' },
    { file: 'ed-sheeran - shape-of-you.mp3', display: 'Ed Sheeran - Shape of You', listenUrl: 'https://open.spotify.com/search/Ed%20Sheeran%20Shape%20of%20You', platform: 'spotify' },
    { file: 'dua-lipa - don-t-start-now.mp3', display: 'Dua Lipa - Don\'t Start Now', listenUrl: 'https://open.spotify.com/search/Dua%20Lipa%20Don%27t%20Start%20Now', platform: 'spotify' },
    { file: 'the-weeknd - blinding-lights.mp3', display: 'The Weeknd - Blinding Lights', listenUrl: 'https://open.spotify.com/search/The%20Weeknd%20Blinding%20Lights', platform: 'spotify' },
    { file: 'billie-eilish - bad-guy.mp3', display: 'Billie Eilish - Bad Guy', listenUrl: 'https://open.spotify.com/search/Billie%20Eilish%20Bad%20Guy', platform: 'spotify' },
    { file: 'imagine-dragons - radioactive.mp3', display: 'Imagine Dragons - Radioactive', listenUrl: 'https://open.spotify.com/search/Imagine%20Dragons%20Radioactive', platform: 'spotify' },
    { file: 'bruno-mars - uptown-funk.mp3', display: 'Bruno Mars - Uptown Funk', listenUrl: 'https://open.spotify.com/search/Bruno%20Mars%20Uptown%20Funk', platform: 'spotify' },
    { file: 'maroon-5 - sugar.mp3', display: 'Maroon 5 - Sugar', listenUrl: 'https://open.spotify.com/search/Maroon%205%20Sugar', platform: 'spotify' },
    { file: 'rihanna - umbrella.mp3', display: 'Rihanna - Umbrella', listenUrl: 'https://open.spotify.com/search/Rihanna%20Umbrella', platform: 'spotify' },
    { file: 'beyonce - single-ladies.mp3', display: 'Beyoncé - Single Ladies', listenUrl: 'https://open.spotify.com/search/Beyonce%20Single%20Ladies', platform: 'spotify' },
    { file: 'kanye-west - stronger.mp3', display: 'Kanye West - Stronger', listenUrl: 'https://open.spotify.com/search/Kanye%20West%20Stronger', platform: 'spotify' },
    { file: 'taylor-swift - shake-it-off.mp3', display: 'Taylor Swift - Shake It Off', listenUrl: 'https://open.spotify.com/search/Taylor%20Swift%20Shake%20It%20Off', platform: 'spotify' },
    { file: 'justin-bieber - sorry.mp3', display: 'Justin Bieber - Sorry', listenUrl: 'https://open.spotify.com/search/Justin%20Bieber%20Sorry', platform: 'spotify' },
    { file: 'ariana-grande - thank-u-next.mp3', display: 'Ariana Grande - Thank U, Next', listenUrl: 'https://open.spotify.com/search/Ariana%20Grande%20Thank%20U%20Next', platform: 'spotify' }
  ],
  peliculas: [
    { file: '007-james-bond - 1962.mp3', display: '007 James Bond - 1962', listenUrl: 'https://www.youtube.com/results?search_query=007+James+Bond+1962', platform: 'youtube' },
    { file: '1492-la-conquista-del-paraiso - 1992.mp3', display: '1492 La Conquista del Paraíso - 1992', listenUrl: 'https://www.youtube.com/results?search_query=1492+La+Conquista+del+Paraiso+1992', platform: 'youtube' },
    { file: '2001-una-odisea-del-espacio - 1968.mp3', display: '2001 Una Odisea del Espacio - 1968', listenUrl: 'https://www.youtube.com/results?search_query=2001+Una+Odisea+del+Espacio+1968', platform: 'youtube' },
    { file: '50-primeras-citas - 2004.mp3', display: '50 Primeras Citas - 2004', listenUrl: 'https://www.youtube.com/results?search_query=50+Primeras+Citas+2004', platform: 'youtube' },
    { file: 'amelie - 2001.mp3', display: 'Amelie - 2001', listenUrl: 'https://www.youtube.com/results?search_query=Amelie+2001', platform: 'youtube' },
    { file: 'atrapame-si-puedes - 2002.mp3', display: 'Atrápame Si Puedes - 2002', listenUrl: 'https://www.youtube.com/results?search_query=Atrapame+Si+Puedes+2002', platform: 'youtube' },
    { file: 'avatar - 2009.mp3', display: 'Avatar - 2009', listenUrl: 'https://www.youtube.com/results?search_query=Avatar+2009', platform: 'youtube' },
    { file: 'blade-runner - 1982.mp3', display: 'Blade Runner - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Blade+Runner+1982', platform: 'youtube' },
    { file: 'braveheart - 1995.mp3', display: 'Braveheart - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Braveheart+1995', platform: 'youtube' },
    { file: 'cabaret - 1972.mp3', display: 'Cabaret - 1972', listenUrl: 'https://www.youtube.com/results?search_query=Cabaret+1972', platform: 'youtube' },
    { file: 'cantando-bajo-la-lluvia - 1952.mp3', display: 'Cantando Bajo la Lluvia - 1952', listenUrl: 'https://www.youtube.com/results?search_query=Cantando+Bajo+la+Lluvia+1952', platform: 'youtube' },
    { file: 'carros-de-fuego - 1981.mp3', display: 'Carros de Fuego - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Carros+de+Fuego+1981', platform: 'youtube' },
    { file: 'casablanca - 1942.mp3', display: 'Casablanca - 1942', listenUrl: 'https://www.youtube.com/results?search_query=Casablanca+1942', platform: 'youtube' },
    { file: 'cazafantasmas - 1984.mp3', display: 'Cazafantasmas - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Cazafantasmas+1984', platform: 'youtube' },
    { file: 'conan-el-barbaro - 1982.mp3', display: 'Conan el Bárbaro - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Conan+el+Barbaro+1982', platform: 'youtube' },
    { file: 'dirty-dancing - 1987.mp3', display: 'Dirty Dancing - 1987', listenUrl: 'https://www.youtube.com/results?search_query=Dirty+Dancing+1987', platform: 'youtube' },
    { file: 'el-bueno-el-feo-y-el-malo - 1966.mp3', display: 'El Bueno, el Feo y el Malo - 1966', listenUrl: 'https://www.youtube.com/results?search_query=El+Bueno+el+Feo+y+el+Malo+1966', platform: 'youtube' },
    { file: 'el-graduado - 1967.mp3', display: 'El Graduado - 1967', listenUrl: 'https://www.youtube.com/results?search_query=El+Graduado+1967', platform: 'youtube' },
    { file: 'el-guardaespaldas - 1992.mp3', display: 'El Guardaespaldas - 1992', listenUrl: 'https://www.youtube.com/results?search_query=El+Guardaespaldas+1992', platform: 'youtube' },
    { file: 'el-mago-de-oz - 1939.mp3', display: 'El Mago de Oz - 1939', listenUrl: 'https://www.youtube.com/results?search_query=El+Mago+de+Oz+1939', platform: 'youtube' },
    { file: 'el-padrino - 1972.mp3', display: 'El Padrino - 1972', listenUrl: 'https://www.youtube.com/results?search_query=El+Padrino+1972', platform: 'youtube' },
    { file: 'el-puente-sobre-el-rio-kwai - 1957.mp3', display: 'El Puente Sobre el Río Kwai - 1957', listenUrl: 'https://www.youtube.com/results?search_query=El+Puente+Sobre+el+Rio+Kwai+1957', platform: 'youtube' },
    { file: 'el-senor-de-los-anillos - 2001.mp3', display: 'El Señor de los Anillos - 2001', listenUrl: 'https://www.youtube.com/results?search_query=El+Senor+de+los+Anillos+2001', platform: 'youtube' },
    { file: 'flashdance - 1983.mp3', display: 'Flashdance - 1983', listenUrl: 'https://www.youtube.com/results?search_query=Flashdance+1983', platform: 'youtube' },
    { file: 'footloose - 1984.mp3', display: 'Footloose - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Footloose+1984', platform: 'youtube' },
    { file: 'forrest-gump - 1994.mp3', display: 'Forrest Gump - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Forrest+Gump+1994', platform: 'youtube' },
    { file: 'ghost - 1990.mp3', display: 'Ghost - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Ghost+1990', platform: 'youtube' },
    { file: 'gilda - 1946.mp3', display: 'Gilda - 1946', listenUrl: 'https://www.youtube.com/results?search_query=Gilda+1946', platform: 'youtube' },
    { file: 'gladiator - 2000.mp3', display: 'Gladiator - 2000', listenUrl: 'https://www.youtube.com/results?search_query=Gladiator+2000', platform: 'youtube' },
    { file: 'grease - 1978.mp3', display: 'Grease - 1978', listenUrl: 'https://www.youtube.com/results?search_query=Grease+1978', platform: 'youtube' },
    { file: 'harry-potter - 2001.mp3', display: 'Harry Potter - 2001', listenUrl: 'https://www.youtube.com/results?search_query=Harry+Potter+2001', platform: 'youtube' },
    { file: 'hasta-que-llego-su-hora - 1968.mp3', display: 'Hasta que Llegó su Hora - 1968', listenUrl: 'https://www.youtube.com/results?search_query=Hasta+que+Llego+su+Hora+1968', platform: 'youtube' },
    { file: 'indiana-jones - 1981.mp3', display: 'Indiana Jones - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Indiana+Jones+1981', platform: 'youtube' },
    { file: 'interstellar - 2014.mp3', display: 'Interstellar - 2014', listenUrl: 'https://www.youtube.com/results?search_query=Interstellar+2014', platform: 'youtube' },
    { file: 'james-bond - 1964.mp3', display: 'James Bond - 1964', listenUrl: 'https://www.youtube.com/results?search_query=James+Bond+1964', platform: 'youtube' },
    { file: 'joker - 2019.mp3', display: 'Joker - 2019', listenUrl: 'https://www.youtube.com/results?search_query=Joker+2019', platform: 'youtube' },
    { file: 'kill-bill - 2003.mp3', display: 'Kill Bill - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Kill+Bill+2003', platform: 'youtube' },
    { file: 'kill-bill-2 - 2004.mp3', display: 'Kill Bill 2 - 2004', listenUrl: 'https://www.youtube.com/results?search_query=Kill+Bill+2+2004', platform: 'youtube' },
    { file: 'la-bella-y-la-bestia - 2017.mp3', display: 'La Bella y la Bestia - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Bella+y+la+Bestia+2017', platform: 'youtube' },
    { file: 'la-familia-addams - 1991.mp3', display: 'La Familia Addams - 1991', listenUrl: 'https://www.youtube.com/results?search_query=La+Familia+Addams+1991', platform: 'youtube' },
    { file: 'la-historia-interminable - 1984.mp3', display: 'La Historia Interminable - 1984', listenUrl: 'https://www.youtube.com/results?search_query=La+Historia+Interminable+1984', platform: 'youtube' },
    { file: 'la-lista-de-schindler - 1993.mp3', display: 'La Lista de Schindler - 1993', listenUrl: 'https://www.youtube.com/results?search_query=La+Lista+de+Schindler+1993', platform: 'youtube' },
    { file: 'la-mision - 1986.mp3', display: 'La Misión - 1986', listenUrl: 'https://www.youtube.com/results?search_query=La+Mision+1986', platform: 'youtube' },
    { file: 'la-muerte-tenia-un-precio - 1965.mp3', display: 'La Muerte Tenia un Precio - 1965', listenUrl: 'https://www.youtube.com/results?search_query=La+Muerte+Tenia+un+Precio+1965', platform: 'youtube' },
    { file: 'la-mascara-del-zorro - 1998.mp3', display: 'La Máscara del Zorro - 1998', listenUrl: 'https://www.youtube.com/results?search_query=La+Mascara+del+Zorro+1998', platform: 'youtube' },
    { file: 'la-vida-de-brian - 1979.mp3', display: 'La Vida de Brian - 1979', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+de+Brian+1979', platform: 'youtube' },
    { file: 'la-vida-de-pi - 2012.mp3', display: 'La Vida de Pi - 2012', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+de+Pi+2012', platform: 'youtube' },
    { file: 'la-vida-en-rosa - 2007.mp3', display: 'La Vida en Rosa - 2007', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+en+Rosa+2007', platform: 'youtube' },
    { file: 'la-vida-es-bella - 1997.mp3', display: 'La Vida es Bella - 1997', listenUrl: 'https://www.youtube.com/results?search_query=La+Vida+es+Bella+1997', platform: 'youtube' },
    { file: 'leon - 1994.mp3', display: 'León - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Leon+1994', platform: 'youtube' },
    { file: 'mary-poppins - 1964.mp3', display: 'Mary Poppins - 1964', listenUrl: 'https://www.youtube.com/results?search_query=Mary+Poppins+1964', platform: 'youtube' },
    { file: 'memorias-de-africa - 1985.mp3', display: 'Memorias de África - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Memorias+de+Africa+1985', platform: 'youtube' },
    { file: 'mision-imposible - 1996.mp3', display: 'Mision Imposible - 1996', listenUrl: 'https://www.youtube.com/results?search_query=Mision+Imposible+1996', platform: 'youtube' },
    { file: 'philadelphia - 1993.mp3', display: 'Philadelphia - 1993', listenUrl: 'https://www.youtube.com/results?search_query=Philadelphia+1993', platform: 'youtube' },
    { file: 'piratas-del-caribe - 2003.mp3', display: 'Piratas del Caribe - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Piratas+del+Caribe+2003', platform: 'youtube' },
    { file: 'pretty-woman - 1990.mp3', display: 'Pretty Woman - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Pretty+Woman+1990', platform: 'youtube' },
    { file: 'pulp-fiction - 1994.mp3', display: 'Pulp Fiction - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Pulp+Fiction+1994', platform: 'youtube' },
    { file: 'regreso-al-futuro - 1985.mp3', display: 'Regreso al Futuro - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Regreso+al+Futuro+1985', platform: 'youtube' },
    { file: 'regreso-al-futuro-inicio - 1985.mp3', display: 'Regreso al Futuro (Inicio) - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Regreso+al+Futuro+Inicio+1985', platform: 'youtube' },
    { file: 'rocky - 1976.mp3', display: 'Rocky - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Rocky+1976', platform: 'youtube' },
    { file: 'rocky-iii - 1982.mp3', display: 'Rocky III - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Rocky+III+1982', platform: 'youtube' },
    { file: 'saga-crepusculo-amanecer-parte-1 - 2011.mp3', display: 'Saga Crepúsculo Amanecer Parte 1 - 2011', listenUrl: 'https://www.youtube.com/results?search_query=Saga+Crepusculo+Amanecer+Parte+1+2011', platform: 'youtube' },
    { file: 'solo-en-casa - 1990.mp3', display: 'Solo en Casa - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Solo+en+Casa+1990', platform: 'youtube' },
    { file: 'sombrero-de-copa - 1935.mp3', display: 'Sombrero de Copa - 1935', listenUrl: 'https://www.youtube.com/results?search_query=Sombrero+de+Copa+1935', platform: 'youtube' },
    { file: 'sonrisas-y-lagrimas - 1965.mp3', display: 'Sonrisas y Lágrimas - 1965', listenUrl: 'https://www.youtube.com/results?search_query=Sonrisas+y+Lagrimas+1965', platform: 'youtube' },
    { file: 'star-wars - 1977.mp3', display: 'Star Wars - 1977', listenUrl: 'https://www.youtube.com/results?search_query=Star+Wars+1977', platform: 'youtube' },
    { file: 'star-wars-imperial-march - 1977.mp3', display: 'Star Wars (Imperial March) - 1977', listenUrl: 'https://www.youtube.com/results?search_query=Star+Wars+Imperial+March+1977', platform: 'youtube' },
    { file: 'superman - 1978.mp3', display: 'Superman - 1978', listenUrl: 'https://www.youtube.com/results?search_query=Superman+1978', platform: 'youtube' },
    { file: 'tal-como-eramos - 1973.mp3', display: 'Tal Como Éramos - 1973', listenUrl: 'https://www.youtube.com/results?search_query=Tal+Como+Eramos+1973', platform: 'youtube' },
    { file: 'tiburon - 1975.mp3', display: 'Tiburón - 1975', listenUrl: 'https://www.youtube.com/results?search_query=Tiburon+1975', platform: 'youtube' },
    { file: 'titanic - 1997.mp3', display: 'Titanic - 1997', listenUrl: 'https://www.youtube.com/results?search_query=Titanic+1997', platform: 'youtube' },
    { file: 'un-dia-en-nueva-york - 1949.mp3', display: 'Un Día en Nueva York - 1949', listenUrl: 'https://www.youtube.com/results?search_query=Un+Dia+en+Nueva+York+1949', platform: 'youtube' },
    { file: 'west-side-story - 1965.mp3', display: 'West Side Story - 1965', listenUrl: 'https://www.youtube.com/results?search_query=West+Side+Story+1965', platform: 'youtube' },
    { file: 'willow - 1988.mp3', display: 'Willow - 1988', listenUrl: 'https://www.youtube.com/results?search_query=Willow+1988', platform: 'youtube' }
  ],
  //=====================================================================
// CONFIGURACIÓN DE CANCIONES (Fragmento ACTUALIZADO para la categoría 'series')
// REEMPLAZA SOLO la sección 'series' dentro de tu objeto 'configuracionCanciones'.
//=====================================================================
series: [
  { file: 'alf - 1986.mp3', display: 'ALF - 1986', listenUrl: 'https://www.youtube.com/results?search_query=ALF+1986+sintonia', platform: 'youtube' },
  { file: 'alice-in-borderland - 2020.mp3', display: 'Alice in Borderland - 2020', listenUrl: 'https://www.youtube.com/results?search_query=Alice+in+Borderland+2020+sintonia', platform: 'youtube' },
  { file: 'ally-mcbeal - 1997.mp3', display: 'Ally McBeal - 1997', listenUrl: 'https://www.youtube.com/results?search_query=Ally+McBeal+1997+sintonia', platform: 'youtube' },
  { file: 'al-salir-de-clase - 1997.mp3', display: 'Al Salir de Clase - 1997', listenUrl: 'https://www.youtube.com/results?search_query=Al+Salir+de+Clase+1997+sintonia', platform: 'youtube' },
  { file: 'aquellos-maravillosos-años - 1988.mp3', display: 'Aquellos Maravillosos Años - 1988', listenUrl: 'https://www.youtube.com/results?search_query=Aquellos+Maravillosos+Años+1988+sintonia', platform: 'youtube' },
  { file: 'aqui-no-hay-quien-viva - 2003.mp3', display: 'Aquí No Hay Quien Viva - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Aqui+No+Hay+Quien+Viva+2003+sintonia', platform: 'youtube' },
  { file: 'arrow - 2012.mp3', display: 'Arrow - 2012', listenUrl: 'https://www.youtube.com/results?search_query=Arrow+2012+sintonia', platform: 'youtube' },
  { file: 'aida - 2005.mp3', display: 'Aída - 2005', listenUrl: 'https://www.youtube.com/results?search_query=Aída+2005+sintonia', platform: 'youtube' },
  { file: 'beverly-hills-90210 - 1990.mp3', display: 'Beverly Hills, 90210 - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Beverly+Hills+90210+1990+sintonia', platform: 'youtube' },
  { file: 'bonanza - 1956.mp3', display: 'Bonanza - 1956', listenUrl: 'https://www.youtube.com/results?search_query=Bonanza+1956+sintonia', platform: 'youtube' },
  { file: 'breaking-bad - 2008.mp3', display: 'Breaking Bad - 2008', listenUrl: 'https://www.youtube.com/results?search_query=Breaking+Bad+2008+sintonia', platform: 'youtube' },
  { file: 'camera-cafe - 2005.mp3', display: 'Camera Café - 2005', listenUrl: 'https://www.youtube.com/results?search_query=Camera+Cafe+2005+sintonia', platform: 'youtube' },
  { file: 'cheers - 1982.mp3', display: 'Cheers - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Cheers+1982+sintonia', platform: 'youtube' },
  { file: 'colombo - 1968.mp3', display: 'Colombo - 1968', listenUrl: 'https://www.youtube.com/results?search_query=Colombo+1968+sintonia', platform: 'youtube' },
  { file: 'corrupcion-en-miami - 1984.mp3', display: 'Corrupción en Miami - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Corrupción+en+Miami+1984+sintonia', platform: 'youtube' },
  { file: 'cosas-de-casa - 1985.mp3', display: 'Cosas de Casa - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Cosas+de+Casa+1985+sintonia', platform: 'youtube' },
  { file: 'csi-miami - 2002.mp3', display: 'CSI Miami - 2002', listenUrl: 'https://www.youtube.com/results?search_query=CSI+Miami+2002+sintonia', platform: 'youtube' },
  { file: 'curro-jimenez - 1976.mp3', display: 'Curro Jimenez - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Curro+Jimenez+1976+sintonia', platform: 'youtube' },
  { file: 'cuentame-como-paso - 2001.mp3', display: 'Cuéntame Cómo Pasó - 2001', listenUrl: 'https://www.youtube.com/results?search_query=Cuentame+Como+Paso+2001+sintonia', platform: 'youtube' },
  { file: 'dallas - 1978.mp3', display: 'Dallas - 1978', listenUrl: 'https://www.youtube.com/results?search_query=Dallas+1978+sintonia', platform: 'youtube' },
  { file: 'daredevil - 2015.mp3', display: 'Daredevil - 2015', listenUrl: 'https://www.youtube.com/results?search_query=Daredevil+2015+sintonia', platform: 'youtube' },
  { file: 'dinastia - 1981.mp3', display: 'Dinastía - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Dinastia+1981+sintonia', platform: 'youtube' },
  { file: 'el-barco - 2011.mp3', display: 'El Barco - 2011', listenUrl: 'https://www.youtube.com/results?search_query=El+Barco+2011+sintonia', platform: 'youtube' },
  { file: 'el-chavo-del-ocho - 1973.mp3', display: 'El Chavo del Ocho - 1973', listenUrl: 'https://www.youtube.com/results?search_query=El+Chavo+del+Ocho+1973+sintonia', platform: 'youtube' },
  { file: 'el-coche-fantastico - 1982.mp3', display: 'El Coche Fantástico - 1982', listenUrl: 'https://www.youtube.com/results?search_query=El+Coche+Fantastico+1982+sintonia', platform: 'youtube' },
  { file: 'el-equipo-a-intro - 1983.mp3', display: 'El Equipo A Intro - 1983', listenUrl: 'https://www.youtube.com/results?search_query=El+Equipo+A+Intro+1983+sintonia', platform: 'youtube' },
  { file: 'el-equipo-a - 1983.mp3', display: 'El Equipo A - 1983', listenUrl: 'https://www.youtube.com/results?search_query=El+Equipo+A+1983+sintonia', platform: 'youtube' },
  { file: 'el-gran-heroe-americano - 1981.mp3', display: 'El Gran Héroe Americano - 1981', listenUrl: 'https://www.youtube.com/results?search_query=El+Gran+Heroe+Americano+1981+sintonia', platform: 'youtube' },
  { file: 'el-juego-del-calamar - 2021.mp3', display: 'El Juego del Calamar - 2021', listenUrl: 'https://www.youtube.com/results?search_query=El+Juego+del+Calamar+2021+sintonia', platform: 'youtube' },
  { file: 'el-principe - 2016.mp3', display: 'El Príncipe - 2016', listenUrl: 'https://www.youtube.com/results?search_query=El+Principe+2016+sintonia', platform: 'youtube' },
  { file: 'el-santo - 1962.mp3', display: 'El Santo - 1962', listenUrl: 'https://www.youtube.com/results?search_query=El+Santo+1962+sintonia', platform: 'youtube' },
  { file: 'el-secreto-de-puente-viejo - 2011.mp3', display: 'El Secreto de Puente Viejo - 2011', listenUrl: 'https://www.youtube.com/results?search_query=El+Secreto+de+Puente+Viejo+2011+sintonia', platform: 'youtube' },
  { file: 'el-show-de-benny-hill - 1955.mp3', display: 'El Show de Benny Hill - 1955', listenUrl: 'https://www.youtube.com/results?search_query=El+Show+de+Benny+Hill+1955+sintonia', platform: 'youtube' },
  { file: 'expediente-x - 1993.mp3', display: 'Expediente X - 1993', listenUrl: 'https://www.youtube.com/results?search_query=Expediente+X+1993+sintonia', platform: 'youtube' },
  { file: 'falcon-crest - 1981.mp3', display: 'Falcon Crest - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Falcon+Crest+1981+sintonia', platform: 'youtube' },
  { file: 'fama - 1982.mp3', display: 'Fama - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Fama+1982+sintonia', platform: 'youtube' },
  { file: 'farmacia-de-guardia - 1991.mp3', display: 'Farmacia de Guardia - 1991', listenUrl: 'https://www.youtube.com/results?search_query=Farmacia+de+Guardia+1991+sintonia', platform: 'youtube' },
  { file: 'friends - 1994.mp3', display: 'Friends - 1994', listenUrl: 'https://www.youtube.com/results?search_query=Friends+1994+sintonia', platform: 'youtube' },
  { file: 'from - 2022.mp3', display: 'From - 2022', listenUrl: 'https://www.youtube.com/results?search_query=From+2022+sintonia', platform: 'youtube' },
  { file: 'fisica-o-quimica - 2008.mp3', display: 'Física o Química - 2008', listenUrl: 'https://www.youtube.com/results?search_query=Física+o+Química+2008+sintonia', platform: 'youtube' },
  { file: 'hawaii-cinco-0 - 1968.mp3', display: 'Hawaii Cinco-0 - 1968', listenUrl: 'https://www.youtube.com/results?search_query=Hawaii+Cinco-0+1968+sintonia', platform: 'youtube' },
  { file: 'hechizada - 1964.mp3', display: 'Hechizada - 1964', listenUrl: 'https://www.youtube.com/results?search_query=Hechizada+1964+sintonia', platform: 'youtube' },
  { file: 'hospital-central - 2000.mp3', display: 'Hospital Central - 2000', listenUrl: 'https://www.youtube.com/results?search_query=Hospital+Central+2000+sintonia', platform: 'youtube' },
  { file: 'juego-de-tronos - 2011.mp3', display: 'Juego de Tronos - 2011', listenUrl: 'https://www.youtube.com/results?search_query=Juego+de+Tronos+2011+sintonia', platform: 'youtube' },
  { file: 'juzgado-de-guardia - 1984.mp3', display: 'Juzgado de Guardia - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Juzgado+de+Guardia+1984+sintonia', platform: 'youtube' },
  { file: 'jovenes-jinetes - 1989.mp3', display: 'Jóvenes Jinetes - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Jovenes+Jinetes+1989+sintonia', platform: 'youtube' },
  { file: 'kung-fu - 1972.mp3', display: 'Kung Fu - 1972', listenUrl: 'https://www.youtube.com/results?search_query=Kung+Fu+1972+sintonia', platform: 'youtube' },
  { file: 'la-casa-de-la-pradera - 1974.mp3', display: 'La Casa de la Pradera - 1974', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+la+Pradera+1974+sintonia', platform: 'youtube' },
  { file: 'la-casa-de-papel-(intro) - 2017.mp3', display: 'La Casa de Papel (Intro) - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+Papel+Intro+2017+sintonia', platform: 'youtube' },
  { file: 'la-casa-de-papel - 2017.mp3', display: 'La Casa de Papel - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+Papel+2017+sintonia', platform: 'youtube' },
  { file: 'la-casa-del-dragon - 2022.mp3', display: 'La Casa del Dragón - 2022', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+del+Dragón+2022+sintonia', platform: 'youtube' },
  { file: 'la-hora-de-bill-cosby - 1984.mp3', display: 'La Hora de Bill Cosby - 1984', listenUrl: 'https://www.youtube.com/results?search_query=La+Hora+de+Bill+Cosby+1984+sintonia', platform: 'youtube' },
  { file: 'la-que-se-avecina - 2007.mp3', display: 'La Que Se Avecina - 2007', listenUrl: 'https://www.youtube.com/results?search_query=La+Que+Se+Avecina+2007+sintonia', platform: 'youtube' },
  { file: 'la-reina-del-sur - 2011.mp3', display: 'La Reina del Sur - 2011', listenUrl: 'https://www.youtube.com/results?search_query=La+Reina+del+Sur+2011+sintonia', platform: 'youtube' },
  { file: 'la-tribu-de-los-brady - 1969.mp3', display: 'La Tribu de los Brady - 1969', listenUrl: 'https://www.youtube.com/results?search_query=La+Tribu+de+los+Brady+1969+sintonia', platform: 'youtube' },
  { file: 'las-chicas-de-oro - 1985.mp3', display: 'Las Chicas de Oro - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Las+Chicas+de+Oro+1985+sintonia', platform: 'youtube' },
  { file: 'los-colby - 1985.mp3', display: 'Los Colby - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Los+Colby+1985+sintonia', platform: 'youtube' },
  { file: 'los-hombres-de-harrelson - 1975.mp3', display: 'Los Hombres de Harrelson - 1975', listenUrl: 'https://www.youtube.com/results?search_query=Los+Hombres+de+Harrelson+1975+sintonia', platform: 'youtube' },
  { file: 'los-problemas-crecen - 1985.mp3', display: 'Los Problemas Crecen - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Los+Problemas+Crecen+1985+sintonia', platform: 'youtube' },
  { file: 'los-ricos-tambien-lloran - 1979.mp3', display: 'Los Ricos También Lloran - 1979', listenUrl: 'https://www.youtube.com/results?search_query=Los+Ricos+También+Lloran+1979+sintonia', platform: 'youtube' },
  { file: 'los-serrano - 2003.mp3', display: 'Los Serrano - 2003', listenUrl: 'https://www.youtube.com/results?search_query=Los+Serrano+2003+sintonia', platform: 'youtube' },
  { file: 'los-simpson - 1989.mp3', display: 'Los Simpson - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Los+Simpson+1989+sintonia', platform: 'youtube' },
  { file: 'los-vigilantes-de-la-playa - 1989.mp3', display: 'Los Vigilantes de la Playa - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Los+Vigilantes+de+la+Playa+1989+sintonia', platform: 'youtube' },
  { file: 'los-angeles-de-charlie - 1976.mp3', display: 'Los Ángeles de Charlie - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Los+Angeles+de+Charlie+1976+sintonia', platform: 'youtube' },
  { file: 'luz-de-luna - 1985.mp3', display: 'Luz de Luna - 1985', listenUrl: 'https://www.youtube.com/results?search_query=Luz+de+Luna+1985+sintonia', platform: 'youtube' },
  { file: 'macgyver - 1985.mp3', display: 'MacGyver - 1985', listenUrl: 'https://www.youtube.com/results?search_query=MacGyver+1985+sintonia', platform: 'youtube' },
  { file: 'magnum-p.i - 1980.mp3', display: 'Magnum, P.I - 1980', listenUrl: 'https://www.youtube.com/results?search_query=Magnum+P.I+1980+sintonia', platform: 'youtube' },
  { file: 'manos-a-la-obra - 1998.mp3', display: 'Manos a la Obra - 1998', listenUrl: 'https://www.youtube.com/results?search_query=Manos+a+la+Obra+1998+sintonia', platform: 'youtube' },
  { file: 'mash - 1972.mp3', display: 'MASH - 1972', listenUrl: 'https://www.youtube.com/results?search_query=MASH+1972+sintonia', platform: 'youtube' },
  { file: 'matrimonio-con-hijos - 1987.mp3', display: 'Matrimonio con Hijos - 1987', listenUrl: 'https://www.youtube.com/results?search_query=Matrimonio+con+Hijos+1987+sintonia', platform: 'youtube' },
  { file: 'melrose-place - 1992.mp3', display: 'Melrose Place - 1992', listenUrl: 'https://www.youtube.com/results?search_query=Melrose+Place+1992+sintonia', platform: 'youtube' },
  { file: 'mentes-criminales - 2005.mp3', display: 'Mentes Criminales - 2005', listenUrl: 'https://www.youtube.com/results?search_query=Mentes+Criminales+2005+sintonia', platform: 'youtube' },
  { file: 'miercoles - 2022.mp3', display: 'Miércoles - 2022', listenUrl: 'https://www.youtube.com/results?search_query=Miércoles+2022+sintonia', platform: 'youtube' },
  { file: 'medico-de-familia - 1995.mp3', display: 'Médico de Familia - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Médico+de+Familia+1995+sintonia', platform: 'youtube' },
  { file: 'money-heist - 2017.mp3', display: 'La Casa de Papel - 2017', listenUrl: 'https://www.youtube.com/results?search_query=La+Casa+de+Papel+2017+sintonia', platform: 'youtube' }, // Redundante, ajustar si se quiere una única entrada para esta serie
  { file: 'the-office - 2005.mp3', display: 'The Office - 2005', listenUrl: 'https://www.youtube.com/results?search_query=The+Office+2005+sintonia', platform: 'youtube' },
  { file: 'orzowei - 1977.mp3', display: 'Orzowei - 1977', listenUrl: 'https://www.youtube.com/results?search_query=Orzowei+1977+sintonia', platform: 'youtube' },
  { file: 'padres-forzosos - 1987.mp3', display: 'Padres Forzosos - 1987', listenUrl: 'https://www.youtube.com/results?search_query=Padres+Forzosos+1987+sintonia', platform: 'youtube' },
  { file: 'pasapalabra-series - 2000.mp3', display: 'Pasapalabra - 2000', listenUrl: 'https://www.youtube.com/results?search_query=Pasapalabra+2000+sintonia', platform: 'youtube' }, // Posiblemente duplicado con TV, si es solo la sintonía
  { file: 'pesadillas - 1995.mp3', display: 'Pesadillas - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Pesadillas+1995+sintonia', platform: 'youtube' },
  { file: 'primos-lejanos - 1986.mp3', display: 'Primos Lejanos - 1986', listenUrl: 'https://www.youtube.com/results?search_query=Primos+Lejanos+1986+sintonia', platform: 'youtube' },
  { file: 'remington-steele - 1982.mp3', display: 'Remington Steele - 1982', listenUrl: 'https://www.youtube.com/results?search_query=Remington+Steele+1982+sintonia', platform: 'youtube' },
  { file: 'renegado - 1992.mp3', display: 'Renegado - 1992', listenUrl: 'https://www.youtube.com/results?search_query=Renegado+1992+sintonia', platform: 'youtube' },
  { file: 'salvados-por-la-campana - 1989.mp3', display: 'Salvados por la Campana - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Salvados+por+la+Campana+1989+sintonia', platform: 'youtube' },
  { file: 'sandokan - 1976.mp3', display: 'Sandokan - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Sandokan+1976+sintonia', platform: 'youtube' },
  { file: 'santa-barbara - 1984.mp3', display: 'Santa Bárbara - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Santa+Bárbara+1984+sintonia', platform: 'youtube' },
  { file: 'se-ha-escrito-un-crimen - 1984.mp3', display: 'Se Ha Escrito un Crimen - 1984', listenUrl: 'https://www.youtube.com/results?search_query=Se+Ha+Escrito+un+Crimen+1984+sintonia', platform: 'youtube' },
  { file: 'siete-vidas - 1996.mp3', display: 'Siete Vidas - 1996', listenUrl: 'https://www.youtube.com/results?search_query=Siete+Vidas+1996+sintonia', platform: 'youtube' },
  { file: 'silo - 2023.mp3', display: 'Silo - 2023', listenUrl: 'https://www.youtube.com/results?search_query=Silo+2023+sintonia', platform: 'youtube' },
  { file: 'sin-tetas-no-hay-paraiso - 2006.mp3', display: 'Sin Tetas No Hay Paraíso - 2006', listenUrl: 'https://www.youtube.com/results?search_query=Sin+Tetas+No+Hay+Paraíso+2006+sintonia', platform: 'youtube' },
  { file: 'starsky-y-hutch - 1975.mp3', display: 'Starsky y Hutch - 1975', listenUrl: 'https://www.youtube.com/results?search_query=Starsky+y+Hutch+1975+sintonia', platform: 'youtube' },
  { file: 'stranger-things - 2016.mp3', display: 'Stranger Things - 2016', listenUrl: 'https://www.youtube.com/results?search_query=Stranger+Things+2016+sintonia', platform: 'youtube' },
  { file: 'super-agente-86 - 1965.mp3', display: 'Super Agente 86 - 1965', listenUrl: 'https://www.youtube.com/results?search_query=Super+Agente+86+1965+sintonia', platform: 'youtube' },
  { file: 'the-big-bang-theory - 2007.mp3', display: 'The Big Bang Theory - 2007', listenUrl: 'https://www.youtube.com/results?search_query=The+Big+Bang+Theory+2007+sintonia', platform: 'youtube' },
  { file: 'tierra-de-lobos - 2010.mp3', display: 'Tierra de Lobos - 2010', listenUrl: 'https://www.youtube.com/results?search_query=Tierra+de+Lobos+2010+sintonia', platform: 'youtube' },
  { file: 'twin-peaks - 1990.mp3', display: 'Twin Peaks - 1990', listenUrl: 'https://www.youtube.com/results?search_query=Twin+Peaks+1990+sintonia', platform: 'youtube' },
  { file: 'the-walking-dead - 2010.mp3', display: 'The Walking Dead - 2010', listenUrl: 'https://www.youtube.com/results?search_query=The+Walking+Dead+2010+sintonia', platform: 'youtube' },
  { file: 'un-medico-precoz - 1989.mp3', display: 'Un Médico Precoz - 1989', listenUrl: 'https://www.youtube.com/results?search_query=Un+Médico+Precoz+1989+sintonia', platform: 'youtube' },
  { file: 'un-paso-adelante - 2002.mp3', display: 'Un Paso Adelante - 2002', listenUrl: 'https://www.youtube.com/results?search_query=Un+Paso+Adelante+2002+sintonia', platform: 'youtube' },
  { file: 'v - 1984.mp3', display: 'V - 1984', listenUrl: 'https://www.youtube.com/results?search_query=V+1984+sintonia', platform: 'youtube' },
  { file: 'vacaciones-en-el-mar - 1976.mp3', display: 'Vacaciones en el Mar - 1976', listenUrl: 'https://www.youtube.com/results?search_query=Vacaciones+en+el+Mar+1976+sintonia', platform: 'youtube' },
  { file: 'verano-azul - 1981.mp3', display: 'Verano Azul - 1981', listenUrl: 'https://www.youtube.com/results?search_query=Verano+Azul+1981+sintonia', platform: 'youtube' },
  { file: 'webster - 1983.mp3', display: 'Webster - 1983', listenUrl: 'https://www.youtube.com/results?search_query=Webster+1983+sintonia', platform: 'youtube' },
  { file: 'xena-la-princesa-guerrera - 1995.mp3', display: 'Xena, la Princesa Guerrera - 1995', listenUrl: 'https://www.youtube.com/results?search_query=Xena+la+Princesa+Guerrera+1995+sintonia', platform: 'youtube' },
  { file: 'elite - 2018.mp3', display: 'Élite - 2018', listenUrl: 'https://www.youtube.com/results?search_query=Elite+2018+sintonia', platform: 'youtube' }
],
  tv: [
    { file: 'un-dos-tres-sintonia.mp3', display: 'Un, dos, tres... responda otra vez - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Un+Dos+Tres+Sintonia', platform: 'youtube' },
    { file: 'grand-prix-sintonia.mp3', display: 'Grand Prix del Verano - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Grand+Prix+Sintonia', platform: 'youtube' },
    { file: 'que-apostamos-sintonia.mp3', display: 'Qué apostamos - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Que+Apostamos+Sintonia', platform: 'youtube' },
    { file: 'la-bola-de-cristal-bruja-averia.mp3', display: 'La Bola de Cristal - La Bruja Avería', listenUrl: 'https://www.youtube.com/results?search_query=La+Bola+de+Cristal+La+Bruja+Averia', platform: 'youtube' },
    { file: 'el-hormiguero-sintonia.mp3', display: 'El Hormiguero - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=El+Hormiguero+Sintonia', platform: 'youtube' },
    { file: 'saber-y-ganar-sintonia.mp3', display: 'Saber y Ganar - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Saber+y+Ganar+Sintonia', platform: 'youtube' },
    { file: 'pasapalabra-sintonia.mp3', display: 'Pasapalabra - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Pasapalabra+Sintonia', platform: 'youtube' },
    { file: 'cuentame-como-paso-sintonia.mp3', display: 'Cuéntame Cómo Pasó - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Cuentame+Como+Paso+Sintonia', platform: 'youtube' },
    { file: 'farmacia-de-guardia-sintonia.mp3', display: 'Farmacia de Guardia - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Farmacia+de+Guardia+Sintonia', platform: 'youtube' },
    { file: 'verano-azul-sintonia.mp3', display: 'Verano Azul - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Verano+Azul+Sintonia', platform: 'youtube' }
  ],
  infantiles: [
    { file: 'dragones-y-mazmorras-sintonia.mp3', display: 'Dragones y Mazmorras - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Dragones+y+Mazmorras+Sintonia', platform: 'youtube' },
    { file: 'david-el-gnomo-sintonia.mp3', display: 'David el Gnomo - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=David+el+Gnomo+Sintonia', platform: 'youtube' },
    { file: 'd-artacan-sintonia.mp3', display: 'D\'Artacán y los Tres Mosqueperros - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=D%27Artacan+y+los+Tres+Mosqueperros+Sintonia', platform: 'youtube' },
    { file: 'willy-fog-sintonia.mp3', display: 'La Vuelta al Mundo de Willy Fog - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=La+Vuelta+al+Mundo+de+Willy+Fog+Sintonia', platform: 'youtube' },
    { file: 'barrio-sesamo-sintonia.mp3', display: 'Barrio Sésamo - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Barrio+Sesamo+Sintonia', platform: 'youtube' },
    { file: 'heidi-sintonia.mp3', display: 'Heidi - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Heidi+Sintonia', platform: 'youtube' },
    { file: 'marco-sintonia.mp3', display: 'Marco - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Marco+Sintonia', platform: 'youtube' },
    { file: 'mazinger-z-sintonia.mp3', display: 'Mazinger Z - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Mazinger+Z+Sintonia', platform: 'youtube' },
    { file: 'pokemon-sintonia.mp3', display: 'Pokémon - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Pokemon+Sintonia', platform: 'youtube' },
    { file: 'digimon-sintonia.mp3', display: 'Digimon - Sintonía', listenUrl: 'https://www.youtube.com/results?search_query=Digimon+Sintonia', platform: 'youtube' }
  ],
  anuncios: [
    { file: 'cola-cao-negrito.mp3', display: 'Cola Cao - Yo soy aquel negrito', listenUrl: 'https://www.youtube.com/results?search_query=Cola+Cao+Yo+soy+aquel+negrito', platform: 'youtube' },
    { file: 'pipas-g-jingle.mp3', display: 'Pipas G - Jingle', listenUrl: 'https://www.youtube.com/results?search_query=Pipas+G+Jingle', platform: 'youtube' },
    { file: 'choco-krispies-desayuno.mp3', display: 'Choco Krispies - El desayuno de los campeones', listenUrl: 'https://www.youtube.com/results?search_query=Choco+Krispies+El+desayuno+de+los+campeones', platform: 'youtube' },
    { file: 'fanta-jingle-90s.mp3', display: 'Fanta - Jingle 90s', listenUrl: 'https://www.youtube.com/results?search_query=Fanta+Jingle+90s', platform: 'youtube' },
    { file: 'la-casera-el-verano-mas-refrescante.mp3', display: 'La Casera - El verano más refrescante', listenUrl: 'https://www.youtube.com/results?search_query=La+Casera+El+verano+mas+refrescante', platform: 'youtube' },
    { file: 'donuts-tengo-los-agujeros.mp3', display: 'Donuts - Tengo los agujeros', listenUrl: 'https://www.youtube.com/results?search_query=Donuts+Tengo+los+agujeros', platform: 'youtube' },
    { file: 'mimosin-suavidad-mimosin.mp3', display: 'Mimosín - Suavidad Mimosín', listenUrl: 'https://www.youtube.com/results?search_query=Mimosin+Suavidad+Mimosin', platform: 'youtube' },
    { file: 'bocatta-que-te-voy-a-dar.mp3', display: 'Bocatta - ¿Qué te voy a dar?', listenUrl: 'https://www.youtube.com/results?search_query=Bocatta+Que+te+voy+a+dar', platform: 'youtube' },
    { file: 'campofrio-la-familia.mp3', display: 'Campofrío - La Familia', listenUrl: 'https://www.youtube.com/results?search_query=Campofrio+La+Familia', platform: 'youtube' },
    { file: 'navidad-el-almendro.mp3', display: 'Navidad - Vuelve a Casa por Navidad (El Almendro)', listenUrl: 'https://www.youtube.com/results?search_query=Navidad+Vuelve+a+Casa+por+Navidad+El+Almendro', platform: 'youtube' }
  ]
};
    //=====================================================================
    // FIN DE LA SECCIÓN DE CONFIGURACIÓN
    //=====================================================================

    const categoryNames = { espanol: "Canciones en Español", ingles: "Canciones en Inglés", peliculas: "BSO de Películas", series: "BSO de Series", tv: "Programas de TV", infantiles: "Series Infantiles", anuncios: "Anuncios"};
    let gameState = {};
    let audioPlaybackTimeout;
    const screens = document.querySelectorAll('.screen');
    const audioPlayer = document.getElementById('audio-player');
    const sfxAcierto = document.getElementById('sfx-acierto');
    const sfxError = document.getElementById('sfx-error');

    // Estado global para el usuario logueado
    let currentUser = null; // Almacenará { email: '', playerName: '' }
    // Objetos para almacenar las puntuaciones acumuladas y el historial de partidas en memoria
    // Su estructura será: { 'email@dominio.com': { 'espanol': 150, 'peliculas': 200, ... } }
    let userAccumulatedScores = {};
    let gameHistory = []; // Almacena resultados de partidas multijugador

    // Función para mostrar pantallas
    function showScreen(screenId) {
        screens.forEach(screen => screen.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
        // Ocultar inputs de nombres de jugador al volver a la selección de jugadores
        if (screenId === 'player-selection-screen') {
            document.getElementById('other-player-names-inputs').innerHTML = ''; // Limpiar inputs
            document.getElementById('logged-in-player-name').textContent = ''; // Limpiar nombre del jugador logueado
        }
    }

    // =====================================================================
    // FUNCIONES DE AUTENTICACIÓN (Registro y Login)
    // =====================================================================

    // Función para validar formato de email
    function isValidEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }

    // Función de registro de usuario
    function registerUser() {
        const emailInput = document.getElementById('register-email');
        const passwordInput = document.getElementById('register-password');
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        if (!email || !password) {
            alert('Por favor, introduce un email y una contraseña.');
            return;
        }
        if (!isValidEmail(email)) {
            alert('Por favor, introduce un email válido.');
            return;
        }

        // Recuperar usuarios existentes de localStorage
        const users = JSON.parse(localStorage.getItem('users')) || {};

        if (users[email]) {
            alert('Este email ya está registrado. Por favor, inicia sesión o usa otro email.');
            return;
        }

        // Guardar nuevo usuario (contraseña en texto plano por ahora, no es seguro para producción)
        users[email] = { password: password, playerName: null }; // playerName es null al principio
        localStorage.setItem('users', JSON.stringify(users));

        alert('¡Registro exitoso! Ya puedes iniciar sesión.');
        emailInput.value = '';
        passwordInput.value = '';
        showScreen('login-screen');
    }

    // Función de login de usuario (MODIFICADA para cargar historial y puntuaciones acumuladas)
    function loginUser() {
        const emailInput = document.getElementById('login-email');
        const passwordInput = document.getElementById('login-password');
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        if (!email || !password) {
            alert('Por favor, introduce tu email y contraseña.');
            return;
        }

        const users = JSON.parse(localStorage.getItem('users')) || {};
        const user = users[email];

        if (!user || user.password !== password) {
            alert('Email o contraseña incorrectos.');
            return;
        }

        // Login exitoso
        currentUser = { email: email, playerName: user.playerName };
        localStorage.setItem('loggedInUserEmail', email); 

        // Cargar las puntuaciones acumuladas y el historial de partidas del usuario logueado
        loadUserScores(currentUser.email); 
        loadGameHistory(); // NUEVA LLAMADA: Cargar el historial de partidas al loguear

        alert(`¡Bienvenido, ${user.playerName || email}!`); 
        emailInput.value = '';
        passwordInput.value = '';

        if (currentUser.playerName) {
            showScreen('category-screen');
        } else {
            showScreen('set-player-name-screen');
        }
    }

    // Función para cerrar sesión
    function logout() {
        currentUser = null;
        localStorage.removeItem('loggedInUserEmail');
        alert('Sesión cerrada correctamente.');
        showScreen('home-screen'); // Vuelve a la pantalla de inicio
    }

    // Función para establecer el nombre de jugador
    function setPlayerName() {
        const playerNameInput = document.getElementById('player-name-input');
        const newPlayerName = playerNameInput.value.trim();

        if (!newPlayerName) {
            alert('Por favor, introduce un nombre de jugador.');
            return;
        }

        if (currentUser) {
            const users = JSON.parse(localStorage.getItem('users')) || {};
            users[currentUser.email].playerName = newPlayerName;
            localStorage.setItem('users', JSON.stringify(users));

            currentUser.playerName = newPlayerName; // Actualiza el objeto currentUser en memoria
            alert(`Tu nombre de jugador "${newPlayerName}" ha sido establecido.`);
            playerNameInput.value = ''; // Limpiar el input
            showScreen('category-screen'); // Ir a la selección de categoría
        } else {
            alert('No hay un usuario logueado. Por favor, inicia sesión primero.');
            showScreen('login-screen');
        }
    }


    // =====================================================================
    // FUNCIONES PARA GESTIÓN DE PUNTUACIONES ACUMULADAS Y HISTORIAL
    // =====================================================================

    function loadUserScores(userEmail) {
        const storedScores = JSON.parse(localStorage.getItem('userScores')) || {};
        userAccumulatedScores = storedScores;

        // Inicializar el usuario si no tiene puntuaciones previas
        if (!userAccumulatedScores[userEmail]) {
            userAccumulatedScores[userEmail] = {};
        }
        console.log(`Puntuaciones de ${userEmail} cargadas:`, userAccumulatedScores[userEmail]);
    }

    function saveUserScores(userEmail, category, score) {
        if (!userEmail || !category || typeof score !== 'number') {
            console.error("Error: Datos incompletos para guardar puntuación acumulada.");
            return;
        }

        // Asegurarse de que el usuario existe en el objeto de puntuaciones acumuladas
        if (!userAccumulatedScores[userEmail]) {
            userAccumulatedScores[userEmail] = {};
        }

        // Sumar los puntos obtenidos en la partida a la categoría correspondiente
        userAccumulatedScores[userEmail][category] = (userAccumulatedScores[userEmail][category] || 0) + score;

        // Guardar el objeto actualizado en localStorage
        localStorage.setItem('userScores', JSON.stringify(userAccumulatedScores));
        console.log(`Puntuación de ${userEmail} actualizada para ${category}: ${userAccumulatedScores[userEmail][category]}`);
    }

    function loadGameHistory() {
        const storedHistory = JSON.parse(localStorage.getItem('gameHistory')) || [];
        gameHistory = storedHistory;
        console.log("Historial de partidas cargado:", gameHistory);
    }

    function saveGameResult(players, winnerName, category) {
        // Obtenemos la fecha actual en formato DD/MM/AAAA
        const today = new Date();
        const day = String(today.getDate()).padStart(2, '0');
        const month = String(today.getMonth() + 1).padStart(2, '0'); // Meses son 0-11
        const year = today.getFullYear();
        const formattedDate = `${day}/${month}/${year}`;

        const gameResult = {
            date: formattedDate,
            players: players.map(p => p.name), // Guardar solo los nombres de los jugadores
            winner: winnerName,
            category: category
        };
        gameHistory.push(gameResult);
        localStorage.setItem('gameHistory', JSON.stringify(gameHistory));
        console.log("Resultado de partida guardado:", gameResult);
    }

    // Función para calcular victorias entre dos jugadores específicos (para la futura pantalla de stats)
    function calculateDuelWins(player1Name, player2Name) {
        let wins1 = 0;
        let wins2 = 0;
        
        // Convertir a minúsculas para una comparación insensible a mayúsculas/minúsculas
        const p1 = player1Name.toLowerCase();
        const p2 = player2Name.toLowerCase();

        gameHistory.forEach(game => {
            // Asegurarse de que el juego sea un "duelo" y que los jugadores coincidan
            if (game.players.length === 2) {
                const gamePlayersLower = game.players.map(name => name.toLowerCase()).sort(); // Ordenar para comparar independientemente del orden
                const sortedDuelPlayers = [p1, p2].sort();

                if (gamePlayersLower[0] === sortedDuelPlayers[0] && gamePlayersLower[1] === sortedDuelPlayers[1]) {
                    // Es un duelo entre estos dos jugadores
                    if (game.winner && game.winner.toLowerCase() === p1) {
                        wins1++;
                    } else if (game.winner && game.winner.toLowerCase() === p2) {
                        wins2++;
                    }
                }
            }
        });
        return { [player1Name]: wins1, [player2Name]: wins2 };
    }

    // =====================================================================
    // FUNCIONES DEL JUEGO (MODIFICADAS: loginUser, endGame, inicialización)
    // =====================================================================

    function parseDisplay(displayText) {
        const parts = displayText.split(' - ');
        if (parts.length < 2) {
            return { artist: displayText, title: '' };
        }
        return { artist: parts[0].trim(), title: parts.slice(1).join(' - ').trim() };
    }

    function generateCategoryButtons() {
        const container = document.getElementById('category-buttons');
        container.innerHTML = '';
        for (const categoryId in categoryNames) {
            if (configuracionCanciones[categoryId] && configuracionCanciones[categoryId].length >= 4) {
                const button = document.createElement('button');
                button.className = 'category-btn';
                button.innerText = categoryNames[categoryId];
                button.onclick = () => selectCategory(categoryId);
                container.appendChild(button);
            }
        }
    }

    function selectCategory(category) {
        if (!currentUser || !currentUser.playerName) {
            alert('Debes iniciar sesión y establecer tu nombre de jugador para continuar.');
            showScreen('login-screen');
            return;
        }
        gameState.category = category;
        showScreen('player-selection-screen');
    }
    
    // Función para seleccionar el número de jugadores y generar inputs de nombres
    function selectPlayers(numPlayers) {
        if (!currentUser || !currentUser.playerName) {
            alert('Debes iniciar sesión y establecer tu nombre de jugador para continuar.');
            showScreen('login-screen');
            return;
        }

        gameState.playerCount = numPlayers;
        const otherPlayerNamesInputsDiv = document.getElementById('other-player-names-inputs');
        otherPlayerNamesInputsDiv.innerHTML = ''; // Limpiar inputs anteriores
        
        // Mostrar el nombre del usuario logueado como el primer jugador
        document.getElementById('logged-in-player-name').textContent = currentUser.playerName;

        // Generar inputs para los jugadores adicionales (si hay)
        for (let i = 1; i < numPlayers; i++) {
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'text-input';
            input.placeholder = `Nombre del Jugador ${i + 1}`;
            input.id = `player-${i + 1}-name-input`;
            otherPlayerNamesInputsDiv.appendChild(input);
        }

        showScreen('player-names-input-screen'); // Mostrar la pantalla para introducir nombres
    }

    function startGame() {
        if (!currentUser || !currentUser.playerName) {
            alert('Error: No se ha encontrado el nombre del jugador principal. Por favor, inicia sesión de nuevo.');
            logout(); // Forzar cierre de sesión y redirigir
            return;
        }

        gameState.players = [];
        // Añadir el usuario logueado como el primer jugador
        gameState.players.push({ 
            id: 1, 
            name: currentUser.playerName, 
            score: 0, 
            questionsAnswered: 0, 
            questions: [] 
        });

        // Recopilar nombres de otros jugadores si existen
        for (let i = 1; i < gameState.playerCount; i++) {
            const input = document.getElementById(`player-${i + 1}-name-input`);
            const name = input.value.trim() || `Jugador ${i + 1}`;
            gameState.players.push({ 
                id: i + 1, 
                name: name, 
                score: 0, 
                questionsAnswered: 0, 
                questions: [] 
            });
        }

        gameState.totalQuestionsPerPlayer = 10; // Cada jugador responderá 10 preguntas
        // Comprobar si hay suficientes canciones para la categoría seleccionada y el número de jugadores
        const allSongsInCat = [...configuracionCanciones[gameState.category]];
        const requiredSongs = gameState.totalQuestionsPerPlayer * gameState.playerCount;

        if (allSongsInCat.length < requiredSongs) {
            console.warn(`Advertencia: No hay suficientes canciones en la categoría (${categoryNames[gameState.category]}) para ${gameState.playerCount} jugadores, cada uno con ${gameState.totalQuestionsPerPlayer} preguntas. Se necesitan ${requiredSongs} y solo hay ${allSongsInCat.length}. Ajustando el número de preguntas por jugador.`);
            gameState.totalQuestionsPerPlayer = Math.floor(allSongsInCat.length / gameState.playerCount);
            if (gameState.totalQuestionsPerPlayer < 1) { 
                 alert('No hay suficientes canciones para que cada jugador tenga al menos una pregunta. Elige otra categoría o menos jugadores.');
                 showScreen('category-screen');
                 return;
            }
        }
        
        let shuffledSongs = allSongsInCat.sort(() => 0.5 - Math.random());

        // Asignar 10 preguntas aleatorias a cada jugador desde el inicio de la partida
        for (let i = 0; i < gameState.playerCount; i++) {
            // Asegurarse de que haya suficientes canciones para cortar
            if (shuffledSongs.length >= gameState.totalQuestionsPerPlayer) {
                gameState.players[i].questions = shuffledSongs.splice(0, gameState.totalQuestionsPerPlayer);
            } else {
                // Si no hay suficientes, asignar las restantes y avisar
                gameState.players[i].questions = [...shuffledSongs];
                console.warn(`No se pudieron asignar ${gameState.totalQuestionsPerPlayer} preguntas al jugador ${gameState.players[i].name}. Solo se asignaron ${shuffledSongs.length} preguntas.`);
                shuffledSongs = []; // Vaciar el array para asegurar que no se reusen
                gameState.totalQuestionsPerPlayer = gameState.players[i].questions.length; // Ajustar para este jugador si es necesario
            }
        }
        
        gameState.currentPlayerIndex = 0; // Siempre empezar por el primer jugador
        setupQuestion();
        showScreen('game-screen');
    }

    function setupQuestion() {
        const currentPlayer = gameState.players[gameState.currentPlayerIndex];

        // Verificar si el jugador actual ha respondido todas sus preguntas
        if (currentPlayer.questionsAnswered >= gameState.totalQuestionsPerPlayer) {
            nextPlayerOrEndGame(); // Si ya terminó, pasar al siguiente jugador o finalizar
            return;
        }
        
        clearTimeout(audioPlaybackTimeout);
        audioPlayer.pause(); // Pausar cualquier audio en reproducción
        gameState.attempts = 3;
        gameState.hasPlayed = false;

        // Obtener la pregunta actual para este jugador
        const currentQuestion = currentPlayer.questions[currentPlayer.questionsAnswered];
        
        // Actualizar la interfaz del juego
        document.getElementById("player-name-display").textContent = currentPlayer.name;
        document.getElementById('category-display').innerText = categoryNames[gameState.category];
        document.getElementById('question-counter').innerText = `Pregunta ${currentPlayer.questionsAnswered + 1}/${gameState.totalQuestionsPerPlayer}`;
        document.getElementById('player-turn').innerText = `Turno de ${currentPlayer.name}`;
        document.getElementById('points-display').innerText = `Puntos: ${currentPlayer.score}`;

        updateAttemptsCounter();

        const answerButtonsContainer = document.getElementById('answer-buttons');
        answerButtonsContainer.innerHTML = ''; // Limpiar botones anteriores

        const allSongsInCat = [...configuracionCanciones[gameState.category]];
        let options = [currentQuestion];
        while (options.length < 4) {
            const randomSong = allSongsInCat[Math.floor(Math.random() * allSongsInCat.length)];
            // Asegurarse de que la opción aleatoria no sea la respuesta correcta y no esté ya en las opciones
            if (!options.some(opt => opt.file === randomSong.file) && randomSong.file !== currentQuestion.file) {
                options.push(randomSong);
            }
        }
        options.sort(() => 0.5 - Math.random());

        options.forEach(option => {
            const button = document.createElement('button');
            button.className = 'btn answer-btn';
            const parsedDisplay = parseDisplay(option.display);
            button.innerHTML = `<strong>${parsedDisplay.artist}</strong>${parsedDisplay.title}`;
            button.onclick = () => checkAnswer(option.file === currentQuestion.file, button);
            answerButtonsContainer.appendChild(button);
        });

        const playBtn = document.getElementById('play-song-btn');
        playBtn.onclick = playAudioSnippet;
        playBtn.disabled = false;
        playBtn.innerText = "▶";
    }

    function updateAttemptsCounter() {
        const counter = document.getElementById('attempts-counter');
        counter.innerText = `Intentos: ${gameState.attempts}`;
        if (gameState.attempts === 3) counter.style.backgroundColor = 'var(--correct-color)';
        else if (gameState.attempts === 2) counter.style.backgroundColor = 'var(--warning-color)';
        else counter.style.backgroundColor = 'var(--incorrect-color)';
    }

    function playAudioSnippet() {
        if (gameState.hasPlayed) return;
        gameState.hasPlayed = true;
        const durations = { 3: 4000, 2: 6000, 1: 10000 };
        const duration = durations[gameState.attempts];
        const currentPlayer = gameState.players[gameState.currentPlayerIndex];
        const currentQuestion = currentPlayer.questions[currentPlayer.questionsAnswered];

        audioPlayer.src = `audio/${gameState.category}/${currentQuestion.file}`;
        audioPlayer.currentTime = 0;
        audioPlayer.play();

        const playBtn = document.getElementById('play-song-btn');
        playBtn.innerText = "🎵";
        playBtn.disabled = true;

        audioPlaybackTimeout = setTimeout(() => {
            audioPlayer.pause();
            playBtn.innerText = "▶";
        }, duration);
    }

    function checkAnswer(isCorrect, button) {
        if (!gameState.hasPlayed) {
            alert("¡Primero tienes que pulsar el botón ▶ para escuchar la canción!");
            return;
        }
        clearTimeout(audioPlaybackTimeout);
        audioPlayer.pause();
        document.querySelectorAll('.answer-btn').forEach(btn => btn.classList.add('disabled'));

        if (isCorrect) {
            sfxAcierto.currentTime = 0;
            sfxAcierto.play();
            const points = { 3: 3, 2: 2, 1: 1 };
            gameState.players[gameState.currentPlayerIndex].score += points[gameState.attempts];
            button.classList.add('correct');
            // Incrementar las preguntas respondidas para el jugador actual
            gameState.players[gameState.currentPlayerIndex].questionsAnswered++;
            
            // Esperar antes de pasar al siguiente turno/jugador
            setTimeout(nextPlayerOrEndGame, 1500); // Llama directamente a la lógica de avance
        } else {
            sfxError.currentTime = 0;
            sfxError.play();
            button.classList.add('incorrect');
            gameState.attempts--;
            updateAttemptsCounter();
            if (gameState.attempts > 0) {
                setTimeout(() => {
                    document.querySelectorAll('.answer-btn').forEach(btn => {
                        btn.classList.remove('disabled', 'incorrect', 'correct'); 
                    });
                    gameState.hasPlayed = false;
                    const playBtn = document.getElementById('play-song-btn');
                    playBtn.disabled = false;
                    playBtn.innerText = "▶";
                }, 1500);
            } else {
                // Si no quedan intentos, el jugador actual no acertó esta pregunta, pasar al siguiente turno
                gameState.players[gameState.currentPlayerIndex].questionsAnswered++;
                setTimeout(nextPlayerOrEndGame, 1500); // Llama directamente a la lógica de avance
            }
        }
    }

    function nextPlayerOrEndGame() {
        const currentPlayer = gameState.players[gameState.currentPlayerIndex];

        // Caso de un solo jugador: siempre va directamente a la siguiente pregunta o finaliza
        if (gameState.players.length === 1) {
            if (currentPlayer.questionsAnswered >= gameState.totalQuestionsPerPlayer) {
                endGame(); // Si el único jugador ha terminado, finaliza el juego
            } else {
                setupQuestion(); // Si el único jugador tiene más preguntas, configura la siguiente para él
            }
            return; // Salir de la función después de manejar el caso de un solo jugador
        }

        // Lógica para MÚLTIPLES jugadores
        // Si el jugador actual ha respondido todas sus preguntas
        if (currentPlayer.questionsAnswered >= gameState.totalQuestionsPerPlayer) {
            gameState.currentPlayerIndex++; // Intentar pasar al siguiente jugador

            // Verificar si hay más jugadores después del actual
            if (gameState.currentPlayerIndex < gameState.players.length) {
                // Hay otro jugador: mostrar pantalla de transición
                const nextPlayer = gameState.players[gameState.currentPlayerIndex];
                document.getElementById('current-player-score-summary').textContent = 
                    `${currentPlayer.name} ha terminado su turno con ${currentPlayer.score} puntos.`;
                document.getElementById('next-player-prompt').textContent = 
                    `Siguiente jugador: ${nextPlayer.name}, ¿preparado para comenzar?`;
                showScreen('player-transition-screen');
            } else {
                // Todos los jugadores han terminado sus preguntas
                endGame();
            }
        } else {
            // El jugador actual aún tiene preguntas por responder
            setupQuestion();
        }
    }

    // Nueva función para continuar el turno del siguiente jugador
    function continueToNextPlayerTurn() {
        setupQuestion(); // Configurar el juego para el jugador que sigue
        showScreen('game-screen'); // Volver a la pantalla de juego
    }


    function endGame() {
        const finalScoresContainer = document.getElementById('final-scores');
        finalScoresContainer.innerHTML = '<h3>Puntuaciones Finales</h3>';
        
        const sortedPlayers = [...gameState.players].sort((a, b) => b.score - a.score);
        const winnerDisplay = document.getElementById('winner-display');

        if (gameState.players.length === 1) {
            // Caso de un solo jugador
            const player = gameState.players[0];
            winnerDisplay.textContent = `${player.name} has conseguido ${player.score} puntos.`;
            // Asegurarse de quitar los estilos de neón si vienen de una partida anterior
            winnerDisplay.style.animation = 'none'; 
            winnerDisplay.style.textShadow = 'none';
            winnerDisplay.style.color = 'var(--light-text-color)'; 
            winnerDisplay.style.border = 'none'; 
            winnerDisplay.style.fontSize = '1.8rem'; 

            // Guardar la puntuación acumulada para el usuario logueado (NUEVO)
            if (currentUser && currentUser.email) {
                saveUserScores(currentUser.email, gameState.category, player.score);
            }

        } else {
            // Caso de múltiples jugadores (lógica existente para ganador/empate)
            let winnerName = 'Empate'; // Valor por defecto si hay empate
            if (sortedPlayers.length > 0) {
                const topScore = sortedPlayers[0].score;
                const winners = sortedPlayers.filter(player => player.score === topScore);

                if (winners.length > 1) {
                    const winnerNames = winners.map(winner => winner.name).join(' y ');
                    winnerDisplay.textContent = `¡Hay un EMPATE! Los GANADORES son ${winnerNames} con ${topScore} puntos!`;
                    // winnerName ya es 'Empate'
                } else {
                    winnerDisplay.textContent = `¡El GANADOR es ${sortedPlayers[0].name} con ${sortedPlayers[0].score} puntos!`;
                    winnerName = sortedPlayers[0].name; // Obtener el nombre del ganador
                }
            } else {
                winnerDisplay.textContent = 'No hay ganador en esta partida.';
                winnerName = 'Nadie'; // Si no hay jugadores o puntuaciones, lo indicamos así
            }
            // Asegurarse de que los estilos de neón estén activos para multijugador
            winnerDisplay.style.animation = 'neonGlow 1.5s ease-in-out infinite alternate';
            winnerDisplay.style.textShadow = '0 0 8px var(--secondary-color), 0 0 15px var(--secondary-color)';
            winnerDisplay.style.color = 'var(--secondary-color)';
            winnerDisplay.style.borderBottom = '2px solid var(--secondary-color)';
            winnerDisplay.style.borderTop = '2px solid var(--secondary-color)';
            winnerDisplay.style.fontSize = '2.5rem';

            // Guardar la puntuación acumulada para el usuario logueado si participó (NUEVO)
            if (currentUser && currentUser.email) {
                const loggedInPlayer = gameState.players.find(p => p.email === currentUser.email); // Usar email para identificar al jugador logueado
                if (loggedInPlayer) {
                    saveUserScores(currentUser.email, gameState.category, loggedInPlayer.score);
                } else {
                    // Si el jugador logueado no está en gameState.players (ej. en partidas de invitados sin loguearse)
                    // No deberíamos llegar aquí si el flujo de login es correcto
                    console.warn("Usuario logueado no encontrado en la lista de jugadores de la partida.");
                }
            }
            
            // NUEVO: Guardar el resultado de la partida multijugador
            saveGameResult(gameState.players, winnerName, gameState.category);
        }

        // Mostrar todas las puntuaciones (siempre)
        sortedPlayers.forEach((player, index) => {
            const medal = (gameState.players.length > 1) ? ({ 0: '🥇', 1: '🥈', 2: '🥉' }[index] || '') : ''; 
            finalScoresContainer.innerHTML += `<p>${medal} ${player.name}: <strong>${player.score} puntos</strong></p>`; 
        });
        
        document.getElementById('play-again-btn').onclick = () => { 
            // Reiniciar el estado de los jugadores para una nueva partida
            gameState.players.forEach(player => {
                player.score = 0;
                player.questionsAnswered = 0;
                player.questions = []; // Importante para que startGame vuelva a asignar nuevas preguntas
            });
            showScreen('player-selection-screen'); 
        };
        showScreen('end-game-screen');
    }

    function exitGame() {
        const confirmed = confirm('¿Seguro que quieres salir del juego? Se cerrará la sesión actual.');
        if (confirmed) {
            logout();
        }
    }

    function confirmReturnToMenu() {
        const confirmed = confirm("¿Estás seguro de que quieres volver al menú principal? Perderás el progreso de esta partida.");
        if (confirmed) {
            showScreen('category-screen');
        }
    }

    // ... (Tus funciones loadUserScores, saveUserScores, loadGameHistory, saveGameResult, calculateDuelWins) ...

// =====================================================================
// FUNCIONES DE PANTALLA DE ESTADÍSTICAS
// =====================================================================

function showStatisticsScreen() {
    if (!currentUser || !currentUser.email) {
        alert("Debes iniciar sesión para ver tus estadísticas.");
        showScreen('login-screen');
        return;
    }

    showScreen('statistics-screen');
    renderUserTotalScores();
    renderDuelHistory();
}

// ... (Tus funciones de gestión de puntos y historial, y calculateDuelWins) ...

// =====================================================================
// FUNCIONES DE PANTALLA DE LISTADO DE CANCIONES (NUEVAS Y MODIFICADAS)
// =====================================================================

function showSongsListCategorySelection() {
    showScreen('songs-list-category-screen');
    const container = document.getElementById('songs-list-category-buttons');
    container.innerHTML = ''; // Limpiar botones anteriores

    for (const categoryId in categoryNames) {
        if (configuracionCanciones[categoryId] && configuracionCanciones[categoryId].length > 0) {
            const button = document.createElement('button');
            button.className = 'category-btn';
            button.innerText = categoryNames[categoryId];
            button.onclick = () => displaySongsForCategory(categoryId);
            container.appendChild(button);
        }
    }
}

function displaySongsForCategory(categoryId) {
    // CORRECCIÓN AQUÍ (MUY IMPORTANTE):
    const songs = configuracionCanciones[categoryId]; // Antes era configuracionCanciones.es[categoryId];

    const songsListContainer = document.getElementById('songs-list-container');
    const songsListCategoryTitle = document.getElementById('songs-list-category-title');

    songsListContainer.innerHTML = ''; // Limpiar lista anterior
    songsListCategoryTitle.textContent = `Canciones de ${categoryNames[categoryId]}`; // Título de la categoría

    if (!songs || songs.length === 0) {
        songsListContainer.innerHTML = '<p>No hay canciones en esta categoría.</p>';
        showScreen('songs-list-display-screen');
        return;
    }

    // Agrupar y ordenar canciones por letra inicial del artista/título
    const groupedSongs = {};
    const sortedSongs = [...songs].sort((a, b) => {
        const nameA = parseDisplay(a.display).artist || parseDisplay(a.display).title;
        const nameB = parseDisplay(b.display).artist || parseDisplay(b.display).title;
        return nameA.localeCompare(nameB);
    });

    sortedSongs.forEach(song => {
        const primaryName = (parseDisplay(song.display).artist || parseDisplay(song.display).title || 'Sin Nombre').trim();
        const firstChar = primaryName.charAt(0).toUpperCase();
        if (!groupedSongs[firstChar]) {
            groupedSongs[firstChar] = [];
        }
        groupedSongs[firstChar].push(song);
    });

    // Generar índice alfabético
    const alphaIndexDiv = document.createElement('div');
    alphaIndexDiv.className = 'alpha-index'; // Clase para CSS
    songsListContainer.appendChild(alphaIndexDiv);

    const sortedLetters = Object.keys(groupedSongs).sort();
    sortedLetters.forEach(letter => {
        const link = document.createElement('a');
        link.href = `#letter-${letter}`;
        link.textContent = letter;
        // Los estilos se aplicarán con CSS, no inline aquí
        alphaIndexDiv.appendChild(link);
    });

    // Mostrar canciones agrupadas por letra
    sortedLetters.forEach(letter => {
        const letterHeader = document.createElement('h3');
        letterHeader.id = `letter-${letter}`;
        letterHeader.textContent = letter;
        letterHeader.style.marginTop = '30px';
        letterHeader.style.marginBottom = '15px';
        letterHeader.style.color = 'var(--warning-color)';
        letterHeader.style.borderBottom = '1px solid var(--warning-color)';
        letterHeader.style.paddingBottom = '5px';
        letterHeader.style.textAlign = 'left';
        songsListContainer.appendChild(letterHeader);

        groupedSongs[letter].forEach(song => {
            const songDiv = document.createElement('div');
            songDiv.className = 'song-item-card'; 
            
            const textContent = document.createElement('span');
            textContent.style.flexGrow = '1';
            textContent.innerHTML = `<strong>${parseDisplay(song.display).artist}</strong>${parseDisplay(song.display).title ? `<br>${parseDisplay(song.display).title}` : ''}`;
            songDiv.appendChild(textContent);

            // Botón de "Oír" único
            // Solo muestra el botón si listenUrl existe y no es el placeholder de búsqueda
            if (song.listenUrl && song.listenUrl.length > 5 && !song.listenUrl.includes('URL_DE_BÚSQUEDA_PENDIENTE')) {
                const listenBtn = document.createElement('button');
                listenBtn.className = 'btn small-listen-btn';
                
                let icon = '▶'; // Icono por defecto (YouTube)
                let bgColor = '#FF0000'; // Rojo de YouTube
                let shadowColor = '#FF0000';

                if (song.platform === 'spotify') {
                    icon = '🎧'; // Icono de Spotify
                    bgColor = '#1DB954'; // Verde de Spotify
                    shadowColor = '#1DB954';
                }

                listenBtn.innerHTML = icon;
                listenBtn.onclick = () => window.open(song.listenUrl, '_blank');
                // Los estilos inline se mueven a CSS si es posible, pero para los colores dinámicos se pueden mantener aquí
                listenBtn.style.backgroundImage = `linear-gradient(45deg, ${bgColor}, ${shadowColor})`;
                listenBtn.style.boxShadow = `0 0 5px ${shadowColor}`;
                
                songDiv.appendChild(listenBtn);
            } else {
                 // Opcional: Mostrar un texto "Sin enlace" si no hay URL válida
                const noLinksText = document.createElement('span');
                noLinksText.style.fontSize = '0.8rem';
                noLinksText.style.color = 'var(--warning-color)';
                noLinksText.textContent = ' (Sin enlace)';
                textContent.appendChild(noLinksText);
            }

            songsListContainer.appendChild(songDiv);
        });
    });

    showScreen('songs-list-display-screen');
}

function renderUserTotalScores() {
    const categoryScoresList = document.getElementById('category-scores-list');
    categoryScoresList.innerHTML = ''; // Limpiar contenido anterior

    const userScores = userAccumulatedScores[currentUser.email];

    if (!userScores || Object.keys(userScores).length === 0) {
        categoryScoresList.innerHTML = '<p style="color: var(--text-color);">Aún no tienes puntos acumulados. ¡Juega para empezar a sumar!</p>';
        return;
    }

    // Convertir el objeto de puntuaciones a un array para ordenar
    const sortedCategories = Object.entries(userScores).sort(([, scoreA], [, scoreB]) => scoreB - scoreA);

    sortedCategories.forEach(([categoryId, score]) => {
        const categoryName = categoryNames[categoryId] || categoryId; // Obtener nombre legible
        const p = document.createElement('p');
        p.className = 'score-item'; // Puedes añadir CSS para esto después si quieres
        p.innerHTML = `${categoryName}: <strong>${score} puntos</strong>`;
        categoryScoresList.appendChild(p);
    });
}

function renderDuelHistory() {
    const duelList = document.getElementById('duel-list');
    duelList.innerHTML = ''; // Limpiar contenido anterior

    // Filtrar solo los duelos (partidas de 2 jugadores)
    const duels = gameHistory.filter(game => game.players.length === 2);

    if (duels.length === 0) {
        duelList.innerHTML = '<p style="color: var(--text-color);">Aún no tienes duelos registrados. ¡Desafía a un amigo!</p>';
        return;
    }

    // Agrupar duelos por pares de jugadores para calcular victorias entre ellos
    const duelPairs = {}; // Clave: "JugadorA_JugadorB" (ordenado alfabéticamente)
    duels.forEach(game => {
        // Normalizar nombres para la clave del par (insensible a mayúsculas y minúsculas)
        const playerNames = game.players.map(name => name.toLowerCase()).sort();
        const pairKey = playerNames.join('_');

        if (!duelPairs[pairKey]) {
            duelPairs[pairKey] = { players: game.players.sort(), games: [] }; // Guardar nombres originales pero ordenados para visualización
        }
        duelPairs[pairKey].games.push(game);
    });

    // Mostrar estadísticas para cada par de duelos
    for (const key in duelPairs) {
        const pair = duelPairs[key];
        const [p1Name, p2Name] = pair.players; // Nombres ordenados alfabéticamente
        const duelWins = calculateDuelWins(p1Name, p2Name); // Usa la función ya existente

        const duelSummaryDiv = document.createElement('div');
        duelSummaryDiv.className = 'duel-summary-card'; // Para CSS
        duelSummaryDiv.style.background = 'rgba(0, 0, 0, 0.2)';
        duelSummaryDiv.style.padding = '10px';
        duelSummaryDiv.style.borderRadius = '8px';
        duelSummaryDiv.style.marginBottom = '15px';
        duelSummaryDiv.style.border = '1px solid var(--primary-color)';
        
        duelSummaryDiv.innerHTML = `
            <p style="font-size: 1.1rem; font-weight: bold; color: var(--secondary-color); margin-bottom: 5px;">${p1Name} vs ${p2Name}</p>
            <p style="font-size: 0.95rem;">${p1Name}: <strong>${duelWins[p1Name]} victorias</strong> | ${p2Name}: <strong>${duelWins[p2Name]} victorias</strong></p>
            <details style="margin-top: 10px; text-align: left;">
                <summary style="font-size: 0.9rem; cursor: pointer; color: var(--warning-color);">Ver historial detallado</summary>
                <ul style="list-style-type: none; padding-left: 0;">
                </ul>
            </details>
        `;
        const detailsList = duelSummaryDiv.querySelector('ul');
        // Ordenar los juegos dentro del duelo por fecha (más reciente primero)
        pair.games.sort((a, b) => new Date(b.date.split('/').reverse().join('-')) - new Date(a.date.split('/').reverse().join('-')));

        pair.games.forEach(game => {
            const listItem = document.createElement('li');
            listItem.style.fontSize = '0.85rem';
            listItem.style.marginBottom = '3px';
            listItem.style.color = 'var(--text-color)';
            listItem.textContent = `Fecha: ${game.date}, Ganador: ${game.winner}, Categoría: ${categoryNames[game.category]}`;
            detailsList.appendChild(listItem);
        });

        duelList.appendChild(duelSummaryDiv);
    }
}
    

    // =====================================================================
    // INICIALIZACIÓN (Modificada para gestionar sesión)
    // =====================================================================

    window.onload = () => {
        generateCategoryButtons();
        // Intentar cargar la sesión del usuario
        const loggedInUserEmail = localStorage.getItem('loggedInUserEmail');
        if (loggedInUserEmail) {
            const users = JSON.parse(localStorage.getItem('users')) || {};
            const user = users[loggedInUserEmail];
            if (user) {
                currentUser = { email: loggedInUserEmail, playerName: user.playerName };
                if (currentUser.playerName) {
                    showScreen('category-screen'); // Si ya tiene nombre, va directo a categorías
                } else {
                    showScreen('set-player-name-screen'); // Si está logueado pero sin nombre, va a establecer nombre
                }
            }
             else {
                // Si el email guardado no corresponde a un usuario, limpiar sesión y mostrar login
                localStorage.removeItem('loggedInUserEmail');
                showScreen('login-screen');
            }
        } else {
            showScreen('home-screen'); // Si no hay sesión, ir a la pantalla de inicio (que redirigirá a login)
        }
    };
    </script>
</body>
</html>
>>>>>>> efac8fae2e7e94295948e06ea63b4e25af0137c4
